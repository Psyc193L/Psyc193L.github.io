[{"path":"index.html","id":"syllabus","chapter":"1 Syllabus","heading":"1 Syllabus","text":"","code":""},{"path":"index.html","id":"basic-info","chapter":"1 Syllabus","heading":"1.1 Basic Info","text":"Psyc193L: Introduction R Social SciencesSummer Session 1 2022Lecture: MTuWTh 11:00a-11:50aLab: TuTh 12:00p-12:50phttps://ucsd.zoom.us//ethanhurwitz","code":""},{"path":"index.html","id":"course-description","chapter":"1 Syllabus","heading":"1.2 Course Description","text":"Whether academia, industry, clinical settings, interested social sciences data science, going work data. ’ll using data perform analyses, make visualizations, try answer questions. Using programming languages coding-based approaches increasingly favored GUI-based approaches (e.g., Excel, JMP, SPSS, etc.). goal course provide introduction one programming language, R.","code":""},{"path":"index.html","id":"course-objectives","chapter":"1 Syllabus","heading":"1.3 Course Objectives","text":"3 main sections content course:R BasicsData Manipulation CleaningData VisualizationAlong way, learn use R …Import data cleaningWrangle Prep data analyzingMake publication-ready visualizationsCommunicate learned data …literate programming documentsIn APA formatted written reportContribute open reproducible science …Adopting good coding project management practicesSharing data research reports onlineThis course designed , end, able use R successfully accomplish basic tasks ’ll classes lab volunteering. Content chosen specifically based students mentioned often.","code":""},{"path":"index.html","id":"what-kind-of-preparation-is-expected-for-this-course","chapter":"1 Syllabus","heading":"1.4 What Kind of Preparation Is Expected For This Course?","text":"None! prerequisites course, need prior knowledge experience coding. However, experience, may find useful.","code":""},{"path":"index.html","id":"instruction-team","chapter":"1 Syllabus","heading":"1.5 Instruction Team","text":"ProfessorName: Ethan HurwitzEmail: ehurwitz@ucsd.eduOffice Hours: TBD","code":""},{"path":"index.html","id":"lecture-vs.-lab-sessions","chapter":"1 Syllabus","heading":"1.6 “Lecture” vs. “Lab” Sessions","text":"official schedule classes specifies separate “lecture” “lab” sessions course, take distinction seriously. “Lecture” sessions consist exclusively traditional lecture, “lab” sessions consist exclusively traditional guided laboratory exercises. given day, likely encounter mix brief lecture, group discussion, /hands-activities.","code":""},{"path":"index.html","id":"what-tools-will-we-be-using-in-this-class","chapter":"1 Syllabus","heading":"1.7 What Tools Will We Be Using In This Class?","text":"course materials free. enough expenses, interested adding unnecessarily.Computer R RStudio\nprogramming course, hard get without computer! need download R RStudio.\ncan download R .\ncan download RStudio . must download R RStudio.\ncan find quick tutorial getting R ready computer .\nprogramming course, hard get without computer! need download R RStudio.can download R .can download RStudio . must download R RStudio.can find quick tutorial getting R ready computer .Website\n’re looking right now! website main hub course-related material. uploading lecture notes, information assignments, etc.\n’re looking right now! website main hub course-related material. uploading lecture notes, information assignments, etc.Canvas\nCanvas used posting grades. ’s pretty much !\nCanvas used posting grades. ’s pretty much !Discord\nuse Discord central place manage questions class, communicate , easily copy/paste code sharing.\nuse Discord central place manage questions class, communicate , easily copy/paste code sharing.Zoom\nClass remote, class periods office hours held via Zoom!\nClass remote, class periods office hours held via Zoom!","code":""},{"path":"index.html","id":"grades","chapter":"1 Syllabus","heading":"1.8 Grades","text":"","code":""},{"path":"index.html","id":"what-are-the-graded-assignments-in-this-class","chapter":"1 Syllabus","heading":"1.8.1 What Are the Graded Assignments In This Class?","text":"class EXAMS. Yes, right.Time constrained coding reflective real-world scenarios (least ’ll initially find ).Exams good job assessing whether learning want learn.However, must things grade . following:Attendance ActivitiesThese practice exercises done class apply concepts/material introducing.\nForces participate provides grade buffer easy points.\nForces participate provides grade buffer easy points.(Weekly) Practice Question SetsThese similar format practice exercises done class, done .\nProvides opportunity practice applying new skills ideas , still directed, hand hold-y, way.\noften time work class.\nProvides opportunity practice applying new skills ideas , still directed, hand hold-y, way.often time work class.Skills Challenges (3x)one skills challenge 3 main sections content covered course.\nSkills challenges similar practice question sets use different data.\nalso questions abstract/conceptual, require really thinking data ’re working (similar outside class).\nSkills challenges similar practice question sets use different data.also questions abstract/conceptual, require really thinking data ’re working (similar outside class).Final ProjectYou :Choose dataset provided list options come research questions can answer data.Include brief literature review provide sources help justify provide rationale hypothesized answers questions.Clean/change/modify/whatever data get form can answer questions, create visualizations summary statistics demonstrate answers.\nreminiscent Results section look like peer-reviewed journal article.\nreminiscent Results section look like peer-reviewed journal article.paper largely just explaining ’ve done.\ndata contain?\nquestions?\npossible answers?\npredictions ?\nexpect see predictions accurate? accurate?\n(explain code words)?\nShow visualizations summary statistics explain/interpret .\ndata contain?questions?possible answers?predictions ?expect see predictions accurate? accurate?(explain code words)?Show visualizations summary statistics explain/interpret .thing create literate programming document project. expound later, code document create thoroughly annotated others’ understanding.","code":""},{"path":"index.html","id":"grade-breakdown","chapter":"1 Syllabus","heading":"1.8.2 Grade Breakdown","text":"course designed facilitate engagement effort material. going help learn develop R skills actually practice coding, lot. thus, view, counter-productive single heavily weighted assignment (exam). full grade breakdown follows:Final letter grades course assigned according following percentage scale:Grades rounded nearest hundredth point stated letter grade cutoffs applied without exception. plan “curve” grades course. instructor reserves right adjust students’ grades set value deemed appropriate, grades adjusted circumstances.earn + course, must work truly outstanding quality. + grades awarded discretion (set grade percentage earn grade).","code":""},{"path":"index.html","id":"is-code-graded-for-quality","chapter":"1 Syllabus","heading":"1.8.3 Is Code Graded For Quality?","text":"!\nArtwork Horst (2022)\nintro course assumes prior knowledge. long code ultimately gives want, aren’t cheating breaking rules, doesn’t matter circuitous un-glamorous code !","code":""},{"path":"index.html","id":"course-policies-and-other-info","chapter":"1 Syllabus","heading":"1.9 Course Policies and Other Info","text":"","code":""},{"path":"index.html","id":"academic-integrity","chapter":"1 Syllabus","heading":"1.9.1 Academic Integrity","text":"students expected adhere standards academic integrity. Cheating kind assignment tolerated. disrespectful peers, university, . Especially considering course designed grading scheme rewards effort engagement disproportionately favor correctness.unsure might constitute violation academic integrity, consult /UCSD website academic integrity. evidence academic misconduct reported Academic Integrity Office. Consequences academic misconduct may include failing grade course official action University. Please, make . struggling course content anything else, reach .","code":""},{"path":"index.html","id":"attendance","chapter":"1 Syllabus","heading":"1.9.2 Attendance","text":"Attendance strongly encouraged, decision hold course remotely made order maximize ability students attend synchronously, required. Participation based activity completion, can completed asynchronously. HOWEVER, much difficult alone, often go answers class.","code":""},{"path":"index.html","id":"extensions","chapter":"1 Syllabus","heading":"1.9.3 Extensions","text":"assignments due dates give fair amount time complete . Granted, Summer Session course, things move accelerated pace. said, pretty reasonable person grant extensions reasonable circumstances (stressed warrant extension). Please reach struggling unique situations arise.","code":""},{"path":"index.html","id":"emaildiscord-dms","chapter":"1 Syllabus","heading":"1.9.4 Email/Discord DMs","text":"prefer ask question privately, may DM Zoom, email , send DM discord, come office hours. preference Zoom DM Discord DM, check frequently. choose email, please include “PSYC 193L” subject line emails. make sure see message timely manner.","code":""},{"path":"index.html","id":"osd-accommodations","chapter":"1 Syllabus","heading":"1.9.5 OSD Accommodations","text":"student documented disability accommodated according University policy. details, please consult Office Students Disabilities (OSD). require accommodation component course, please provide documentation OSD soon possible. Please note accommodations made retroactively circumstances. example, submit Skills Challenge afterward provide documentation require extra time, receive accommodation subsequent assignments one already taken.","code":""},{"path":"index.html","id":"extra-credit","chapter":"1 Syllabus","heading":"1.9.6 Extra Credit","text":"may earn 2 points extra credit added overall grade course. One points can earned completing SONA participation credits (worth 0.5 points ). sign experiment, go SONA website. earn full point extra credit class, must complete 2 SONA credits.second extra credit point can earned completing CAPEs course well additional survey sent end quarter. 80% class completes surveys, entire class earn 1 extra credit point.","code":""},{"path":"index.html","id":"what-we-expect-from-you","chapter":"1 Syllabus","heading":"1.10 What We Expect From You","text":"","code":""},{"path":"index.html","id":"values-we-share","chapter":"1 Syllabus","heading":"1.10.1 Values We Share:","text":"genuinely committed equality, diversity, inclusion course. Consistent UC San Diego Principles Community, aim provide intellectual environment welcoming, nurturing challenging, respects full spectrum human diversity race, ethnicity, gender identity, age, socioeconomic status, national origin, sexual orientation, disability, religion. sincerely hope share commitment actively creating maintaining safe environment founded mutual respect support. clear, course affirms people gender expressions gender identities. prefer called different name indicated class roster, please let know. Feel free correct preferred gender pronoun. questions concerns, please hesitate contact .","code":""},{"path":"index.html","id":"code-of-conduct","chapter":"1 Syllabus","heading":"1.10.2 Code of Conduct:","text":"need become friends fellow students class, expected treat courtesy respect. class harassment-free learning experience everyone regardless gender, gender identity expression, sexual orientation, disability, physical appearance, body size, race, age, religion. Harassment form tolerated. someone makes anyone else feel unsafe unwelcome, please report soon possible. comfortable approaching , may also contact UC San Diego Office Ombuds.","code":""},{"path":"index.html","id":"what-will-we-learn","chapter":"1 Syllabus","heading":"1.11 What Will We Learn?","text":"brand new course, first time offered. designing new course, lot content potentially cover!\nArtwork Horst (2022)\nchoosing content include, philosophy:wanted spend time practicing skills deeply learned, rather cover broader array material less depth.\nFocusing narrower amount content affords practice time content better learning.\nwanted spend time practicing skills deeply learned, rather cover broader array material less depth.Focusing narrower amount content affords practice time content better learning.decided focus skills things likely applying soon classI decided focus skills things likely applying soon classI spoke students come R classes, asked :\n/use often?\nwish learned?\nShowed things considered including asked thought helpful.\nspoke students come R classes, asked :/use often?wish learned?Showed things considered including asked thought helpful.answers questions helped determine content include class.answers questions helped determine content include class.always happy chat things outside scope course content! office hours email/discord/whatever.\n\n\n\n\n\n\nalways happy chat things outside scope course content! office hours email/discord/whatever.\n\n\n\n\n\n","code":""},{"path":"index.html","id":"words-of-advice","chapter":"1 Syllabus","heading":"1.12 Words of Advice","text":"Learning new language, particularly programming language, can frustrating times!\nArtwork Horst (2022)\ntruly roller coaster. time, effort, perseverance, surprised much know able (much can learn )!\nArtwork Horst (2022)\n","code":""},{"path":"index.html","id":"how-to-be-successful-in-this-course","chapter":"1 Syllabus","heading":"1.13 How to be Successful in this Course:","text":"Learn troubleshoot things . entails learning google debug. don’t want help , impactful learning can come solve problem .Learn troubleshoot things . entails learning google debug. don’t want help , impactful learning can come solve problem .Don’t hesitate ask questions help. try solely struggle alone, often work well. Ask teaching team classmates questions.Don’t hesitate ask questions help. try solely struggle alone, often work well. Ask teaching team classmates questions.Pay attention. obvious advanced hard course. don’t come prepared learn paying attention, really difficult .Pay attention. obvious advanced hard course. don’t come prepared learn paying attention, really difficult .Practice. , skill. learn R effectively just reading instructional material. actually . Write shitty code, fail, see went wrong, read error messages, write better code.Practice. , skill. learn R effectively just reading instructional material. actually . Write shitty code, fail, see went wrong, read error messages, write better code.Try keep good mindset. Acknowledge challenging, impossible, help available know expectations .Try keep good mindset. Acknowledge challenging, impossible, help available know expectations .proactive. Summer Session course, moving quickly material. constantly wait last minute things, run risk just missing work, falling behind trouble able catch .proactive. Summer Session course, moving quickly material. constantly wait last minute things, run risk just missing work, falling behind trouble able catch .","code":""},{"path":"index.html","id":"acknowledgements","chapter":"1 Syllabus","heading":"1.14 Acknowledgements","text":"’d like directly thank Emma Geller (endlessly), Judy Fan, Angela Lowe, sharing syllabi materials, teaching philosophy, mentorship. Throughout course, use many illustrations created brilliant Allison Horst.","code":""},{"path":"index.html","id":"references","chapter":"1 Syllabus","heading":"1.15 References","text":"","code":""},{"path":"why-use-r.html","id":"why-use-r","chapter":"2 Why use R?","heading":"2 Why use R?","text":"Consider main tasks Social Sciences. sciences, work data. inspect manipulate data different ways, modify make amenable analysis visualizations. Visualizations statistical analyses help us explore relationships observed real world test relationships experiments/studies. use communicate findings general public.want use R programming language vs Graphical User Interface (GUI) software like Excel, JMP, SPSS, SAS, ?Let’s start simple, practical, considerations:R free. software .R can handle large datasets, GUI-based software struggle often crash .R open-source language, means anyone can contribute . results constantly evolving improving, increasing capabilities.consequence , R, can perform MUCH complex sophisticated statistical analyses data visualization. R literally created purpose!important, however, one main reasons use programming language accomplish main tasks Social Sciences Reproducibility.Excel conventional statistics software like SPSS use point--click GUI, thus lack simple way document share analyses. makes repeating editing work later hard ’ll need rely memory repetition. hard work backwards end result see arrived isn’t documented anywhere. “reinvent wheel” perform analysis across different data sets. R open-source interpreted programming language. Instead pointing clicking software accomplish tasks, write code execute . code write read evaluated line line documents save. practical consequences :Selfishly, allows prepare cleaning, analysis, visualization code beforehand. soon finish data collection, can just run code ’ve written ’ll immediately done!Also, allows automate tasks . way, don’t repeat process clicking GUI re-thing many times.\nSource: trendct.org\nAllows create literate programming documents (markdown, later) – explain English code . drastically helps communicate results making code interpretable, even re-visit weeks/months/years line.\n“always working least one collaborator: Future .”-Hadley Wickham\n“always working least one collaborator: Future .”-Hadley WickhamOften times working non-collaborators, makes easier. People can build work (code writing) ’ve done see step step exactly work .Generally, helps others able see exactly run analyses . great practice open-science movement, can actually help fight back critiques questions data/analyses.\nArtwork Horst (2022)\nR particular instead programming language?“Python?” – might ask. learn ! Python great advanced machine learning (neural networks deep learning), fMRI image analyses, lots advanced programming things. However, data science tasks social scientists researchers often concerned , R preferable uses basic syntax approach everything. Python, toolbox may bigger, tools different.\nTobi Gerstenberg’s Statistical Methods Behavioral Social Sciences class\n","code":""},{"path":"why-use-r.html","id":"r-tools","chapter":"2 Why use R?","heading":"2.1 R tools","text":"","code":""},{"path":"why-use-r.html","id":"base-r-vs-rstudio","chapter":"2 Why use R?","heading":"2.1.1 Base R vs RStudio","text":"talk R, referring programming language R . use RStudio help us write use R. RStudio Integrated Development Environment (IDE). Basically, provides interface make writing using R code easier.R can downloaded .RStudio can downloaded .\nmust download R RStudio.\nmust download R RStudio.","code":""},{"path":"why-use-r.html","id":"rstudio-tour","chapter":"2 Why use R?","heading":"2.1.2 RStudio Tour","text":"Generally speaking, ’ll see 4 sections RStudio window. Let’s quickly overview .R file / documentThis contents file write code. usually largest section top left window.ConsoleThis code executed/ran, output code appears running. can run line code file clicking line pressing command+enter OSX, control+enter windows.EnvironmentThis defined objects , later.Extra/swiss army knife sectionThis graphs/visualizations make appear (plots), list installed loaded packages (Packages), R Documentation functions look (Help).","code":""},{"path":"why-use-r.html","id":"customize-your-rstudio","chapter":"2 Why use R?","heading":"2.1.3 Customize Your RStudio","text":"Looking default white screen long time can put lot strain eyes. RStudio comes lot different themes can apply going :preferences -> appearance. personally use custom theme called “Mojave Dark” (one see screenshots called “Cobalt”). theme use personal preference.Additionally, ’s two settings tweaks make. Go preferences …R Markdown -> deselect “show output inline R markdown documents”Code -> Display -> check Rainbow Parentheses","code":""},{"path":"why-use-r.html","id":"different-types-of-files","chapter":"2 Why use R?","heading":"2.1.4 Different types of files","text":"three main types R files.R scripts (“fileName.r”) contain R code.R markdown notebooks (“fileName.rmd”) contain text, code, outputs.\nArtwork Horst (2022)\nRData files (“fileName.RData”), contain saved R objects/variables.use markdown files enable us easily annotate code create literate programming documents. also allow us easily abide general programming philosophy called “separation concerns,” says code organized distinct sections, handling specific task. enables quickly navigate code know look something isn’t working intended.Markdown files can also used create documents help communicate data analysis pipeline. use word, every time figure result changes, go copy/paste bunch stuff, make million changes throughout, save new files, ’s nuisance often error prone. R Markdown files living, breathing documents. Figures results automatically updated data changed. Also, everything one place. fact, looking output markdown file!\nArtwork Horst (2022)\n","code":""},{"path":"why-use-r.html","id":"components-of-a-markdown-file","chapter":"2 Why use R?","heading":"2.1.5 Components of a Markdown File","text":"Markdown files 2 components:General text, like isCode chunks, like :put code inside chunks, text outside. can comment text starting line hashtag. Comments text ignored R running code.create code chunk putting three back-ticks ( ``` ) two lines break ,adding set curly brackets {} “r” next first set backticks: ```{r}can also insert code chunks pressing control+options+OSX control+alt+windows (r full nifty shortcuts!)Generally speaking, want name code chunks help readily identify task section code handling.","code":"\n# This is a code chunk -- essentially mini r files\n# You put R code inside chunks, text outside.\n# You can comment out text by starting the line with a hashtag. \n  # Comments are text that is not run."},{"path":"why-use-r.html","id":"resources","chapter":"2 Why use R?","heading":"2.2 Resources:","text":"good resources help throughout class R learning journey.R CheatsheetsA particularly useful cheatsheetSolutions common problemsWorking consoleKeyboard shortcutsTips efficient codeFunctional Programming (Advanced)","code":""},{"path":"r-coding-basics.html","id":"r-coding-basics","chapter":"3 R Coding Basics","heading":"3 R Coding Basics","text":"Exercise SheetOkay R?","code":""},{"path":"r-coding-basics.html","id":"operators","chapter":"3 R Coding Basics","heading":"3.1 Operators","text":"","code":""},{"path":"r-coding-basics.html","id":"arithmetic-operators","chapter":"3 R Coding Basics","heading":"3.1.1 Arithmetic Operators","text":"R programming language used statistical modeling, data analysis, visualization. core, uses operators evaluate different statements. basic form using arithmetic operators perform arithmetic operations:","code":"\n2 + 2\n#> [1] 4\n6 / 2\n#> [1] 3\n3^2\n#> [1] 9\n10 %% 4\n#> [1] 2\n3^2/2*5/2\n#> [1] 11.25"},{"path":"r-coding-basics.html","id":"comparison-operators","chapter":"3 R Coding Basics","heading":"3.1.2 Comparison Operators","text":"Return TRUE FALSE values (aka booleans):can look simple test expressions see evaluate:","code":"\n6 > 4\n#> [1] TRUE\n(2+4) < (8+8)\n#> [1] TRUE\n2.5 <= 2.5\n#> [1] TRUE"},{"path":"r-coding-basics.html","id":"logical-operators","chapter":"3 R Coding Basics","heading":"3.1.3 Logical Operators","text":"Look simple test expressions see evaluate:TRUE also = 1, FALSE also = 0.Programming languages often makes use booleans (TRUE FALSE), using logical operators simple logical test see expression evaluates TRUE FALSE. bit!\nNote: must use CAPS (spell logical’s name)\n","code":"\nTRUE & FALSE\n#> [1] FALSE\nTRUE | FALSE\n#> [1] TRUE\n!FALSE\n#> [1] TRUE\nTRUE < FALSE\n#> [1] FALSE\nTRUE + TRUE\n#> [1] 2\nTRUE + FALSE \n#> [1] 1"},{"path":"r-coding-basics.html","id":"variable-assignment","chapter":"3 R Coding Basics","heading":"3.2 Variable Assignment","text":"can also define objects (variables) save values strings code . Variables store information can access later. R, assign value variable assignment operator: = <-:x = 4x <- 4Think = <- mean “gets”. statements mean, “x gets 4”.R, conventionally, use <-. languages, use =. main argument using = sometimes can run trouble accidentally use = mean use ==. big deal languages performing arithmetic core. typically use = default since use one language, ’d recommend using <- beginner.reference access information stored variable, “call” (type code) variable’s name:R programming language, specific finicky. must precise code.Running code give :\nError: object ‘myvar’ found\nSmall typos like one can cause big issues!\nArtwork Horst (2022)\n","code":"\nx = 4\nx\n#> [1] 4\nx+2\n#> [1] 6\nx + x\n#> [1] 8\ny = x + 4\ny\n#> [1] 8\nz = \"Hello world\"\nz\n#> [1] \"Hello world\"\nmyVar = 4\nmyVar\n#> [1] 4\nmyVar = 4\nmyvar"},{"path":"r-coding-basics.html","id":"variabledata-modes-types","chapter":"3 R Coding Basics","heading":"3.3 Variable/Data modes (types)","text":"R classifies data works different types storage modes, can organized different categories:\nArtwork Horst (2022)\n. ContinuousNumeric – Whole numbers decimalsIntegers (int) - whole numbers\nDouble-precision (dbl) - real numbers (floating point numerical values)\nDouble-precision (dbl) - real numbers (floating point numerical values)B. DiscreteCharacter (chr) - string characters/text (can use \" ’)Logical (lgl) - logical TRUE FALSEFactor (fctr) - factors, R uses represent categorical variables fixed possible values discrete data. Useful true categorical data, want override ordering character vectors improve displayThere data types (e.g., date) largely avoid working .Variables automatically dynamically assigned one modes based assigned . can check type data using typeof() function (functions later!).","code":"\ny\n#> [1] 8\ntypeof(y)\n#> [1] \"double\"\nz\n#> [1] \"Hello world\"\ntypeof(z)\n#> [1] \"character\""},{"path":"r-coding-basics.html","id":"global-environment","chapter":"3 R Coding Basics","heading":"3.4 Global environment","text":"workspace’s global environment contain objects ’ve saved R session, including variables, functions, data, etc. can print workspace code ls(). previously saved objects x, y, z, myVar. run ls(), see four objects.can remove objects environment rm() command.x object longer . rm() permanent, careful!may thought, “y = x + 2, remove x, won’t error?” good question answer , saving exact value x variable y. x dynamic value, rather set x = 4, anytime R reads “x”, replace “4”. set y equal 4 + 2. R, variable declared (set = <-), ’s value change unless explicitly overwrite .want clear entire workspace (good practice beginning script), type rm(list=ls()) – saying remove (rm) objects workspace (ls()).","code":"\nls()\n#> [1] \"myVar\" \"x\"     \"y\"     \"z\"\nrm(x)\n\nls()\n#> [1] \"myVar\" \"y\"     \"z\""},{"path":"r-coding-basics.html","id":"data-objects","chapter":"3 R Coding Basics","heading":"3.5 Data Objects","text":"obviously want evaluate simple expressions R. end, point going need save just single value variable! many different types data objects, structures can hold data. going focus 2 particular: vectors data frames.","code":""},{"path":"r-coding-basics.html","id":"Vectors","chapter":"3 R Coding Basics","heading":"3.5.1 Vectors","text":"Often times want work series values (elements). (Atomic) Vectors exactly ! item vector element. initiate vector c():Arithmetic logical operations can performed vector (one computationally efficient ways code):Observe output . notice?elements vector type data. R automatically coerce (change) data types elements vector match . careful can often cause issues!","code":"\n# Replace the X with some numbers to create a vector. Add more in if you'd like.\nmyVector = c(4,2,0,6,9)\nmyVector\n#> [1] 4 2 0 6 9\n# Can also store text, not just numbers.\ny = \"hello\"\ny\n#> [1] \"hello\"\n# Or strings of text\ny = c(\"hello\", \"world\")\ny\n#> [1] \"hello\" \"world\"\nmyVector * 2\n#> [1]  8  4  0 12 18\nmyVector > 4\n#> [1] FALSE FALSE FALSE  TRUE  TRUE\nc(1, \"hello\")\n#> [1] \"1\"     \"hello\""},{"path":"r-coding-basics.html","id":"indexing-vectors","chapter":"3 R Coding Basics","heading":"3.5.1.1 Indexing Vectors","text":"“Indexing” term used refer process selecting pulling specific elements object. can index vector following variable name set brackets specify numerical position element want.","code":"\n# Replace the X with a number to index that element in the vector.\n\n# Here, select the second element in the vector. \n# Done so by putting 2 in brackets after the vector to \n# say: \"index the second element of this object\"\nmyVector[2] \n#> [1] 2"},{"path":"r-coding-basics.html","id":"dataframes","chapter":"3 R Coding Basics","heading":"3.5.2 Dataframes","text":"time going working just one vector values. Instead, set different data (dataset). common data structure used R data frame (df), used datasets. majority work Social Sciences involving data frames. , ’s good get used early!can think data frame like excel spreadsheet: series equal length vectors, vector treated column elements vectors rows. time using data frame loading dataset existing file. However, can also create scratch:","code":"\ndata.frame()\n#> data frame with 0 columns and 0 rows\n# Column name in quotes, values as vectors\ndata.frame(\"Exam\" = c(1:4), \n           \"Score\" = c(88,90,77,98)) \n#>   Exam Score\n#> 1    1    88\n#> 2    2    90\n#> 3    3    77\n#> 4    4    98\n# When only one value is specified, it will be repeated. \ndata.frame(\"Exam\" = c(1:4), \n           \"Score\" = c(88,90,77,98), \n           \"Student\" = c(\"Dave\")) \n#>   Exam Score Student\n#> 1    1    88    Dave\n#> 2    2    90    Dave\n#> 3    3    77    Dave\n#> 4    4    98    Dave\n# If two, it will cycle between the two.\ndata.frame(\"Exam\" = c(1:4), \n           \"Score\" = c(88,90,77,98), \n           \"Student\" = c(\"Dave\", \"Ally\")) \n#>   Exam Score Student\n#> 1    1    88    Dave\n#> 2    2    90    Ally\n#> 3    3    77    Dave\n#> 4    4    98    Ally"},{"path":"r-coding-basics.html","id":"indexing-dfs","chapter":"3 R Coding Basics","heading":"3.5.2.1 Indexing dfs","text":", isolating specific part object called indexing.common way index columns data frame using $ sign. wanted score column data frame, ’d use df$ScoreNote difference two. index column brackets, pulling entire column . data frame, output list, can’t always use directly functions. index $, however, output vector just values, can used many functions. quick way check object’s type using typeof() function (common programming languages). Let’s check types two objects see happens try find mean scores:Since output $ indexing vector, can index get particular element want, just !Instead using $ index name, can also use double brackets:may familiar knowledge coding languages, little verbose.","code":"\ndf = data.frame(\"Exam\" = c(1:4), \n                \"Score\" = c(88,90,77,98), \n                \"Student\" = c(\"Dave\"))\ndf\n#>   Exam Score Student\n#> 1    1    88    Dave\n#> 2    2    90    Dave\n#> 3    3    77    Dave\n#> 4    4    98    Dave\n  # Below are a few ways to index different parts of a dataframe. \n  # Replace the X's to test things as I talk through it.\n\n# [column] (single value only selects columns)\n# Select the second row of our df\ndf[2]\n#>   Score\n#> 1    88\n#> 2    90\n#> 3    77\n#> 4    98\n# [row,column] to select a single element using numbers \n# Select the value in the second row of the first column \ndf[2,1]\n#> [1] 2\n# Leave one value blank to select all\n# Select the value of the first row of all columns\ndf[1,]\n#>   Exam Score Student\n#> 1    1    88    Dave\n# Select the value of the first column of all rows\ndf[,1]\n#> [1] 1 2 3 4\ndf$Score\n#> [1] 88 90 77 98\ndf[2]\n#>   Score\n#> 1    88\n#> 2    90\n#> 3    77\n#> 4    98\ndf[2]\n#>   Score\n#> 1    88\n#> 2    90\n#> 3    77\n#> 4    98\ntypeof(df[2])\n#> [1] \"list\"\nmean(df[2])\n#> Warning in mean.default(df[2]): argument is not numeric or\n#> logical: returning NA\n#> [1] NA\ndf$Score\n#> [1] 88 90 77 98\ntypeof(df$Score)\n#> [1] \"double\"\nmean(df$Score)\n#> [1] 88.25\n# Name of the second Student\ndf$Student[2] \n#> [1] \"Dave\"\ndf[[\"Student\"]] # Same as before but using [[]] instead of $\n#> [1] \"Dave\" \"Dave\" \"Dave\" \"Dave\"\ndf[[\"Student\"]][2] # Same as above\n#> [1] \"Dave\""},{"path":"r-coding-basics.html","id":"tibbles","chapter":"3 R Coding Basics","heading":"3.5.3 Tibbles","text":"another type data object often encounter working datasets: Tibbles. Tibbles relatively new, default data object created many packages functions use often course.Hadley Wickham (dude created tibbles, much code ’ll use) describes :“Tibbles data frames, tweak older behaviors make life little easier. R old language, things useful 10 20 years ago now get way. ’s difficult change base R without breaking existing code, innovation occurs packages.\nTibbles data.frames lazy surly: less (.e. don’t change variable names types, don’t partial matching) complain (e.g. generate warning variable/column trying index exist). forces confront problems earlier, typically leading cleaner, expressive code.”","code":""},{"path":"using-r-effectively.html","id":"using-r-effectively","chapter":"4 Using R Effectively","heading":"4 Using R Effectively","text":"Exercise SheetThere many things can set success make life easier (now future). really important start implementing good practices ASAP establish good habits early . much harder break routines later. going cover coding best practices general well things specific R RStudio.’ll remind quote mentioned previously:always working least one collaborator: Future .\"-Hadley WickhamEven selfish purposes , ignore impact anyone else, help future . Don’t put future position mad current !","code":""},{"path":"using-r-effectively.html","id":"rstudio","chapter":"4 Using R Effectively","heading":"4.1 RStudio","text":"","code":""},{"path":"using-r-effectively.html","id":"settings","chapter":"4 Using R Effectively","heading":"4.1.1 Settings","text":"number settings tweaks ’ll want make help force good habits.“Restore .RData workspace startup” unselected\nmake RStudio load .RData file () found initial working directory R workspace (global environment) startup.\nmake RStudio load .RData file () found initial working directory R workspace (global environment) startup.“Save workspace .RData exit” set Never\nAsk whether save .RData exit, always save , never save .\nAsk whether save .RData exit, always save , never save .basically just make variables saved data floating around global environment get preserved automatically loaded R closes. can create -reliance things just exist locally files. much contra whole aim benefit reproducibility using R! always able easily re-run code get anything need.can also cause weird behavior R sessions things may still saved workspace don’t realize .thus best practice feel attached stuff workspace. need something, rerun code get ! things think hard replicate, ’s problem need fix!Particularly time can’t predict things go wrong…\nArtwork Horst (2022)\nsettings changes help fix . Something else can regularly restart R, clear content, re-run code scripts (particularly development!). can restart R Session menu, keyboard shortcut cmd/ctrl+shift+F10. can clear workspace output using brooms!Upper right pane: click environment tab, click broomUpper right pane: click environment tab, click broomLower left pane: console tab (top right), click broom tooLower left pane: console tab (top right), click broom tooOne settings change make :“Soft-wrap R source files” selected\njust make written code easier read, won’t scroll horizontally. impacts working RStudio, outputs!\njust make written code easier read, won’t scroll horizontally. impacts working RStudio, outputs!Full explanation different RStudio settings can found .","code":""},{"path":"using-r-effectively.html","id":"r-projects","chapter":"4 Using R Effectively","heading":"4.2 R Projects","text":"Something strongly encourage creating new R Project every project work . really great tutorial R projects . Rather reinvent wheel, ’ll just summarize highlight key pieces information.","code":""},{"path":"using-r-effectively.html","id":"why-use-them","chapter":"4 Using R Effectively","heading":"4.2.1 Why use them?","text":"“’s nothing frustrating coming back project months (sometimes years) later spend days (weeks) figuring everything , . well documented project consistent logical structure increases liklihood can pick left minimal fuss matter much time passed. addition, ’s much easier write code automate tasks files well organised sensibly named. even relevant nowadays ’s never easier collect vasts amount data can saved across 1000’s even 100,000’s separate data files. Lastly, well organised project reduces risk introducing bugs errors workflow occur (inevitably point), makes easier track errors deal efficiently.”","code":""},{"path":"using-r-effectively.html","id":"what-are-they","chapter":"4 Using R Effectively","heading":"4.2.2 What are they?","text":"“RStudio Project keeps R scripts, R markdown documents, R functions data together one place. nice thing RStudio Projects project directory, workspace, history source documents different analyses working kept completely separate . means can multiple instances RStudio open time (’s thing) can switch easily projects without fear interfering .”","code":""},{"path":"using-r-effectively.html","id":"how-do-i-make-one","chapter":"4 Using R Effectively","heading":"4.2.3 How do I make one?","text":"create new project going file -> new project.new project created now new folder computer contains RStudio project file (ends .Rproj). .Rproj file contains various project options can also used shortcut opening project directly file system (just double click ). can access related files directly RStudio ‘Files’ tab (see ).","code":""},{"path":"using-r-effectively.html","id":"file-paths","chapter":"4 Using R Effectively","heading":"4.2.4 File Paths","text":"file’s path specifies file located. like map computer, giving instructions go look specific file. download file (let’s call “dataset.csv”), likely appear downloads folder. Thus, full file specification :mac: /users/userName/Downloads/dataset.csvFor windows: C:\\Users\\userName\\Downloads\\dataset.csvReplacing “userName” whatever user name machine .file path constructed 2 parts:file location: /users/userName/Downloads/ C:\\Users\\userName\\Downloads\\file name: dataset.csvYou don’t specify full file path change R’s current working directory. Setting working directory basically telling R, “’m going working specific place. need look files, . Also, create files, create .”can cause issues though. file path tells computer look file, set folder specific place computer, code wouldn’t work tried run . computer couldn’t access mine, likely totally different file structure!One best features RStudio Projects helps solve issue! Instead using absolute file paths like (fully specified), let’s use relative file paths. relative file path, file paths relative particular directory. use RStudio Project, upon opening .Rproj file, automatically set working directory location file! way, want share project analysis files someone else, just save send entire project directory. open computer, relative path appropriately set!","code":""},{"path":"using-r-effectively.html","id":"here","chapter":"4 Using R Effectively","heading":"4.2.4.1 Here()","text":"Kirill Müller created extremely useful R tool called .\nArtwork Horst (2022)\nfunctions within package create paths relative top-level directory (aka root). top-level current project can printed time call (). example, run (), print : \"/Users/ethan/Documents/Psyc193L\", R Project folder called “Psyc193L” ’s Documents folder.can also easily build path relative top-level directory! Let’s say made “data” folder R Project directory (’ll talk directory organization later), put “dataset.csv” . can use () get full relative file path like :(\"data\", \"dataset.csv\")output , \"/Users/ethan/Documents/Psyc193L/data/dataset.csv\"relative paths work regardless associated file lives inside project directory, work anyone downloads project runs code computer!!","code":""},{"path":"using-r-effectively.html","id":"introduction-file","chapter":"4 Using R Effectively","heading":"4.2.5 Introduction File","text":"’s also good practice create specific introduction file root project. Explain navigate directory, everything , synopsis project/assignment , materials needed run code , etc. Future thank !","code":""},{"path":"using-r-effectively.html","id":"tldr","chapter":"4 Using R Effectively","heading":"4.2.6 TL;DR","text":"Create RStudio Project every data analysis project assignmentCreate RStudio Project every data analysis project assignmentKeep files related project directoryKeep files related project directorySave outputs (plots cleaned data) wellSave outputs (plots cleaned data) wellOnly ever use relative paths, absolute paths\nSpecifically, use ()\never use relative paths, absolute pathsSpecifically, use ()Create introduction file project folderCreate introduction file project folder","code":""},{"path":"using-r-effectively.html","id":"literate-programming","chapter":"4 Using R Effectively","heading":"4.3 Literate Programming","text":"Given goals reproducibility, one best things can make sure code easy understand replicate. , establish routine literate programming.Literate programming originally proposed Donald Knuth 1984.“Let us change traditional attitude construction programs: Instead imagining main task instruct computer , let us concentrate rather explaining humans want computer .”\n— Donald E. Knuth, Literate Programming, 1984In practice literate programming technique mixing written text chunks code together, whereby annotate code step-wise explain part code via comments throughout. practice provides much easier documentation code creation written reports code results code.","code":""},{"path":"using-r-effectively.html","id":"markdown","chapter":"4 Using R Effectively","heading":"4.3.1 Markdown","text":"talked briefly different types R files, introduced markdown files. mainly using. allow combination R code text, also incorporate markdown syntax (can think ’s mini language), HTML, CSS! Thus, markdown files afford powerful combination languages help create literate programming documents easy understand reproduce analyses.However, true power comes ability take markdown files generate many different kinds documents. combined packages (e.g., knitr), Markdown files can turned :PDFsMicrosoft Word documentsSlideshows (like powerpoint keynote)Web pagesIn fact, course website, course content, personal website (parts ), created RStudio written lot R Markdown!","code":""},{"path":"using-r-effectively.html","id":"syntax","chapter":"4 Using R Effectively","heading":"4.3.1.1 Syntax","text":"won’t go depth Markdown syntax, whole course ! couple fundamental things though:can insert code chunks keyboard shortcut: ctrl+option/alt+iYou always name chunks (part literate programming), number options can set (chunk specific). include:Figure height widthWhether echo (show) evaluate (run) code chunk final document (debugging tip! problem code chunk, set eval = FALSE can still knit, leave note fix later!)Whether show warnings messagesYou can see full list options .can also write R code inline, , without chunk. can writing set backtics, r (lowercase) first, space code. example:mean `r mean(x)`.document generated, R code evaluated look though wrote, “mean 14.” (whatever mean x happens )!","code":"\n## R code here"},{"path":"using-r-effectively.html","id":"coding-best-practices","chapter":"4 Using R Effectively","heading":"4.4 Coding Best Practices","text":"many best practices good incorporate coding. ’m going highlight main ones , include list many others bottom (time purposes won’t cover extensively).","code":""},{"path":"using-r-effectively.html","id":"develop-a-naming-convention","chapter":"4 Using R Effectively","heading":"4.4.1 Develop a Naming Convention","text":"One important thing initially develop naming convention. important objects files.Object names must start letter, can contain letters, numbers, _ .. File names require , can also use -. However, avoid using . , never use spaces! want names descriptive, ’ll need convention multiple words.\nArtwork Horst (2022)\nuse camelCase, first word capitalized first letter subsequent word . technically efficient terms keystrokes, can run issues using acronyms singular letters (e.g., \"RStudio technically breaks rule). seen people recommending snake_case arguing use capital letters. generally recommend camelCase snake_case.want use names concise, unique, meaningful (difficult!), avoiding terms commonly repeated. also case variable (column) factor names well. However, helpful develop relatively consistent way naming things . helps make easier work different projects (especially time). example:x_df – dataframes\n“x” refers type data experiment\nx_df – dataframesWhere “x” refers type data experimentX_m – mean dataX_m – mean dataX_sd – SD dataX_sd – SD dataX_se – standard error dataX_se – standard error data","code":""},{"path":"using-r-effectively.html","id":"style-and-syntax","chapter":"4 Using R Effectively","heading":"4.4.2 Style and Syntax","text":"“Good coding style like correct punctuation: can manage without , butitsuremakesthingseasiertoread.”\n - Hadley WickhamMany following tips highlights tidyverse style guide.","code":""},{"path":"using-r-effectively.html","id":"spacing","chapter":"4 Using R Effectively","heading":"4.4.2.1 Spacing","text":"general, want aim write code legible. sake others. R makes difference following code:Always put space comma, never , just like regular EnglishDo put spaces inside outside parenthesesPlace space () used function arguments:operators (==, +, -, <-, etc.) always surrounded spaces:","code":"\n#1\n3*2/2*5/2\n\n((3 * 2) / 2) * 5 / 2\n\n#2\nx=2+4\n\nx = 2 + 4\n# Good\ndf[, 1]\n\n# Bad\ndf[,1]\ndf[ ,1]\ndf[ , 1]\n# Good\nmean(x, na.rm = TRUE)\n\n# Bad\nmean (x, na.rm = TRUE)\nmean( x, na.rm = TRUE )\n# Good\nfunction(x) {}\n\n# Bad\nfunction (x) {}\nfunction(x){}\n# Good\nx + (3 * 4)\n\n# Bad\nx+(3*4)"},{"path":"using-r-effectively.html","id":"avoid-long-lines","chapter":"4 Using R Effectively","heading":"4.4.2.2 Avoid Long Lines","text":"Avoid writing code takes lot space horizontally. Use strategically placed line breaks indentations, particularly argument/chunk code. can use keyboard shortcut ctrl+get R automatically indent appropriately line--line!","code":"\n# Good\ndo_something_very_complicated(\n  something = \"that\",\n  requires = many,\n  arguments = \"some of which may be long\"\n)\n\n# Bad\ndo_something_very_complicated(\"that\", requires, many, arguments,\n                              \"some of which may be long\"\n                              )"},{"path":"using-r-effectively.html","id":"misc.","chapter":"4 Using R Effectively","heading":"4.4.2.3 Misc.","text":"Use double quotes \"hello\", single quotes 'hello', quoting text. exception text already contains double quotes single quotes \"said, 'hello.'\".Use double quotes \"hello\", single quotes 'hello', quoting text. exception text already contains double quotes single quotes \"said, 'hello.'\".Use TRUE FALSE T FUse TRUE FALSE T FEach line comment begin comment symbol single space:\n#line comment begin comment symbol single space:\n#Index columns subset rows names filtering, numbers. order/position may change. name likely .Index columns subset rows names filtering, numbers. order/position may change. name likely .Pass named arguments functions, place.Pass named arguments functions, place.hardcode. Always softcode. saves constantly update different sections code time change.hardcode. Always softcode. saves constantly update different sections code time change.","code":""},{"path":"using-r-effectively.html","id":"document-organization","chapter":"4 Using R Effectively","heading":"4.4.3 Document Organization","text":"want organize files directory structure way easy navigate. may come back files months years later, want make sure ’ll understand files . mention make project files open accessible public!things can help include:Separate data cleaning analysis codes. R Markdown files helpful can abide separation concerns principle label code sections.Separate data cleaning analysis codes. R Markdown files helpful can abide separation concerns principle label code sections.Make text files data needed – describing came , coding variables needed, etc.Make text files data needed – describing came , coding variables needed, etc.Never mess raw data (keep backups). Try touch directly little possible.Never mess raw data (keep backups). Try touch directly little possible.Use version control. Version control systems save changes separate files. Using system like git helpful, prevents tons tons older versions files computer. won’t cover github class (though maybe ), many resources.Use version control. Version control systems save changes separate files. Using system like git helpful, prevents tons tons older versions files computer. won’t cover github class (though maybe ), many resources.far markdown files …needed packages loaded top documentNo package installations called/executed RmdNo warnings/messages printed load packages (turn options hide )Use markdown formatting make doc easier followRelative file paths using packageNo chunks errors!NEVER EVER printing entire dataset screen (> 10 rows). never necessary.good high text--code ratio!","code":""},{"path":"using-r-effectively.html","id":"visual-summary","chapter":"4 Using R Effectively","heading":"4.4.4 Visual Summary","text":"\nArtwork Horst (2022)\n","code":""},{"path":"preparing-for-more-content.html","id":"preparing-for-more-content","chapter":"5 Preparing For More Content","heading":"5 Preparing For More Content","text":"Exercise SheetIn lesson, ’re going cover couple miscellaneous things help prepare content covered rest course. meant wrap basics background, getting ready dive real R coding!","code":""},{"path":"preparing-for-more-content.html","id":"functions","chapter":"5 Preparing For More Content","heading":"5.1 Functions","text":"“understand computations R, two slogans helpful:\nEverything exists object, \nEverything happens function call.”\n- John Chambers, Advanced R, p. 79.already used functions (typeof(), class(), ()), let’s formally introduce now. Almost everything coding built around using functions. Functions variables containing pre-written code , often, verb name always followed set parentheses. things inside parentheses, called arguments, verb applied. run:typeof(x = myDF)finding type myDF . function one argument, x, given value “myDF”. Functions expect arguments given values. need something apply pre-written code ! Functions multiple arguments often default values, need set one . ’ll see later .\nNote: arguments separated comma often given line.\n","code":""},{"path":"preparing-for-more-content.html","id":"where-do-functions-come-from","chapter":"5 Preparing For More Content","heading":"5.1.1 Where Do Functions Come From?","text":"number different sources! :Available base R\ndefault, R many functions (like ’ve using)\ndefault, R many functions (like ’ve using)Defined (won’t talk much )Available packages import\nPackages collections data, code, functions, people created install R. many packages use throughout course.\nPackages collections data, code, functions, people created install R. many packages use throughout course.","code":""},{"path":"preparing-for-more-content.html","id":"installing-packages","chapter":"5 Preparing For More Content","heading":"5.1.2 Installing Packages","text":"way install packages using install.packages() function! just include name package quotes, ’s ! often case packages need code packages work (aka dependencies). package dependencies, also automatically installed. means installing package run lot scary looking code console, may look like installing lot things, totally normal fine! packages extremely tiny. can hundreds packages installed take less 1gb space computer! package installed, actually load R session using library().Install new package:install.packages(\"tidyverse\")\n1x per machine\n1x per machineLoad installed package:library(tidyverse)\n1x per work session\n1x per work session","code":""},{"path":"preparing-for-more-content.html","id":"pipes","chapter":"5 Preparing For More Content","heading":"5.2 Pipes","text":" reference René Magritte’s “Treachery Images,” actually display LAC Museum Art!One powerful tools R use %>% (pipe) operator.RStudio Keyboard Shortcuts:OSX: CMD + SHIFT + MElse: CTRL + SHIFT + MHow Pipe Work?Consider following example making eating cake.several things need :ingredientsMix ingredientsPour mixture panBake mixtureLet coolSliceEat pieceOne thing might think just go step step:creates lot unnecessary interim step variables don’t care . won’t use just clog workspace.express process set nested functions, look like :Nesting dataframe inside function hard read forces read sequence functions inside . start innermost parentheses, work way /back.Even apply style syntax guidelines :still difficult unnatural read. describe process words, spoken written, take totally different form! say something like:“First mix ingredients, pour mixture baking pan, put pan oven bake 30 minutes. done, take let cool 20 minutes, slice 6 pieces eat one (several, )!”much easier write code form match actually think process. precisely piping %>% allows us ! write code piping:pipe dataframe function, chain together number functions, let’s read left right / . code “sentence” starts noun instead verb. much easier read write takes form actually think process. chronological order want .two mantras pipes:Think %>% mean “”“dataframe first, dataframe ”%>% operator actually taking result/output previous computation (thing left ) piping input next computation. cases, computations functions.mix(ingredients) equivalent ingredients %>% mix()","code":"\nmixture = mix(ingredients)\nthing_in_oven = pour(mixture)\nhot_baked_bake = bake(thing_in_oven)\ncooled_baked_cake = cool(hot_baked_bake)\nsliced_cake = slice(cooled_baked_cake)\n\neat(sliced_cake, 1)\neat(slice(cool(bake(put(pour(mix(ingredients), into = baking_pan), into = oven), time = 30), duration = 20), pieces = 6, 1))\neat(\n  slice(\n    cool(\n      bake(\n        put(\n          pour(\n            mix(ingredients),\n            into = baking_pan),\n          into = oven),\n        time = 30),\n      duration = 20),\n    pieces = 6,\n    1)\n)\ningredients %>% \n  mix() %>% \n  pour(into = baking_pan) %>% \n  put(into = oven) %>% \n  bake(time = 30) %>% \n  cool(during = 20) %>%\n  slice(pieces = 6) %>% \n  eat(1)"},{"path":"preparing-for-more-content.html","id":"dos-and-donts","chapter":"5 Preparing For More Content","heading":"5.2.1 Do’s and Dont’s","text":":Apply style/syntax guidelines\nSpace %>%\nnew step line\nIndent subsequent line chain\nEtc.\nSpace %>%new step lineIndent subsequent line chainEtc.DON’T:Use pipe …one object needs manipulated.\nPipes used chain steps applied one object.\nPipes used chain steps applied one object.intermediate objects need use given informative name.","code":""},{"path":"preparing-for-more-content.html","id":"pipe-positions","chapter":"5 Preparing For More Content","heading":"5.2.2 Pipe Positions","text":"pipe something function, input first element default.%>% sum(b) equivalent sum(, b)can specify argument (position function) piped input given . operator. . operator can used refer object/dataframe ’s current state pipe chain. words, . refers piped current function.Let’s look example using seq(, ) function, two arguments (). seq() generate sequence numbers range value value (hard avoiding use words “” “” ). know , default, piped input first element., pipe b, get’s set first argument result descending sequence. However, explicitly told seq() wanted piped input go using ., get expected ascending sequence:","code":"\na = 1\nb = 5\nb %>% seq(a)\n#> [1] 5 4 3 2 1\nb %>% seq(from = a, \n          to = .)\n#> [1] 1 2 3 4 5"},{"path":"preparing-for-more-content.html","id":"reprex","chapter":"5 Preparing For More Content","heading":"5.3 REPREX","text":"last thing need truly prepared forthcoming material know get help. , help best help ! running error code working way want expected, best way get help preparing “minimal reproducible example”.\nArtwork Horst (2022)\n“goal reprex package problematic code way people can run feel pain. , hopefully, can provide solution put misery.”\n- tidyverse documentation","code":""},{"path":"preparing-for-more-content.html","id":"how-to-create","chapter":"5 Preparing For More Content","heading":"5.3.1 How To Create","text":"create reprex copying code clipboard (cmd/ctrl+C), running reprex() function console (loading reprex library library(reprex)). two things:Generate preview reprexCopy reprex clipboard paste anywhere! (.e., discord DM/message, email, etc.)","code":""},{"path":"preparing-for-more-content.html","id":"creating-good-reprex","chapter":"5 Preparing For More Content","heading":"5.3.2 Creating Good Reprex","text":"several things must , consider, apply, creating good reprex.","code":""},{"path":"preparing-for-more-content.html","id":"reproducible","chapter":"5 Preparing For More Content","heading":"5.3.2.1 Reproducible","text":"make reprex, code must reproducible. means reprex code must include library() calls, ideally use one R’s built datasets (guarantee work anyone else).good options include:irisdiamondsmtcarsairqualityChickWeightToothGrowthPlantGrowth","code":""},{"path":"preparing-for-more-content.html","id":"minimal","chapter":"5 Preparing For More Content","heading":"5.3.2.2 Minimal","text":"reprex code simple minimal possible. include things “need run” basis. something directly related problem facing, delete don’t include ! often means reprex using much smaller simpler R object, using different dataset, encountered actual coding.","code":""},{"path":"preparing-for-more-content.html","id":"legible","chapter":"5 Preparing For More Content","heading":"5.3.2.3 Legible","text":"reprex code still incorporate style syntax guidelines otherwise code.guidelines can found reprex website .","code":""},{"path":"preparing-for-more-content.html","id":"man-this-is-a-lot-of-work","chapter":"5 Preparing For More Content","heading":"5.3.2.4 Man, This is a Lot of Work!","text":"Yes, definitely true, creating good reprex skill ! may thinking, \"Okay really worth go effort ’m already struggling?answer definitely yes! two compelling reasons:time, process creating good reprex, ’ll reveal source error solve problem.instances doesn’t happen, ’ve made lot easier get help increase likelihood solving issue!","code":""},{"path":"preparing-for-more-content.html","id":"data-importing-and-exporting","chapter":"5 Preparing For More Content","heading":"5.4 Data Importing and Exporting","text":"built datasets R comes can helpful, whole point learning R use needs. need ways get raw data R, products code R.","code":""},{"path":"preparing-for-more-content.html","id":"importing","chapter":"5 Preparing For More Content","heading":"5.4.1 Importing","text":"often going work csv’s .RData files. can work number file types R, beyond scope class.","code":""},{"path":"preparing-for-more-content.html","id":"csv-files","chapter":"5 Preparing For More Content","heading":"5.4.1.1 csv Files","text":"use read_csv() function load dataset R. function takes file argument. R know look file? need give right file path, () function talked previously applied!Recall previous lesson considering structure project directories. talked situation data file called “dataset.csv” folder called “data”. tell read_csv() look giving () call used !save output read_csv() variable, just print console. need variable get output can use later code. saving variable.additional point, can also directly load files websites using website file path. Remember, file path just map tell computer look something. file path just needs lead read_csv() .csv file!","code":"\nhere(\"data\", \"dataset.csv\")\n#> \"/Users/ethan/Documents/Psyc193L/data/dataset.csv\"\n\nexample_df = read_csv(here(\"data\", \"dataset.csv\"))\nexample_df = read_csv(\"https://www.ethanhurwitz.com/example_data.csv\")"},{"path":"preparing-for-more-content.html","id":"rdata-files","chapter":"5 Preparing For More Content","heading":"5.4.1.2 RData Files","text":"type file may want import .RData file. directly load R objects workspace. Instead using read_csv(), just use load() pass file path .RData file!Since .RData files already contain R objects, save variable. ’s just loading variables already exist!","code":""},{"path":"preparing-for-more-content.html","id":"exporting","chapter":"5 Preparing For More Content","heading":"5.4.2 Exporting","text":"goal using R code make tasks easily reproducible, instances may want directly save export something. example, may want use data software. instances, can easy export file write_csv(), takes form: write_csv(object_to_be_saved, file = \"file_name.csv\"). create new .csv file dataframe/object working directory.Alternatively, may run code takes V.F.L.T. (, Frankly, Long Time) run. Somewhere road may executing complicated models can take hours even days run! may want rerun code consecutively time revisit project. avoid , can save R data object can easily load R.using save() function, takes similar form save(object_to_be_saved, file = \"fil_name.rdata\").","code":""},{"path":"intro-to-ggplot2.html","id":"intro-to-ggplot2","chapter":"6 Intro to ggplot2","heading":"6 Intro to ggplot2","text":"Exercise Sheet“greatest value picture forces us notice never expected see.”— John Tukey“single statistical tool powerful well‐chosen graph.” (Chambers et al. 1983)Care Visualizing Data?Consider following scenario:tell two different datasets. dataset comprised individuals measured two outcomes (say height weight). mean standard deviation height weight datasets. correlation height weight datasets well. every statistical metric, datasets . , must look similar, right?Click button :collection data called datasauRus, information generated can found technical paper. modern version famous Anscombe’s Quartet:four datasets matching n’s, means, standard deviations, correlations. means slope intercept, corresponding statistical tests, equivalent. data clearly look different though. (data built R object called anscombe, can look test !)key point summary statistics variables linear relationships inherently overlook aspects data. highlights critical importance visualizing data, just relying summary statistics alone. point visualization, just like summary statistic, understand relationship pattern data. However, looking raw data , don’t run risk missing things way relying summary statistics alone.","code":"\nlibrary(tidyverse)\nlibrary(palmerpenguins)"},{"path":"intro-to-ggplot2.html","id":"when-visualizing-go-wrong","chapter":"6 Intro to ggplot2","heading":"6.1 When Visualizing Go Wrong","text":"’s easy enough just say, “Look raw data! Create visualization!” However, bad visualization often times worse visualization . One things Covid-19 pandemic brought originally plethora data visualizations. came across real world:’s enough just make visualization. ’s important also consider principles make GOOD. next lessons, going cover !","code":""},{"path":"intro-to-ggplot2.html","id":"ggplot2","chapter":"6 Intro to ggplot2","heading":"6.2 ggplot2","text":"Data visualization one things sets R apart programming languages can used statistics, like Python. R still best data visualization capabilities, one primary reasons used Python Social Sciences. also one first times get see coding can . actually going creating stuff today code!class, use ggplot2 package create visualizations. Graphs constructed mapping data geometric objects (lines, bars, points, etc.) according aesthetic attributes (color, shape, size, etc.). ggplot2 uses inform grammar. ’ll explain much go!\nArtwork Horst (2022)\n","code":""},{"path":"intro-to-ggplot2.html","id":"meet-the-penguins","chapter":"6 Intro to ggplot2","heading":"6.2.1 Meet the Penguins","text":"create visualizations, need data visualize! going work palmerpenguins dataset Alison Horst (Yes, someone admire think great work!).dataset contains measurements 344 different penguins. Measurements include things like bill length depth, sex, among others.\nArtwork Horst (2022)\n3 different species penguins dataset, collected 3 islands Palmer Archipelago, Antarctica.\nArtwork Horst (2022)\nUse library(palmerpenguins) call load dataset.","code":""},{"path":"intro-to-ggplot2.html","id":"a-basic-graph","chapter":"6 Intro to ggplot2","heading":"6.3 A Basic Graph","text":"Let’s start building basic graph. going LOTS exercise breaks throughout.\nNote: move forward building first graph, new piece code added accompanied literate programming portion, describe words code .\nggplot graphs build using ggplot() call. first thing needs data. ’ll use %>% pass penguins dataframe.Start telling ggplot use penguins dataframe dataWoo! got grey rectangle! course, code alone anything. tell ggplot want plot. Hmm… Let’s see penguin’s bill_length_mm related flipper_length_mm. imagine bigger penguins tend longer bills flippers, maybe ? create visualizations, try help answer questions may data (consist samples thought representative world large)!need tell ggplot variables data mapped aesthetics want render graph. ’ll aes() call, start specifying display axis.“Start telling ggplot use penguins dataframe data, map flipper length y-axis bill length x-axis.”, specified want flipper_length_mm y-axis, bill_length_mm x-axis (good practice specify y first x second). aesthetic mappings must separated comma, matter order list (though good practice start axes first). can see, ggplot figured label axes .\ntold ggplot aesthetic mappings (data source use), render mappings! want ggplot use mappings construct geometric object, way adding geom, aptly named. number different geoms, general syntax geom_X(), X usually refers specific geometric object want render. , want point graph penguin, use geom_point().\nNote: TON different geoms. see many go.\n“Start telling ggplot use penguins dataframe data, map flipper length y-axis bill length x-axis. Represent observation point.”Okay, NOW talking! looks like actual real graph. Look first ggplot masterpiece!two important things note :used + instead %>% add new function. ggplot system additive/layered, powerful idea get later. now, enough know adding geom_point() code. want take penguins %>% ggplot(mapping = aes(y = flipper_length_mm, x = bill_length_mm)) code use argument geom_point() function, happen used %>% pipe ! want just add points top existing base code created, use +.used + instead %>% add new function. ggplot system additive/layered, powerful idea get later. now, enough know adding geom_point() code. want take penguins %>% ggplot(mapping = aes(y = flipper_length_mm, x = bill_length_mm)) code use argument geom_point() function, happen used %>% pipe ! want just add points top existing base code created, use +.running code, addition creating graph (“Plots” section RStudio inline code), following showed console:running code, addition creating graph (“Plots” section RStudio inline code), following showed console:\nWarning message:Removed 2 rows containing missing values (geom_point).\nLooking warnings errors always important, especially creating visualizations! says removed 2 rows data, may seem like big deal don’t want visualizations misleading. Especially start visualizing summary statistics (like means). look actual data though, can verify two penguins don’t measurement value flipper length bill length. obviously without either , included graph. case, okay, ’s important always verify!\nNOTE: moving forward, pedagogical purposes going hiding warning message output subsequent code cleaner. However, 2 rows still removed!\n, mentioned goal visualization understand relationship, pattern, data. every visualization make, also going provide verbal description pattern see (one exist!) underneath. help develop intuitive graph literacy. able quickly accurately interpret visualizations important skill, one pillars course.\nThings related graph literacy comprehension appear boxes like moving forward!\nvisualization can see , generally speaking, penguins greater flipper length tend greater bill length well. seems positive linear relationship bill length flipper length , flipper length increases, bill length increases turn.\nNote: use lot tentative language include many qualifiers . done formal statistical analyses state relationship effect definitively.\n","code":"\npenguins %>%\n  ggplot()\npenguins %>%\n  ggplot(mapping = aes(y = flipper_length_mm,\n                       x = bill_length_mm))\npenguins %>%\n  ggplot(mapping = aes(y = flipper_length_mm,\n                       x = bill_length_mm)) +\n  geom_point()\n#> Warning: Removed 2 rows containing missing values\n#> (geom_point)."},{"path":"aesthetics.html","id":"aesthetics","chapter":"7 Aesthetics","heading":"7 Aesthetics","text":"","code":""},{"path":"aesthetics.html","id":"color","chapter":"7 Aesthetics","heading":"7.1 Color","text":"looking graph created , kind seems like may different groups clusters penguins data. Let’s look consider variables data.One way can see penguins grouped cluster top another bottom:might correspond sex variable ! Maybe ’s case bigger penguins males, smaller ones females?explore idea way visually indicate observations graph male penguins female. Specifically, want color points different based value observation’s sex. … let’s just try ! One best parts coding , can always just try run code see happens!\nLet’s declare formal prediction. ’ll specify two mutually exclusive alternatives see.\n“case differences penguin size explained sex (e.g., bigger penguins males smaller ones females), points cluster top one color points cluster bottom different color. case differences penguin size explained sex , points two clusters distinct colors.”Uh… okay. , didn’t work. OH! remember said use aes() tell ggplot variables data mapped aesthetics want render graph. need pass color another argument aesthetics plot via aes().“Start telling ggplot use penguins dataframe data, map flipper length y-axis bill length x-axis. Represent observation point, map sex color point.”’s like ! doesn’t really look like thought might though. consistent possible outcome, sex explain differences penguin size. However, looking carefully, actually kind looks like 3 distinct clusters, 2.might correspond species variable ! Maybe ’s case different penguin species differ size? actually makes lot sense. Let’s try test now.“case differences penguin size explained species , points cluster distinct colors. case differences penguin size explained species , points clusters distinct colors.”“Start telling ggplot use penguins dataframe data, map flipper length y-axis bill length x-axis. Represent observation point, map species color point.”visualization can see , generally speaking, penguins greater flipper length tend greater bill length well. seems positive linear relationship bill length flipper length , flipper length increases, bill length increases turn. Additionally, penguins species tend similar flipper bill lengths, distinct species. Adelie penguins tend shortest lengths, Gentoo longest. Chinstrap penguins seem shorter flippers longer bills.Hot dang, looks like might found promising explanation penguins differ size! obviously need kind formal statistical analysis know sure, visualizing actual raw data ways like allow us quickly get answers different questions may want use data answer.","code":"\npenguins %>%\n  ggplot(mapping = aes(y = flipper_length_mm,\n                       x = bill_length_mm),\n         color = sex) +\n  geom_point()\npenguins %>%\n  ggplot(mapping = aes(y = flipper_length_mm,\n                       x = bill_length_mm,\n                       color = sex)) +\n  geom_point()\npenguins %>%\n  ggplot(mapping = aes(y = flipper_length_mm,\n                       x = bill_length_mm,\n                       color = species)) +\n  geom_point()"},{"path":"aesthetics.html","id":"global-vs-local-aesthetics","chapter":"7 Aesthetics","heading":"7.1.1 Global vs Local Aesthetics","text":"first described visualization, one things noted , “seems positive linear relationship bill length flipper length , flipper length increases, bill length increases turn.” Let’s add line best fit actually see linear relationship. ’ll using geom_smooth(). ’ll set arguments within geom_smooth(), don’t worry much .Let’s copy/paste code add new geom_smooth() call. see best fitting line data.“Start telling ggplot use penguins dataframe data, map flipper length y-axis bill length x-axis. Represent observation point, map species color point. Add line best fit data.”Hey, wait, quite expecting… Instead one line data, looks like line species. ’s happening highlighting difference global aesthetic (put ggplot() call apply added parts graph) local aesthetic (put individual geoms apply individual ones).Let’s move color geom_point(), thing want mapped values species data.Huzzah! still points colored species, just one line data, originally intended. also notice didn’t specify mapping= geom_point(), got rid ggplot() well! actually necessary specify . hang things, can leave part .","code":"\npenguins %>%\n  ggplot(mapping = aes(y = flipper_length_mm,\n                       x = bill_length_mm,\n                       color = species)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", se = FALSE)\npenguins %>%\n  ggplot(aes(y = flipper_length_mm,\n             x = bill_length_mm)) +\n  geom_point(aes(color = species)) +\n  geom_smooth(method = \"lm\", se = FALSE)"},{"path":"aesthetics.html","id":"setting-vs-mapping-aesthetics","chapter":"7 Aesthetics","heading":"7.1.2 Setting vs Mapping Aesthetics","text":", change color points (inadvertently line best fit), specified color argument aes() call map values species variable data. didn’t want map something variable data? just want set value something ? might think, “maybe just take mapping = aes() part?” right, smart! Let’s go ahead now try change points orange, good contrast line.Well, okay, obviously right get error:\nError layer(data = data, mapping = mapping, stat = stat, geom = GeomPoint, : object ‘orange’ found\nwriting orange like , R thinks variable penguins dataset piped ggplot! tell R variable/object defined, instead just color orange, use quotes.Much better! can geom:\nNote: Aesthetic settings can set locally, globally. Aesthetic mappings can local global.\n","code":"\npenguins %>%\n  ggplot(aes(y = flipper_length_mm,\n             x = bill_length_mm)) +\n  geom_point(color = orange) +\n  geom_smooth(method = \"lm\", se = FALSE)\n#> Error in layer(data = data, mapping = mapping, stat = stat, geom = GeomPoint, : object 'orange' not found\npenguins %>%\n  ggplot(aes(y = flipper_length_mm,\n             x = bill_length_mm)) +\n  geom_point(color = \"orange\") +\n  geom_smooth(method = \"lm\", se = FALSE)\npenguins %>%\n  ggplot(aes(y = flipper_length_mm,\n             x = bill_length_mm)) +\n  geom_point(color = \"orange\") +\n  geom_smooth(method = \"lm\", se = FALSE, color = \"purple\")\npenguins %>%\n  ggplot(aes(y = flipper_length_mm,\n             x = bill_length_mm),\n         color = \"orange\") +\n  geom_point() +\n  geom_smooth(method = \"lm\", se = FALSE)"},{"path":"aesthetics.html","id":"setting-colors","chapter":"7 Aesthetics","heading":"7.1.3 Setting Colors","text":"setting color, can done name, , hexcode:neat thing can set colors based logical operation! example, wanted color penguins flipper lengths greater 200 one color, flipper lengths great 200 another color, following:Notice just set color equal simple logical test! still mapped aesthetic, based values variable data.can find two good color guides . cover colors later.Use R code recreate graphs :\n\n1. Make visualization investigate relationship bill length (y-axis) bill depth (x-axis).Make visualization investigate relationship body mass flipper length. , make geometric figure rendering observations appear blue.Make visualization investigate relationship body mass flipper length. , make geometric figure rendering observations appear blue.","code":"\npenguins %>%\n  ggplot(aes(y = flipper_length_mm,\n             x = bill_length_mm)) +\n  geom_point(color = \"#9FE2BF\") +\n  geom_smooth(method = \"lm\", se = FALSE, color = \"#FFBF00\")\npenguins %>%\n  ggplot(aes(y = flipper_length_mm,\n             x = bill_length_mm)) +\n  geom_point(aes(color = flipper_length_mm > 200)) +\n  geom_smooth(method = \"lm\", se = FALSE, color = \"#FFBF00\")"},{"path":"aesthetics.html","id":"shape","chapter":"7 Aesthetics","heading":"7.2 Shape","text":"","code":""},{"path":"aesthetics.html","id":"mapping","chapter":"7 Aesthetics","heading":"7.2.1 Mapping","text":"Color one aesthetics can change, many others ! Another one shape. Like color, shape can mapped variable data. addition changing color points species, let’s change shape !“Start telling ggplot use penguins dataframe data, map flipper length y-axis bill length x-axis. Represent observation point, map species color point. Add line best fit data change shape point mapped species.”However, don’t map aesthetic. map shape different aesthetic ! Let’s try mapping island instead.’ll now notice instead coloring one shape, mapped variable, now colors can multiple shapes! Mapping another variable different aesthetic visualizes even data patterns dataset! can quickly become overwhelming difficult interpret though, often best try just communicate one main relationship pattern visualizations. practice though, can go nuts!","code":"\npenguins %>%\n  ggplot(aes(y = flipper_length_mm,\n             x = bill_length_mm)) +\n  geom_point(aes(color = species,\n                 shape = species)) +\n  geom_smooth(method = \"lm\", se = FALSE)\npenguins %>%\n  ggplot(aes(y = flipper_length_mm,\n             x = bill_length_mm)) +\n  geom_point(aes(color = species,\n                 shape = island)) +\n  geom_smooth(method = \"lm\", se = FALSE)"},{"path":"aesthetics.html","id":"setting","chapter":"7 Aesthetics","heading":"7.2.2 Setting","text":"number different shapes can choose setting . can selected number:name:\nSource: ggplot documentation\nnotice several shapes, appear different versions. example, appears 3 different kinds triangles. Let’s compare differences:17 ‘triangle’\nSolid color shape\nSolid color shape2 ‘triangle open’\nColored shape outline hollow center\nColored shape outline hollow center24 ‘triangle filled’\nColored shape outline center can filled another color\nColored shape outline center can filled another colorThis introduces another way change colors ggplot! changing color something, geoms ‘color’ argument, ‘fill’ argument, , like , ! ‘color’ often refers outline/outside, ‘fill’ often refers … well, fill!Part 1:Take code produced Exercise 4 1. Change shape solid color squares mapped species variable. 2. Change shape hollow squares mapped species variable. 3. Change shape filled squares mapped species variable, fill color choosing.\nPart 2:\nUse R code recreate graphs :\n\n1.","code":"\npenguins %>%\n  ggplot(aes(y = flipper_length_mm,\n             x = bill_length_mm)) +\n  geom_point(aes(color = species),\n             shape = 17) +\n  geom_smooth(method = \"lm\", se = FALSE)\npenguins %>%\n  ggplot(aes(y = flipper_length_mm,\n             x = bill_length_mm)) +\n  geom_point(aes(color = species),\n             shape = 2) +\n  geom_smooth(method = \"lm\", se = FALSE)\npenguins %>%\n  ggplot(aes(y = flipper_length_mm,\n             x = bill_length_mm)) +\n  geom_point(aes(color = species),\n             shape = 24,\n             fill = 'darkgrey') +\n  geom_smooth(method = \"lm\", se = FALSE)"},{"path":"aesthetics.html","id":"size","chapter":"7 Aesthetics","heading":"7.3 Size","text":"","code":""},{"path":"aesthetics.html","id":"mapping-1","chapter":"7 Aesthetics","heading":"7.3.1 Mapping","text":", actually kind hard see shape differences, wasn’t ? points graph just small. helpful change size. Wouldn’t know , size happens another aesthetic! Let’s look example mapping size:“Start telling ggplot use penguins dataframe data, map flipper length y-axis bill length x-axis. Represent observation point, map species color point. Add line best fit data, change shape point mapped species corresponding size changes.”Well, looks pretty shitty, gets point across! One thing demonstrate mean saying, “ggplot additive/layered”.geom_smooth() last geom added . means, quite literally, added top graph rendered previous code. gets put top, runs covers observations.Think graph look like added geom_smooth() first geom_point() second, click button find :\nconcept important keep mind creating visualizations. Order matters!","code":"\npenguins %>%\n  ggplot(aes(y = flipper_length_mm,\n             x = bill_length_mm)) +\n  geom_point(aes(color = species,\n                 shape = species,\n                 size = species)) +\n  geom_smooth(method = \"lm\", se = FALSE)"},{"path":"aesthetics.html","id":"setting-1","chapter":"7 Aesthetics","heading":"7.3.2 Setting","text":"Maybe instead mapping … just change size . Let’s take one graphs make shapes little bit larger.Wow, okay, shows fill lot better ! can actually pretty neat things playing around different size values. example:","code":"\npenguins %>%\n  ggplot(aes(y = flipper_length_mm,\n             x = bill_length_mm)) +\n  geom_point(aes(color = species),\n             shape = 24,\n             fill = 'darkgrey',\n             size = 4) +\n  geom_smooth(method = \"lm\", se = FALSE)\npenguins %>%\n  ggplot(aes(y = flipper_length_mm,\n             x = bill_length_mm)) +\n  geom_point(aes(color = species)) +\n  geom_point(aes(color = species),\n             size = 4,\n             shape = 6) +  \n  geom_smooth(method = \"lm\", se = FALSE)"},{"path":"aesthetics.html","id":"alpha","chapter":"7 Aesthetics","heading":"7.4 Alpha","text":"","code":""},{"path":"aesthetics.html","id":"mapping-2","chapter":"7 Aesthetics","heading":"7.4.1 Mapping","text":"alpha aesthetic changes translucent vs opaque something .“Start telling ggplot use penguins dataframe data, map flipper length y-axis bill length x-axis. Represent observation point, map species color point. Add line best fit data, change shape point mapped species, corresponding size changes alpha changes.”can see, using alpha mapped aesthetic particularly useful. , , instances want .","code":"\npenguins %>%\n  ggplot(aes(y = flipper_length_mm,\n             x = bill_length_mm)) +\n  geom_point(aes(color = species,\n                 shape = species,\n                 size = species,\n                 alpha = species)) +\n  geom_smooth(method = \"lm\", se = FALSE)"},{"path":"aesthetics.html","id":"setting-2","chapter":"7 Aesthetics","heading":"7.4.2 Setting","text":"often, ’ll want set alpha levels different elements graphs . Alpha values range 0-1, 0 completely transparent 1 completely opaque.Compare two graphs note alpha levels:working (relatively) small dataset , may already see alpha changes extremely useful working larger datasets:Looking observations highlighted red circles, can notice darker color observations species. means multiple observations values, rendered spot graph. observations completely opaque (alpha), may obscured others occupying space!even clear looking example built diamonds dataset:Even low alpha (look faint points outside center cluster ), can see just many observations overlapping! ’ll see better ways visualize data like later.Citations:Horst , Hill AP, Gorman KB (2020). palmerpenguins: Palmer Archipelago (Antarctica) penguin data. R package version 0.1.0. https://allisonhorst.github.io/palmerpenguins/","code":"\npenguins %>%\n  ggplot(aes(y = flipper_length_mm,\n             x = bill_length_mm)) +\n  geom_point(aes(color = species,\n                 shape = species),\n             size = 3,\n             alpha = 0.8) +\n  geom_smooth(method = \"lm\", se = FALSE)\npenguins %>%\n  ggplot(aes(y = flipper_length_mm,\n             x = bill_length_mm)) +\n  geom_point(aes(color = species,\n                 shape = species),\n             size = 3,\n             alpha = 0.3) +\n  geom_smooth(method = \"lm\", se = FALSE)"},{"path":"different-geoms-and-when-to-use-them.html","id":"different-geoms-and-when-to-use-them","chapter":"8 Different Geoms and When To Use Them","heading":"8 Different Geoms and When To Use Them","text":"Exercise SheetPreviously, mentioned point visualization explore understand relationship pattern data (often response/outcome variable one explanatory/predictor variables). important know best graphically represent data based types variables (categorical vs continuous) relationships patterns trying visualize. number ways can visualize specific types relationships. better others, sometimes “best” depends specific context.follows overview number different ways can visualize different data relationships, well recommendations best .","code":"\nlibrary(tidyverse)\nlibrary(palmerpenguins)"},{"path":"different-geoms-and-when-to-use-them.html","id":"one-categorical","chapter":"8 Different Geoms and When To Use Them","heading":"8.1 One Categorical","text":"Graphing one categorical variable used show counts proportions.","code":""},{"path":"different-geoms-and-when-to-use-them.html","id":"bar","chapter":"8 Different Geoms and When To Use Them","heading":"8.1.1 Bar","text":"One good way visualizing single categorical variable bar chart.Think following question:“many penguin observations island?”Let’s create visualization bar island, bar’s height corresponds number penguins recorded island. , use geom_bar().wanted bars represent proportion observations came island instead raw counts, need way telling R . proportions something already exist data, easily computed. proportion observations island simply :\\[\\frac{nObservationsFromIslandX}{sumOfObservationsFromAllIslands}\\]count’s y-axis , just want ..count.. (numerator ) divided sum ..count..s (denominator ). Luckily, can just give R!\nNote: Proportions must sum 1! bars ever sum one, issue!\n","code":"\npenguins %>%\n  ggplot(aes(x = island)) + \n  geom_bar()\npenguins %>%\n  ggplot(aes(x = island)) + \n  geom_bar(aes(y = (..count..)/sum(..count..)))"},{"path":"different-geoms-and-when-to-use-them.html","id":"pie","chapter":"8 Different Geoms and When To Use Them","heading":"8.1.2 Pie","text":"less good way pie chart. worry understanding code, part use . may, unfortunately, find working particularly intransigent PI collaborator. include code template scenarios.creating visualization communicate something single categorical variable, really just use table graph .","code":"\npenguins %>%\n  ggplot(aes(x = 1,\n             fill = species)) +\n  geom_bar() +\n  coord_polar(\"y\", start = 0)"},{"path":"different-geoms-and-when-to-use-them.html","id":"one-continuous","chapter":"8 Different Geoms and When To Use Them","heading":"8.2 One Continuous","text":"Looking distributionsBeing able understand characterize distributions integral part Social/Data Scientists toolbox. want know distribution particular numerical variable dataset, options available .","code":""},{"path":"different-geoms-and-when-to-use-them.html","id":"histogram","chapter":"8 Different Geoms and When To Use Them","heading":"8.2.1 Histogram","text":"One powerful tools examining distributions histogram. histogram, values variable interest separated different bins x-axis.y-axis histogram often represent frequency count value range values distribution. However, can also represent proportion distribution value. pay attention scale y-axis!histogram , height bars correspond long penguin’s flipper , rather number penguins sample flipper lengths particular range/value. example, looks like ~28 penguins sample flipper lengths around 190mm.little difficult tell difference individual bar though. Giving outline help tremendously. can color aesthetic. Remember, ‘color’ often refers outline/outside, ‘fill’ often refers inside.","code":"\npenguins %>%\n  ggplot(aes(x = flipper_length_mm)) +\n  geom_histogram()\n#> `stat_bin()` using `bins = 30`. Pick better value with\n#> `binwidth`.\npenguins %>%\n  ggplot(aes(x = flipper_length_mm)) +\n  geom_histogram(color = 'black')\n#> `stat_bin()` using `bins = 30`. Pick better value with\n#> `binwidth`."},{"path":"different-geoms-and-when-to-use-them.html","id":"bins","chapter":"8 Different Geoms and When To Use Them","heading":"8.2.1.1 Bins","text":"may noticed weird message coming histograms far:\nstat_bin() using bins = 30. Pick better value binwidth.\n“bins” refers actual number bins (bars) histogram. “binwidth” refers width bin (bar), words many units x wide bin (bar) . Setting value “binwidth” override number “bins”, R suggesting change value.histogram, difference binwidth size can significantly impact graph looks. , turn, influence kind impressions inferences make. reason important explore different bin settings verify whether patterns notice truly feature data just artifact bin settings!Consider example :first histogram ’d probably say unimodal distribution flipper lengths around 190mm (+/- ). However, looking second histogram, ’d probably say distribution looks bimodal, one cluster around 190mm another around 210mm. data, visualized using type graph, two different stories based choices made. careful make sure telling data’s story, story!","code":"\npenguins %>%\n  ggplot(aes(x = flipper_length_mm)) +\n  geom_histogram(color = 'black',\n                 bins = 5)\npenguins %>%\n  ggplot(aes(x = flipper_length_mm)) +\n  geom_histogram(color = 'black',\n                 bins = 15)"},{"path":"different-geoms-and-when-to-use-them.html","id":"density","chapter":"8 Different Geoms and When To Use Them","heading":"8.2.2 Density","text":"density plots, short, smoothed histogram. particularly stats-minded want information, click info.Density plots show probability density (actual probability!) y-axis. mean exactly? Well, little complicated. short, continuous curve (aka kernel) fit individual data point. kernel usually gaussian. gaussians individual data point summed forms curve fit density plot. interested info, check fairly approachable explanation.\nUse geom_density() density plot.better understand density plot, helps see overlays histogram:can see , smoothing, density plots obscure noisiness (variability) data.","code":"\npenguins %>%\n  ggplot(aes(x = flipper_length_mm)) +\n  geom_density()\npenguins %>%\n  ggplot(aes(x = flipper_length_mm)) +\n  geom_density(size = 1)+\n  geom_histogram(aes(y=..density..), color=\"black\", alpha=0.2)"},{"path":"different-geoms-and-when-to-use-them.html","id":"vlines","chapter":"8 Different Geoms and When To Use Them","heading":"8.2.3 vlines","text":"One thing may want histogram mark specific parts regions data. can done adding vertical lines geom_vline(). add vertical line must specify x-axis line cross. Since something axis, must make specification aes() call.","code":"\npenguins %>%\n  ggplot(aes(x = flipper_length_mm)) +\n  geom_histogram(color = 'black',\n                 bins = 15) +  \n  geom_vline(aes(xintercept=180),color=\"black\", size=1) +\n  geom_vline(aes(xintercept=200),color=\"black\", size=1)"},{"path":"different-geoms-and-when-to-use-them.html","id":"continuous-continuous","chapter":"8 Different Geoms and When To Use Them","heading":"8.3 Continuous ~ Continuous","text":"RelationshipsWhen exploring relationship two continuous variables, two main visualizations can work : scatter plots 2d histograms. main difference one pick large dataset trying visualize .","code":""},{"path":"different-geoms-and-when-to-use-them.html","id":"scatter-plot","chapter":"8 Different Geoms and When To Use Them","heading":"8.3.1 Scatter plot","text":"recall previous lessons, use geom_point() scatter plots. scatter plot point visualization represents observation data.Use scatter plots datasets lower n’s . also saw , even alpha adjustments, datasets large n’s can look pretty gnarly:","code":"\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = bill_depth_mm)) +\n  geom_point()\ndiamonds %>%\n  ggplot(aes(y = table, x = depth)) +\n  geom_point(alpha = 0.1)"},{"path":"different-geoms-and-when-to-use-them.html","id":"d-histogram","chapter":"8 Different Geoms and When To Use Them","heading":"8.3.2 2d Histogram","text":"Alternatively, working dataset large n, can use 2d histogram geom_bin2d().Like scatter plot, point represents observation. However, also given information many observations may occupying /similar space. example, lighter spot, concentrated observations spot. canA twist 2d Histogram make hexbin plot, essentially thing uses hexagons instead squares. Everything else , use geom_hex(). also gives added benefit making feel like casting hex data (sometimes ’re coding, look little fun can).conclusions draw two identical. choice two largely personal preference.","code":"\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = bill_depth_mm)) +\n  geom_bin2d()\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = bill_depth_mm)) +\n  geom_hex()"},{"path":"different-geoms-and-when-to-use-them.html","id":"adding-conditional-means","chapter":"8 Different Geoms and When To Use Them","heading":"8.3.3 Adding Conditional Means","text":"can sometimes good idea include line best fit show trend data. can aid seeing patterns data. can geom_smooth().two main arguments relevance now method= se=. method= argument gets set “lm”, saying want fit line linear model. se= refers whether show Standard Error line.Well… Hang . … okay yes line, may expecting see. highlights important point: Just CAN fit line something always mean .","code":"\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = bill_depth_mm)) +\n  geom_point() +\n  geom_smooth(method = 'lm', se = FALSE)"},{"path":"different-geoms-and-when-to-use-them.html","id":"rugs-and-margins","chapter":"8 Different Geoms and When To Use Them","heading":"8.3.4 Rugs and Margins","text":"Another neat trick can add information individual distribution margins visualization.One way adding “rug” scatter plots. can geom_rug().Another way showing individual histograms continuous variables. can using ggMarginal() ggExtra package.\nNote: ggMarginal part ggplot proper, isn’t added like geoms. Instead, pipe ggplot graph . , must wrap ggplot code parentheses. way, entire visualization gets piped just last piece!\n","code":"\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = bill_depth_mm)) +\n  geom_point()+\n  geom_rug(alpha=0.1, size=1.5)\n(penguins %>%\n  ggplot(aes(y = body_mass_g, x = bill_depth_mm)) +\n  geom_point()) %>%\nggExtra::ggMarginal(type = \"histogram\")"},{"path":"different-geoms-and-when-to-use-them.html","id":"continuous-categorical","chapter":"8 Different Geoms and When To Use Them","heading":"8.4 Continuous ~ Categorical","text":"ComparisonsArguably, common thing create graph visualize comparison data many different conditions (levels) variable. Specifically, compare summary statistics . example:\n> average weight (body_mass_g) penguins compare across islands (island).Maybe case islands better food sources others, penguins can gorge food coma day long penguins islands lucky.LOT options visualize comparisons kind. examples, also see important guidelines implement follow.\nNote: looking values one continuous variable compare across levels categorical variable, helpful first examine values continuous variable vary begin .\n","code":"\npenguins %>%\n  ggplot(aes(x = body_mass_g)) +\n  geom_histogram(color = 'black')"},{"path":"different-geoms-and-when-to-use-them.html","id":"stat_summary","chapter":"8 Different Geoms and When To Use Them","heading":"8.4.1 stat_summary()","text":"stat_summary() function extremely powerful versatile function can used create visualization summarizing y values unique x value. fun = argument specifies type summary want visualize y values. geom = argument specifies want results visualized. short, tell want visualize .summary function use often likely “mean” (average), can also use number others including “median”, “max”, “min”, “sd” (standard deviation), etc., compare several different summary statistics groups x-axis variable. examples follow use mean.Just several summary statistics can use, several ways can visualize summary statistics…","code":""},{"path":"different-geoms-and-when-to-use-them.html","id":"bar-1","chapter":"8 Different Geoms and When To Use Them","heading":"8.4.1.1 Bar","text":"canonical visualization bar chart, using “bar” geom.\nGoing forward, bring back habit making predictions /summarizing visualizations create. first declare formal prediction specifying two mutually exclusive alternative patterns observed visualizations. working idea (hypothesis), subsequent predictions can just refer hypothesis rather explicitly stating . making visualization, ’ll write short summary visualization shows.\n“case differences penguin weight explained island live (e.g., penguins islands heavier average penguins islands), bars higher lower others. case differences penguin weight explained island live , bars roughly equivalent heights.”visualization can see , generally speaking, penguins Biscoe island seem heaviest heavier average penguins either Dream Torgersen island. penguins Dream Torgensen island seem similar weight. can see pattern noticing bar representing Biscoe island higher bars Dream Torgersen islands (height).Unlike histogram, height bar shows mean levels categorical variable, counts observations.","code":"\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  stat_summary(fun = \"mean\", geom = \"bar\")"},{"path":"different-geoms-and-when-to-use-them.html","id":"point","chapter":"8 Different Geoms and When To Use Them","heading":"8.4.1.2 Point","text":"Instead representing means bar geom, “point”.Compared means represented bars, difference average weight penguins Biscoe island two islands looks much drastic. ? data, just visualized differently. note scale y-axis changed . Instead running 0 - 5000 like bar chart, runs 3750 - 4750. Modifying axis scales covered later, now reminder cognizant scales making interpretation, scale might skew interpretations someone makes visualization!","code":"\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  stat_summary(fun = \"mean\", geom = \"point\")"},{"path":"different-geoms-and-when-to-use-them.html","id":"line","chapter":"8 Different Geoms and When To Use Them","heading":"8.4.1.3 Line","text":"Another way visualize line instead bars points.Hm, okay, work. R telling something though:\ngeom_path: group consists one observation. need adjust group aesthetic?\ntelling line R trying make needs know points trying connect. know want individual pieces visualization (, mean body_mass_g level island) grouped together, group one observation. R even gave recommendation fix asking need adjust group aesthetic! new aesthetic covered later.now, R needs know levels island treated coming group. can done simply telling R one group:island (x-axis variable) categorical, ggplot try draw individual lines level default. However, , one value factor level least two points needed create line!number different styles line can use changing “linetype”:Different geoms can also combined. example, point lines make line plot look little cleaner.can use , line plots best used time series data.","code":"\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  stat_summary(fun = \"mean\", geom = \"line\")\n#> geom_path: Each group consists of only one observation.\n#> Do you need to adjust the group aesthetic?\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island, group = 1)) +\n  stat_summary(fun = \"mean\", geom = \"line\")\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island, group = 1)) +\n  stat_summary(fun = \"mean\", geom = \"line\", linetype = \"dashed\")\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island, group = 1)) +\n  stat_summary(fun = \"mean\", geom = \"point\") +\n  stat_summary(fun = \"mean\", geom = \"line\")"},{"path":"different-geoms-and-when-to-use-them.html","id":"error-bars","chapter":"8 Different Geoms and When To Use Them","heading":"8.4.2 Error bars","text":"want visualizations informative possible. Keeping mind, often want give appreciation much variability data (showing mean). accomplished including error bars (either confidence intervals (CI) Standard Error Mean (SEM)) around summary statistics. use SEM course.manually compute upper lower values error bars mean, fortunately ggplot2 number built ways ! Even convenient, just another extension stat_summary(). , want standard error mean (“mean_se”), want represented error bars (“errorbar”).change anything raw data create new dataframes, stat_summary() just everything !one difference note use fun.data = instead fun =. “mean_se” give mean, upper, lower SE boundaries. Since getting multiple pieces information x-axis value, use slightly different argument.Another thing may note ugly looks. error bars far wide. can change width aesthetic.looks bit better, like see published peer-reviewed journal article.Error bars can added geoms:can also rendered different shapes:shortcut, “pointrange” geom can used create point mean line error bars:gives basically graph , uses one stat_summary() call! downside slightly less control customizing line point separately.","code":"\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  stat_summary(fun = \"mean\", geom = \"bar\") +\n  stat_summary(fun.data = \"mean_se\", geom = \"errorbar\")\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  stat_summary(fun = \"mean\", geom = \"bar\") +\n  stat_summary(fun.data = \"mean_se\", geom = \"errorbar\",\n               width = 0.3)\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  stat_summary(fun = \"mean\", geom = \"point\") +\n  stat_summary(fun.data = \"mean_se\", geom = \"errorbar\", width = 0.2)\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  stat_summary(fun = \"mean\", geom = \"point\") +\n  stat_summary(fun.data = \"mean_se\", geom = \"linerange\")\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  stat_summary(fun.data = \"mean_se\", geom = \"pointrange\")"},{"path":"different-geoms-and-when-to-use-them.html","id":"boxplots","chapter":"8 Different Geoms and When To Use Them","heading":"8.4.3 Boxplots","text":"Another way get sense distribution data use box plots.can create boxplot using geom_boxplot()","code":"\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  geom_boxplot()"},{"path":"different-geoms-and-when-to-use-them.html","id":"problem-with-summary-stats","chapter":"8 Different Geoms and When To Use Them","heading":"8.4.4 Problem With Summary Stats","text":"first lesson visualizations, saw many different datasets distributions consistent summary statistics (datasauRus dozen Anscombe’s quartet). rationale visualizations important. However, plot nothing summary statistics, much better reporting summary statistics numbers! never know summary statistics hiding data:\nArtwork Horst (2022)\nboxplots give better sense distribution providing information just bar mean SEM , many datasets can consistent boxplot !\nSource: Stats, Different Graphs…\nbar charts boxplots conventionally common way represent data, just seen problematic can . always recommended visualize distribution data! way transparent accurately communicate patters data. reason, strongly advise using bars represent means.graphs outlined help achieve goals visualizing summary statistics raw distributions individual participant data dataset.","code":""},{"path":"different-geoms-and-when-to-use-them.html","id":"violin-plots","chapter":"8 Different Geoms and When To Use Them","heading":"8.4.5 Violin Plots","text":"dataset large /creating visualization lot observations, violin plots can helpful. similar boxplots show little less information sensitive changes distribution raw data.\nSource: Stats, Different Graphs…\ncan create violin plot geom_violin()width section violin plot corresponds number observations area. Violin plots can also pair nicely boxplot!way, get benefits boxplot also conveying information underlying distribution. Since ggplot additive/layered system, can combine different geoms elements make particularly effective visualizations!","code":"\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  geom_violin()\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  geom_violin() +\n  geom_boxplot(width = 0.2)"},{"path":"different-geoms-and-when-to-use-them.html","id":"jitter-plots","chapter":"8 Different Geoms and When To Use Them","heading":"8.4.6 Jitter Plots","text":"wanted actually show full distribution data, might think use geom_point() like create scatter plot. However, since x-axis categorical variable, data points value:can add noise (space) data using geom_jitter() jitter data points. Jitter plots especially good variables small n’s. can start little messy difficult read larger n’s though.dataset large, jitter plots can paired number geoms summary statistics create effective visualizations. Consider examples :Combine jitter mean SE:Combine jitter boxplots:jitter violin plots:","code":"\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  geom_point()\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  geom_jitter()\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  geom_jitter(height = 0, width = 0.2, \n              size = 1, alpha = 0.5,\n              color = \"darkgreen\") +\n    stat_summary(fun.data = \"mean_se\",\n               geom = \"pointrange\",\n               color = \"black\",\n               fill = \"red\",\n               shape = 21,\n               size = 0.5)\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  geom_jitter(alpha = 0.4, height = 0, width = 0.2, size = 1) +\n    stat_summary(fun.data = \"mean_se\",\n               geom = \"errorbar\",\n               color = \"orange\",\n               width = 0.1,\n               size = 1) +\n  stat_summary(fun = \"mean\",\n               geom = \"point\",\n               color = \"red\",\n               size = 2)\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  geom_boxplot(width = 0.6) +\n  geom_jitter(height = 0, width = 0.1,\n              alpha = 0.5, color = \"seagreen\")\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  geom_violin() +\n  geom_jitter(alpha = 0.4, width = 0.05) +\n  stat_summary(fun = \"mean\",\n               geom = \"point\",\n               color = \"red\")"},{"path":"different-geoms-and-when-to-use-them.html","id":"limits","chapter":"8 Different Geoms and When To Use Them","heading":"8.4.6.1 Limits","text":"3 important things mindful creating jitter plot.adding noise, can quite literally change data visualized. problem categorical variable, like x-axis, small shifts position change value associated point. continuous variables, like y-axis, . reason, recommended jitter along categorical variable. Since y-axis continuous, don’t want height points change. can tell ggplot height argument. preserve actual y-axis value, visualization represent true values dataset.jitter added visualization random. Every time make jitter plot, even rerun code jitter plot, jitter ’s added random visualization look slightly different!jitter added visualization random. Every time make jitter plot, even rerun code jitter plot, jitter ’s added random visualization look slightly different!running code generate jitter plot, sometimes code may work produce graph seems normal accompanied text output console:running code generate jitter plot, sometimes code may work produce graph seems normal accompanied text output console:\nWarning messages: 1: Removed X rows containing non-finite values (stat_smooth). 2: Removed X rows containing missing values (geom_point).\nCRITICALLY important mindful types errors. happening visualization actually showing data! message means X data points removed dataset generating graph. can particularly problematic visualizing summary statistics, like means error bars, reflecting true values dataset!!!common reason receiving error data points values captured axes limits. can either manually limited axis contain known value, value jittered past axis limit. later, now take home point look always check code warning/error messages (general, especially jittering).","code":"\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  geom_jitter(height = 0)"},{"path":"different-geoms-and-when-to-use-them.html","id":"variations-on-jitter","chapter":"8 Different Geoms and When To Use Them","heading":"8.4.7 Variations on Jitter","text":"","code":""},{"path":"different-geoms-and-when-to-use-them.html","id":"strip-chart","chapter":"8 Different Geoms and When To Use Them","heading":"8.4.7.1 Strip Chart","text":"strip chart variation jitter plot. basically jitter plot represents mean small horizontal line (using “crossbar” geom).","code":"\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) + \n  geom_jitter(height = 0, width = .1, \n              colour = \"darkmagenta\",\n              alpha = .5) + \n  stat_summary(fun = \"mean\", \n               geom = \"crossbar\", \n               width = 0.3)"},{"path":"different-geoms-and-when-to-use-them.html","id":"beeswarmdot-plot","chapter":"8 Different Geoms and When To Use Them","heading":"8.4.7.2 Beeswarm/Dot Plot","text":"Another variation jitter plots Beeswarm Dot plotThe settings can quite temperamental, play around binwidth, stackratio, dotsize, dialed can make nice looking visualizations. Especially paired boxplot:","code":"\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +   \n  geom_dotplot(stackdir = \"center\", \n               binaxis = \"y\", \n               binwidth = 80,\n               stackratio = 1,\n               fill = \"cyan3\", \n               colour = \"cyan3\")\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +  \n  geom_boxplot() + \n  geom_dotplot(binaxis = 'y', \n               stackdir = 'center', \n               stackratio = 1, \n               binwidth = 80,\n               binpositions = \"all\",\n               dotsize = 1,\n               alpha = .45, \n               fill = \"cyan3\", \n               colour = \"cyan3\")"},{"path":"different-geoms-and-when-to-use-them.html","id":"ridgeline-plot","chapter":"8 Different Geoms and When To Use Them","heading":"8.4.8 Ridgeline Plot","text":"Ridgeline plots, formerly known joy plots, allows visualize distributions numerical variable different levels categorical variable. important distinction ridgeline plots require continuous variable x-axis categorical variable y-axis.Using “scale” argument gives space distribution.Like jitter plots, serve foundation several different visualizations. example, popular extension ridgeline plot make raincloud plot:variations raincloud plots lineranges (look better variability – example ), etc.:","code":"\npenguins %>%\n  ggplot(aes(x = body_mass_g, y = island)) +\n  ggridges::geom_density_ridges(scale = 0.9)\npenguins %>%\n  ggplot(aes(x = body_mass_g, y = island)) +  \n  ggridges::geom_density_ridges(jittered_points = TRUE, \n                      position = \"raincloud\",\n                      scale = 0.4)\npenguins %>%\n  ggplot(aes(x = body_mass_g, y = island)) +\n  ggridges::geom_density_ridges(scale = 0.9) +\n  stat_summary(fun.data = \"mean_se\", geom = \"pointrange\")"},{"path":"different-geoms-and-when-to-use-them.html","id":"new-arguments-and-functions","chapter":"8 Different Geoms and When To Use Them","heading":"8.5 New Arguments and Functions","text":"","code":""},{"path":"different-geoms-and-when-to-use-them.html","id":"faceting","chapter":"8 Different Geoms and When To Use Them","heading":"8.5.1 Faceting","text":"plot data may contain data several different variables time.can help differentiate different subsets data adding aesthetics, sometimes may want just separate entirely different graphs. known “faceting” (confused facetuning), can done using facet_grid(). Faceting allows apply ggplot code different subsets data, generating multiple graphs time.facet_grid(), must specify variable(s) want facet , whether want graphs spread across different columnsor spread across different rows.larger datasets, can facet across rows one variable columns another. quick, easy, yet powerful way explore larger datasets conditional relationships may exist certain variables.","code":"\npenguins %>%\n     ggplot(aes(y = body_mass_g, x = bill_depth_mm)) +\n     geom_point()\npenguins %>%\n    ggplot(aes(y = body_mass_g, x = bill_depth_mm)) +\n    geom_point() + \n    facet_grid(cols = vars(island))\npenguins %>%\n    ggplot(aes(y = body_mass_g, x = bill_depth_mm)) +\n    geom_point() + \n    facet_grid(rows = vars(island))\npenguins %>%\n    ggplot(aes(y = body_mass_g, x = bill_depth_mm)) +\n    geom_point() + \n    facet_grid(rows = vars(island),\n               cols = vars(species))"},{"path":"different-geoms-and-when-to-use-them.html","id":"groups","chapter":"8 Different Geoms and When To Use Them","heading":"8.5.2 Groups","text":"Previously, made line plot looked something like :noted since gear (x-axis variable) categorical, ggplot try draw individual lines level default. Since, one value factor level (mean), least two points needed create line, tell ggplot group 1 data point using group argument.notion grouping powerful another way can plot subsets data without make changes , manually compute summaries , raw data.example, can look wt changes across gear cars different cylinders grouping cyl.often studies within-subjects designs (multiple measurements subject – particularly developmental/infant studies), see figures look like :easily accomplished simply adding group aesthetic!grouping data visualization code, may run instances graph winds looking funky. often result overlapping geoms.fix , talk positions…","code":"\nmtcars %>%\n    ggplot(aes(y = wt, x = factor(gear), group = 1)) +\n    stat_summary(fun = \"mean\", geom = \"line\")\nmtcars %>%\n    ggplot(aes(y = wt, x = factor(gear), \n               group = factor(cyl), color = factor(cyl))) +\n    stat_summary(fun = \"mean\", geom = \"line\")\nweight_example %>%\n  ggplot(aes(y = Weight, x = Season)) + \n  geom_boxplot() +\n  geom_point() +\n  geom_line(aes(group = ID))"},{"path":"different-geoms-and-when-to-use-them.html","id":"positions","chapter":"8 Different Geoms and When To Use Them","heading":"8.5.3 Positions","text":"\n(great album though!)\nggplot2 number position/adjustment arguments can used cases. fact, already touched one! Jittering essence position adjustment. can create jitter plot using geom_jitter(), also accomplish thing using geom_point() setting position argument. e.g.,geom_point(position = \"jitter\") geom_point(position=position_jitter())effect thing. However, want include specific arguments (e.g., specify much vertical horizontal jitter ), can using longer position_X() format. helps create reproducible graphs, jitter otherwise random every time run code create graph! Changing positional adjustments can drastically alter visualization generate.quick examples graph came looking funky, using positional adjustments can fix .","code":""},{"path":"different-geoms-and-when-to-use-them.html","id":"identity","chapter":"8 Different Geoms and When To Use Them","heading":"8.5.3.1 Identity","text":"things start “identity” default position argument. Identity just overlaps elements:often results elements visualization hidden (definitely seems counterproductive).","code":"\npenguins %>%\n ggplot(aes(x = island, fill = species)) +\n  geom_bar(position = \"identity\")"},{"path":"different-geoms-and-when-to-use-them.html","id":"dodging","chapter":"8 Different Geoms and When To Use Them","heading":"8.5.3.2 Dodging","text":"position = “dodge” places overlapping objects directly beside one another. makes easier compare individual values.Note difference dodge dodge2 latter creates bit space elements. ’ll also notice , compared identity, scale y-axis graphs changed.useful geoms bars well:Probably common use case errorbars CIs. Observe following. default, often come looking funky:Adding position adjustments corrects !Sometimes want simultaneously dodge jitter. can jitterdodge.still quite cluttered needs work, way better !","code":"\npenguins %>%\n  ggplot(aes(x = island, fill = species)) +\n  geom_bar(position = position_dodge())\npenguins %>%\n  ggplot(aes(x = island, fill = species)) +\n  geom_bar(position = position_dodge2())\npenguins %>%\n ggplot(aes(y = body_mass_g, x = island, fill = species)) +\n     geom_point(shape = 21)\npenguins %>%\n ggplot(aes(y = body_mass_g, x = island, fill = species)) +\n     geom_point(shape = 21, position = position_dodge(width = .75))\ndata.frame(\n  x = c(\"a\",\"a\",\"b\",\"b\"),\n  y = 2:5,\n  g = rep(1:2, 2)\n) %>%\n  ggplot(aes(x, y, group = g)) +\n  geom_col(position = \"dodge\", fill = \"grey50\", colour = \"black\")+\n  geom_errorbar(\n  aes(ymin = y - 1, ymax = y + 1),\n  width = 0.2,\n  position = \"dodge\"\n)\ndata.frame(\n  x = c(\"a\",\"a\",\"b\",\"b\"),\n  y = 2:5,\n  g = rep(1:2, 2)\n) %>%\n  ggplot(aes(x, y, group = g)) +\n  geom_col(position = \"dodge\", fill = \"grey50\", colour = \"black\")+\n  geom_errorbar(\n    aes(ymin = y - 1, ymax = y + 1),\n    width = 0.2,\n    position = position_dodge(width = 0.9)\n)\npenguins %>%\nggplot(aes(x = island, y = body_mass_g, fill = species)) +\n    geom_boxplot(outlier.size = 0) +\n    geom_point(shape = 21)\npenguins %>%\nggplot(aes(x = island, y = body_mass_g, fill = species)) +\n    geom_boxplot(outlier.size = 0) +\n    geom_point(shape = 21, \n               position = position_jitterdodge(jitter.width = 0.3))"},{"path":"different-geoms-and-when-to-use-them.html","id":"stacking","chapter":"8 Different Geoms and When To Use Them","heading":"8.5.3.3 Stacking","text":"position = “fill” works like stacking, makes set stacked bars uniform height. makes easier compare proportions across groups.However, can misleading. Recall total number species == “Gentoo” penguins much greater species == “Chinstrap”, even though don’t look different . can compare proportions easily, proportions may correspond drastically different raw numbers.","code":"\npenguins %>%\nggplot(aes(x = island, fill = species)) +\n  geom_bar(position = position_fill())"},{"path":"different-geoms-and-when-to-use-them.html","id":"categorical-categorical","chapter":"8 Different Geoms and When To Use Them","heading":"8.6 Categorical ~ Categorical","text":"variation visualizations one categorical variable, just adding second variable x-axis aesthetic mapping.add fill= mapping aesthetic set equal species (categorical variable data). can see, kind hard parse, likely used practice quick glimpse collaborators.","code":"\n# Counts\npenguins %>%\n  ggplot(aes(x = island, fill = species)) + \n  geom_bar(stat = \"count\")\n# Proportions\npenguins %>%\n  ggplot(aes(x = island, fill = species)) + \n    geom_bar(position = position_fill())"},{"path":"different-geoms-and-when-to-use-them.html","id":"cont-cat-cat","chapter":"8 Different Geoms and When To Use Them","heading":"8.6.1 Cont ~ Cat + Cat","text":"","code":""},{"path":"different-geoms-and-when-to-use-them.html","id":"add-another-aesthetic-to-any-cont-cat","chapter":"8 Different Geoms and When To Use Them","heading":"8.6.1.1 Add another aesthetic to any Cont ~ Cat","text":"","code":"\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  geom_jitter(#height = 0, width = 0.2, \n              size = 1, alpha = 0.7,\n              #color = \"darkgreen\",\n              aes(fill = species),\n              pch = 21,\n              position = position_jitterdodge()) +\n    stat_summary(fun.data = \"mean_se\",\n               geom = \"pointrange\",\n               color = \"black\",\n               #fill = \"red\",\n               shape = 21,\n               size = 0.5,\n               aes(shape = species,\n                   fill = species),\n               position = position_dodge(width = 0.7))"},{"path":"different-geoms-and-when-to-use-them.html","id":"or-facet","chapter":"8 Different Geoms and When To Use Them","heading":"8.6.1.2 or facet","text":"","code":"\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  geom_jitter(height = 0, width = 0.2, \n              size = 2, alpha = 0.4,\n              pch = 21,\n              aes(shape = island,\n                   fill = island)) +\n    stat_summary(fun.data = \"mean_se\",\n               geom = \"linerange\",\n               color = \"black\",\n               size = 2) +\n      stat_summary(fun = \"mean\",\n               geom = \"point\",\n               color = \"black\",\n               shape = 21,\n               size = 2.5,\n               aes(fill=island))+\n  facet_grid(cols = vars(species))"},{"path":"different-geoms-and-when-to-use-them.html","id":"raster","chapter":"8 Different Geoms and When To Use Them","heading":"8.6.1.3 Raster","text":"useful looking variable interest varies function two variables. Particularly categorical variables many levels.Looks way better levels variables:","code":"\npenguins %>%\n  ggplot(aes(x = island,\n             y = species,\n             z = body_mass_g)) +\n  stat_summary_2d(fun = \"mean\", geom = \"tile\")\ndiamonds %>%\n  ggplot(aes(x = color,\n             y = clarity,\n             z = carat)) +\n  stat_summary_2d(fun = \"mean\", geom = \"tile\",\n                  color = \"black\")"},{"path":"different-geoms-and-when-to-use-them.html","id":"extras","chapter":"8 Different Geoms and When To Use Them","heading":"8.6.1.4 Extras","text":"may asked make visualizations like following. , code case needed.Bars:Lines:Fancier lines:","code":"\npenguins %>%\n  drop_na() %>%\n  ggplot(aes(x = island,\n             y = body_mass_g,\n             group = sex,\n             fill = sex)) +\n  stat_summary(fun = \"mean\",\n               geom = \"bar\",\n               position = position_dodge(width = 0.9),\n               color = \"black\") +\n  stat_summary(fun.data = \"mean_se\",\n               geom = \"linerange\",\n               position = position_dodge(width = 0.9))\npenguins %>%\n  drop_na() %>%\n  ggplot(aes(x = island,\n             y = body_mass_g,\n             group = sex,\n             color = sex)) +\n  stat_summary(fun = \"mean\",\n               geom = \"line\",\n               size = 1) +\n    stat_summary(fun.data = \"mean_se\",\n               geom = \"pointrange\")\npenguins %>%\n  drop_na() %>%\n  ggplot(aes(x = island,\n             y = body_mass_g,\n             group = sex,\n             color = sex)) +\n  stat_summary(fun = \"mean\",\n               geom = \"line\",\n               size = 2) +\n    stat_summary(fun.data = \"mean_se\",\n               geom = \"pointrange\",\n               size = 1) +\n    geom_vline(xintercept = seq(from = 0.5,\n                              by = 1,\n                              length.out = 3.5),\n             linetype = 2,\n             color = \"gray20\")"},{"path":"different-geoms-and-when-to-use-them.html","id":"cont-cont-cat","chapter":"8 Different Geoms and When To Use Them","heading":"8.6.2 Cont ~ Cont + Cat","text":"Faceting scatter plots:","code":"\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = bill_depth_mm)) +\n  geom_point()+\n  facet_grid(cols = vars(species))"},{"path":"different-geoms-and-when-to-use-them.html","id":"cont-cont-cont","chapter":"8 Different Geoms and When To Use Them","heading":"8.6.3 Cont ~ Cont + Cont","text":"Similar 2d histogram except instead counts, z-axis shows values continuous variable.","code":"\npenguins %>%\n  ggplot(aes(y = body_mass_g,\n             x = bill_depth_mm,\n             z = flipper_length_mm)) +\n  stat_summary_2d(color = \"black\")\npenguins %>%\n  ggplot(aes(y = body_mass_g,\n             x = bill_depth_mm,\n             z = flipper_length_mm)) +\n  stat_summary_hex(color = \"black\")"},{"path":"different-geoms-and-when-to-use-them.html","id":"custom-geoms","chapter":"8 Different Geoms and When To Use Them","heading":"8.7 Custom geoms","text":"one exception, visualizations covered use geoms built ggplot2. However, saw one exception, packages contain many geoms use ggplot! addition loading new geoms packages, can use code create . ’ve included code create 2 geoms can used make 2 visualizations currently pretty popular:","code":""},{"path":"different-geoms-and-when-to-use-them.html","id":"split-violin-plot","chapter":"8 Different Geoms and When To Use Them","heading":"8.7.1 Split Violin Plot","text":"split violin plot allows easily compare two groups (across levels another variable).\nNote: works comparing two groups! imagine difficult create visualization island measurements 2 species. possible 3 violins 3 box plots work.\n","code":"\nsource(\"geom_split_violin.R\")\npenguins %>%\nggplot(aes(x = island, y = body_mass_g, fill = species)) +\n  geom_split_violin(trim = FALSE, alpha = .4)+\n  geom_boxplot(width = .2, alpha = .6, \n               fatten = NULL, show.legend = FALSE) +\n  stat_summary(fun.data = \"mean_se\", geom = \"pointrange\", \n               show.legend = F, \n               position = position_dodge(.175))"},{"path":"different-geoms-and-when-to-use-them.html","id":"raincloud","chapter":"8 Different Geoms and When To Use Them","heading":"8.7.2 Raincloud","text":"Raincloud plots mentioned passing . However, can extremely effective ways communicating lot information. example template code fleshed version.","code":"\nsource(\"geom_flat_violin.R\")\nrain_height <- .1\n\npenguins %>%\nggplot(aes(x = \"\", y = body_mass_g, fill = species)) +\n  # clouds  \n  geom_flat_violin(position = position_nudge(x = rain_height+.05),\n                   alpha = 0.4, trim = FALSE) + \n  # rain\n  geom_point(aes(colour = species), size = 2, \n             alpha = .5, show.legend = FALSE, \n              position = position_jitter(width = 0.05, height = 0)) +\n  # boxplots\n  geom_boxplot(width = 0.05, alpha = 0.4, \n               show.legend = FALSE, outlier.shape = NA,\n               position = position_nudge(x = -rain_height*2)) +\n  # mean and SE point in the cloud\n  stat_summary(fun.data = mean_cl_normal, mapping = aes(color = species), \n               show.legend = FALSE,\n               position = position_nudge(x = rain_height * 3)) +\n  # adjust layout\n  scale_x_discrete(name = \"\", expand = c(rain_height*3, 0, 0, 0.7)) +\n  scale_y_continuous(limits = c(2000, 7000)) +\n  coord_flip()"},{"path":"different-geoms-and-when-to-use-them.html","id":"best-practices","chapter":"8 Different Geoms and When To Use Them","heading":"8.8 Best Practices:","text":"guidelines best practices considered designing visualizations.Graphs EASILY readable visually, first foremost. top design philosophy constructing graphs.\nLabel everything (axes, titles, legends, anything else) make labels intuitive.\nFollow conventions: y = response variable, x = predictor, mindful variable types, etc.\nPeople need review caption understand visualization showing.\nLabel everything (axes, titles, legends, anything else) make labels intuitive.Follow conventions: y = response variable, x = predictor, mindful variable types, etc.People need review caption understand visualization showing.Graphs purposeful\nspecific relationship trend data trying communicate?\nspecific relationship trend data trying communicate?Graphs facilitate quantitatve interpretation comparison, allow inferential statistics eye.\nRepresent variability (show full distribution, include errorbars confidence intervals).\nShow relationship trends, means, etc.\nRepresent variability (show full distribution, include errorbars confidence intervals).Show relationship trends, means, etc.Cool =/= best.\nJust can make crazy complex graph visualizes lot different variables, might even interactive show lot information, doesn’t mean ’s best thing . Just CAN something doesn’t always mean . Keep things simple clean, following conventions type data relationship.\nJust can make crazy complex graph visualizes lot different variables, might even interactive show lot information, doesn’t mean ’s best thing . Just CAN something doesn’t always mean . Keep things simple clean, following conventions type data relationship.Make visualization aesthetically pleasing cost wasting ink.","code":""},{"path":"different-geoms-and-when-to-use-them.html","id":"extra-resources","chapter":"8 Different Geoms and When To Use Them","heading":"8.9 Extra Resources","text":"ggplot2 referenceR graphics cookbookggplot2 bookggplot2 cheat sheetHelp understand different types graphsRecommendations best graphs visualizing particular relationshipsr-specific information construct graphsMore r-specific stuff. Top 50 ggplot geomsInfo plotlyggplot2 extensionsFundamentals Data Visualization","code":""},{"path":"different-geoms-and-when-to-use-them.html","id":"citations","chapter":"8 Different Geoms and When To Use Them","heading":"8.10 Citations","text":"always, illustrations (Horst, 2022)(https://twitter.com/allison_horst)Custom violin plots modified source code ","code":""},{"path":"customization.html","id":"customization","chapter":"9 Customization","heading":"9 Customization","text":"Exercise SheetYou now number different graphs toolkit use visualizing different types relationships comparisons data. also learned lot ways tinker geoms aesthetics. Now time add techniques skills customize elements graphs.serve base plot customize:Saving visualization variable prevents need copy/paste entire code time.","code":"\nlibrary(tidyverse)\nlibrary(palmerpenguins)\nbase_plot = penguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  geom_jitter(height = 0, width = 0.1, \n              size = 2, alpha = 0.3,\n              aes(color=island)) +\n    stat_summary(fun.data = \"mean_se\",\n               geom = \"pointrange\",\n               color = \"black\",\n               aes(fill = island),\n               shape = 21,\n               size = 0.5)\n\nbase_plot"},{"path":"customization.html","id":"scaling-the-axes","chapter":"9 Customization","heading":"9.1 Scaling The Axes","text":"default, ggplot use axes settings thinks best highlight data visualized. ,y-axis runs ~2000 - 7000 intervals 1000 starting 3000.can changed using scale_*_* function. first * replaced axes want modify, second type data scale want . , y-axis continuous, scale_y_continuous() used. arguments can used modify shown axis. two reasons might want change .Generally speaking, good practice axes start 0 show full scale. can misleading parts scale obscured removed.Generally speaking, good practice axes start 0 show full scale. can misleading parts scale obscured removed.might issue points jittered past scale result Warning message covered previous lessons.might issue points jittered past scale result Warning message covered previous lessons.Hm. change intervals 1000 500, still shows values 3000 6000. actual range axis changed. Remember graphs plotted (x,y) cartesian coordinates. mind, needs modified limits coordinate system. can done coord_cartesian().Changing limits coordinate system changes zoom visualization underlying data.number scale commands override default, scale_y_log10(), scale_y_sqrt(), scale_y_reverse(), quickly easily change scale. Instead completely transform data, just adding transform axis plot can big time saver much safer!","code":"\nbase_plot +\n  scale_y_continuous(breaks = seq(from = 0, to = 7000, by = 500),\n                     labels = seq(from = 0, to = 7000, by = 500))\nbase_plot +\n  coord_cartesian(ylim = c(0,7000)) + \n  scale_y_continuous(breaks = seq(from = 0, to = 7000, by = 500),\n                     labels = seq(from = 0, to = 7000, by = 500))"},{"path":"customization.html","id":"get-rid-of-padding","chapter":"9 Customization","heading":"9.1.1 Get Rid Of Padding","text":"Even though y-axis starts 0 now, bit space actual start graph 0. default bit padding. can particularly egregious bars:can eliminated expand argument.","code":"\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) + \n  stat_summary(fun = \"mean\", geom = \"bar\")\nbase_plot +\n  coord_cartesian(ylim = c(0,7000)) + \n  scale_y_continuous(breaks = seq(from = 0, to = 7000, by = 500),\n                     labels = seq(from = 0, to = 7000, by = 500),\n                     expand = c(0,0))"},{"path":"customization.html","id":"titles-captions-and-labels-oh-my","chapter":"9 Customization","heading":"9.2 Titles, Captions, and Labels, Oh My!","text":"case visualization interpretable without reference title caption, good visualization clear informative title. Additionally, may noticed ggplot uses variable names values x- y-axis labels values, respectively. often case names easiest work data manipulation/cleaning want displayed visualizations.Fortunately, extremely easy change things! different arguments can passed labs() function:specific arguments used pretty self explanatory. added information visualization, particularly look great. size title subtitle close together, rather small. fact, text pretty small. titles centered footnote left-aligned. Adding information just created needs customized!\nNote: Graphs may look slightly different generate code. hidden formatting back-end included help graphs render properly space constraint.\n","code":"\nbase_plot +\n  coord_cartesian(ylim = c(0,7000)) + \n  scale_y_continuous(breaks = seq(from = 0, to = 7000, by = 500),\n                     labels = seq(from = 0, to = 7000, by = 500),\n                     expand = c(0,0)) +\n  labs(title = \"How Does Penguin Weight Vary Across Islands?\",\n       subtitle = \"Islands Contain Different Penguin Species\",\n       y = \"Body Mass (grams)\",\n       x = \"Island\",\n       tag = \"Figure 1\",\n       caption = \"Note: Error bars represent +/- 1 SEM\")"},{"path":"customization.html","id":"themes","chapter":"9 Customization","heading":"9.3 Themes","text":"theme visualization nuanced customization take place.First, tweaks made thus far saved, prevent need copy/pasting:, prevent need copy/pasting long code strings, subsequent changes just added saved one variable. full code displayed end.ggplot comes number built themes preset settings. Among common theme_minimal(), theme_bw(), theme_classic().start develop personal taste visualizations find pleasing informative. sake illustration, subsequent figures use theme_classic().using one ggplot’s built themes serves good starting point, make manual changes theme’s settings, use theme() function. function works follows, generally speaking, first specify specific element visualization want modify, set equal type element element_*() call (e.g., text, line, blank, etc.), specify part element want change value equal .example, wanted change title text size 18 font, add following code:theme(plot.title = element_text(size = 18)), , commit memory different visualization element names arguments modify! fact, just check handy cheat sheet!common elements ways may want modify highlighted . pretty intuitive, ton explanation.","code":"\nmodified_plot = base_plot +\n  coord_cartesian(ylim = c(0,7000)) + \n  scale_y_continuous(breaks = seq(from = 0, to = 7000, by = 500),\n                     labels = seq(from = 0, to = 7000, by = 500),\n                     expand = c(0,0)) +\n  labs(title = \"How Does Penguin Weight Vary Across Islands?\",\n       subtitle = \"Islands Contain Different Penguin Species\",\n       y = \"Body Mass (grams)\",\n       x = \"Island\",\n       tag = \"Figure 1\",\n       caption = \"Note: Error bars represent +/- 1 SEM\")\nmodified_plot +\n  theme_minimal()\nmodified_plot +\n  theme_bw()\nmodified_plot +\n  theme_classic()"},{"path":"customization.html","id":"titles","chapter":"9 Customization","heading":"9.3.1 Titles","text":"Changing size, font fact (making bold), color, text visualization help improve overall legibility.default, text ggplot2 left-aligned. change location text, need adjust ’s vertical horizontal location coordinate system, using vjust hjust, respectively. adjusting:0 == left-aligned0.5 == centered1 == right-aligned","code":"\nmodified_plot = modified_plot +\n  theme_classic() +\n  theme(plot.title = element_text(size = 18),\n        plot.subtitle = element_text(size = 10, \n                                     color = \"grey50\",\n                                     face = \"bold\"),\n        plot.tag = element_text(face = \"bold\"))\n\nmodified_plot\nmodified_plot = modified_plot +\n  theme(plot.title = element_text(size = 18,\n                                  hjust = 0.5,\n                                  face = \"bold\"),\n        plot.subtitle = element_text(size = 10, \n                                     color = \"grey50\",\n                                     hjust = 0.5),\n        plot.tag = element_text(face = \"bold\"))\n\nmodified_plot"},{"path":"customization.html","id":"captions","chapter":"9 Customization","heading":"9.3.2 Captions","text":"","code":"\nmodified_plot = modified_plot +\n  theme(plot.caption = element_text(hjust = 0,\n                                    face = 'italic'))\n\nmodified_plot"},{"path":"customization.html","id":"axes-titles","chapter":"9 Customization","heading":"9.3.3 Axes Titles","text":"multiple elements visualization (e.g., multiple axis titles), can either change simultaneously (e.g., using axis.title) specify individually (e.g., using axis.title.x axis.title.y).text gets bigger, axes titles seem close tick mark values. needs breathing room keep different elements visually distinct easy parse. Otherwise, visualization trouble can achieved modifying text’s margins – area top, right, bottom, left .Notice margins reference overall orientation graph. add space y-axis title values, even though “bottom” element, right overall graph. Thus, “r” space added margin().","code":"\nmodified_plot +\n  theme(axis.title.x = element_text(size = 14,\n                                    face = \"bold\"),\n        axis.title.y = element_text(size = 14,\n                                    face = \"bold\"))\nmodified_plot = modified_plot +\n  theme(plot.subtitle = element_text(size = 10, \n                                     color = \"grey50\",\n                                     hjust = 0.5,\n                                     margin = margin(b = 0.2, \n                                                     unit = \"inch\")),\n        axis.title.x = element_text(size = 16,\n                                    face = \"bold\",\n                                    margin = margin(t = 0.2, \n                                                    unit = \"inch\")),\n        axis.title.y = element_text(size = 16,\n                                    face = \"bold\",\n                                    margin = margin(r = 0.2, \n                                                    unit = \"inch\")))\n\nmodified_plot"},{"path":"customization.html","id":"axes-values","chapter":"9 Customization","heading":"9.3.4 Axes Values","text":"saw previously actual values axes modified scale_*_* function. appearance values can also customized. values axis, well tick marks lines !\nNote: generally recommended change color axis lines tick marks. included instructional purposes.\nNow looking like publication-worthy visualization!","code":"\nmodified_plot = modified_plot +\n  theme(axis.line.x = element_line(color = \"gray40\", size = 0.5),\n        axis.ticks = element_line(color = \"gray40\", size = 0.5),\n        axis.text = element_text(face = \"bold\",\n                                 color = \"black\",\n                                 size = 12))\n\nmodified_plot"},{"path":"customization.html","id":"setting-a-default","chapter":"9 Customization","heading":"9.3.5 Setting a Default","text":"gone learned ways customize visualizations. may started develop sense think looks best generally – e.g., particular font sizes, spacing, etc. individual visualizations course need tweaks (like correct titles), may settings think can serve good baseline.Instead include theme() code every single visualization make:can just set default automatically applied visualizations make ggplot restart R session. can theme_set()Now new visualizations automatically settings applied default!","code":"\ntheme(plot.title = element_text(size = 18,\n                                face = \"bold\",\n                                hjust = 0.5),\n      plot.subtitle = element_text(size = 10, \n                                   color = \"grey50\",\n                                   face = \"bold\",\n                                   hjust = 0.5,\n                                   margin = margin(b = 0.2, \n                                                   unit = \"inch\")),\n      plot.tag = element_text(face = \"bold\"),\n      plot.caption = element_text(hjust = 0,\n                                  face = 'italic'),\n      axis.title.x = element_text(size = 16,\n                                  face = \"bold\",\n                                  margin = margin(t = 0.2, \n                                                  unit = \"inch\")),\n      axis.title.y = element_text(size = 16,\n                                  face = \"bold\",\n                                  margin = margin(r = 0.2, \n                                                  unit = \"inch\")),\n      axis.line.x = element_line(color = \"gray40\", size = 0.5),\n      axis.ticks = element_line(color = \"gray40\", size = 0.5),\n      axis.text = element_text(face = \"bold\",\n                               color = \"black\",\n                               size = 12))\ntheme_set(theme_classic() + \n            theme(plot.title = element_text(size = 18,\n                                face = \"bold\",\n                                hjust = 0.5),\n      plot.subtitle = element_text(size = 10, \n                                   color = \"grey50\",\n                                   face = \"bold\",\n                                   hjust = 0.5,\n                                   margin = margin(b = 0.2, \n                                                   unit = \"inch\")),\n      plot.tag = element_text(face = \"bold\"),\n      plot.caption = element_text(hjust = 0,\n                                  face = 'italic'),\n      axis.title.x = element_text(size = 16,\n                                  face = \"bold\",\n                                  margin = margin(t = 0.2, \n                                                  unit = \"inch\")),\n      axis.title.y = element_text(size = 16,\n                                  face = \"bold\",\n                                  margin = margin(r = 0.2, \n                                                  unit = \"inch\")),\n      axis.line.x = element_line(color = \"gray40\", size = 0.5),\n      axis.ticks = element_line(color = \"gray40\", size = 0.5),\n      axis.text = element_text(face = \"bold\",\n                               color = \"black\",\n                               size = 12)))\npenguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  geom_violin(aes(fill = island),\n              alpha = 0.2) +\n  geom_jitter(alpha = 0.4, width = 0.05) +\n  stat_summary(fun.data = \"mean_se\",\n               geom = \"pointrange\",\n               aes(color = island),\n               size = 0.5)"},{"path":"customization.html","id":"legends","chapter":"9 Customization","heading":"9.3.6 Legends","text":"Modifying visualization’s legend can bit tricky lot changes can make. One first options get rid altogether, since graphs rely legend comprehension:However, certain cases, particularly displaying information another variable (e.g., indicating penguin sex point shape), legend needed may want customized.","code":"\nmodified_plot +\n  theme(legend.position = \"none\")\npenguins %>%\n  drop_na() %>%\n    ggplot(aes(y = body_mass_g, x = island)) +\n    geom_point(size = 2, alpha = 0.3,\n               shape = 21,\n                aes(fill = sex),\n                position = position_jitterdodge()) +\n    stat_summary(fun.data = \"mean_se\",\n                 geom = \"pointrange\",\n                 color = \"black\",\n                 aes(fill = sex),\n                 shape = 21,\n                 size = 0.5,\n                 position = position_dodge(width = 0.75)) +  \n  coord_cartesian(ylim = c(0,7000)) + \n  scale_y_continuous(breaks = seq(from = 0, to = 7000, by = 500),\n                     labels = seq(from = 0, to = 7000, by = 500),\n                     expand = c(0,0)) +\n  labs(title = \"How Does Penguin Weight Vary Across Islands?\",\n       subtitle = \"Islands Contain Different Penguin Species\",\n       y = \"Body Mass (grams)\",\n       x = \"Island\",\n       tag = \"Figure 1\",\n       caption = \"Note: Error bars represent +/- 1 SEM\",\n        # New code starts here:\n       fill = \"Sex\" # Change Legend label with the name of the mapped aesthetic.\n       ) +\n  theme(legend.box.background = element_rect(color = \"black\", # Add a defined box around legend\n                                             size = 2),\n        legend.title = element_text(face = \"bold\"), # Modify the title\n        legend.text = element_text(face = \"bold\"), # Modify text\n        legend.title.align = 0.5, # Change alignment of legend title. Think of this like an hjust.\n        legend.key = element_rect(fill = \"white\", colour = \"black\") # Add defined boxes around legend key graphic\n        ) "},{"path":"customization.html","id":"combining-graphs","chapter":"9 Customization","heading":"9.4 Combining Graphs","text":"newly acquired data visualization skills, likely creating single visualization time. combine arrange multiple graphs single figure, can use patchwork package!\nArtwork Horst (2022)\nTake following 3 graphs example:Patchwork uses pretty intuitive system create different layouts combining graphs using +, /, | operators.+ combines graphs using default layout (creating square grid possible)/ stack graphs top | places graphs next can nest arrangements created operators. 3 graphs result using | identical +. Using | best communicates intended layout.\nNote: format settings defined single graph may best arrangement multiple graphs combined single visualization. visualizations axes titles labels little big, causing overlap unreadable.\n","code":"\na = penguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  geom_jitter(height = 0, width = 0.1, \n              size = 2, alpha = 0.3,\n              aes(color=island)) +\n    stat_summary(fun.data = \"mean_se\",\n               geom = \"pointrange\",\n               color = \"black\",\n               aes(fill = island),\n               shape = 21,\n               size = 0.5)\na\nb = penguins %>%\n  ggplot(aes(y = body_mass_g, x = species)) +\n  geom_jitter(height = 0, width = 0.1, \n              size = 2, alpha = 0.3,\n              aes(color=species)) +\n    stat_summary(fun.data = \"mean_se\",\n               geom = \"pointrange\",\n               color = \"black\",\n               aes(fill = species),\n               shape = 21,\n               size = 0.5)\nb\nc = penguins %>%\n  drop_na() %>%\n    ggplot(aes(y = body_mass_g, x = sex)) +\n    geom_point(size = 2, alpha = 0.3,\n               shape = 21,\n                aes(fill = sex),\n                position = position_jitter(width = 0.1)) +\n    stat_summary(fun.data = \"mean_se\",\n                 geom = \"pointrange\",\n                 color = \"black\",\n                 aes(fill = sex),\n                 shape = 21,\n                 size = 0.5)\nc\nlibrary(patchwork)\na + b\nb / c\n(c | (a / b))"},{"path":"customization.html","id":"saving-graphs","chapter":"9 Customization","heading":"9.5 Saving Graphs","text":"created masterpieces, may want export can added manuscripts created outside R, posters, anything else. save ggplot graphs, can use ggsave(). several file type options, recommend pdf. generally mainatins high resolution aspect ratio. ggsave(), must specify:filename want graph saved (can/include relative file path)plot want savingthe width height file","code":"\nggsave(plot = a, \n       filename = \"visualizations/test_plot.pdf\",\n       width = 12,\n       height = 8)"},{"path":"customization.html","id":"extra-resources-1","chapter":"9 Customization","heading":"9.6 Extra resources","text":"Data Visualization – practical introduction (Kieran Healy)Graphics communicationPatchwork sourcePatchwork backgroundggplot theme cheat sheet","code":""},{"path":"color-theory.html","id":"color-theory","chapter":"10 Color Theory","heading":"10 Color Theory","text":"Load Packages:Set Theme:Exercise SheetAt point, know important visualize data, several types graphs use create visualizations different relationships comparisons within data, customize elements graphs. Changes specific type graph use, title axes labels, overt ways impact effectiveness visualization. However, things , subtle, significant impact well.Visualizations composed different geometric shapes, lines, edges, contours, colors, etc. mind, important consider different aspects visual perception affect way graph perceived viewer. mind, final part section Visualizations covers color design principles. often overlooked considering make effective visualization, important!\nNote: great visualizations, useful illustrate different concepts.\nvisualizations created thus far colors either automatically chosen R manually, arbitrarily, set. Color choices, like aspects visualization, made intentionally purposefully. , , things consider factor decision making process?","code":"\nlibrary(palmerpenguins)\nlibrary(patchwork)\nlibrary(RColorBrewer)\nlibrary(colorspace)\nlibrary(viridis)\nlibrary(tidyverse)\ntheme_set(theme_classic() + \n            theme(plot.title = element_text(size = 18,\n                                face = \"bold\",\n                                hjust = 0.5),\n      plot.subtitle = element_text(size = 10, \n                                   color = \"grey50\",\n                                   face = \"bold\",\n                                   hjust = 0.5,\n                                   margin = margin(b = 0.2, \n                                                   unit = \"inch\")),\n      plot.tag = element_text(face = \"bold\"),\n      plot.caption = element_text(hjust = 0,\n                                  face = 'italic'),\n      axis.title.x = element_text(size = 16,\n                                  face = \"bold\",\n                                  margin = margin(t = 0.2, \n                                                  unit = \"inch\")),\n      axis.title.y = element_text(size = 16,\n                                  face = \"bold\",\n                                  margin = margin(r = 0.2, \n                                                  unit = \"inch\")),\n      axis.text = element_text(face = \"bold\",\n                               color = \"black\",\n                               size = 12)))\nplot_bar = penguins %>%\n  ggplot(aes(y = body_mass_g, x = island,\n             fill = island)) +\n  stat_summary(fun = \"mean\", geom = \"bar\") +\n  scale_y_continuous(expand = c(0,0))\n\nplot_bar\nplot_jitter = penguins %>%\n  ggplot(aes(y = body_mass_g, x = island)) +\n  geom_jitter(height = 0, width = 0.2, \n              size = 2, alpha = 0.5,\n              aes(color = island)) +\n    stat_summary(fun.data = \"mean_se\",\n               geom = \"pointrange\",\n               size = 0.5)\n\nplot_jitter\nplot_line = penguins %>%\n  ggplot(aes(y = body_mass_g, x = bill_depth_mm, color = bill_depth_mm)) +\n  stat_summary(fun = \"mean\", geom = \"point\", size = 2) +\n  stat_summary(fun = \"mean\", geom = \"line\", size = 1)\n\nplot_line\nplot_hex = penguins %>%\n  ggplot(aes(y = body_mass_g,\n             x = bill_depth_mm,\n             z = flipper_length_mm)) +\n  stat_summary_hex() +\n  labs(fill = \"Flipper Length\")\n\nplot_hex"},{"path":"color-theory.html","id":"hcl-and-color-theory","chapter":"10 Color Theory","heading":"10.1 HCL and Color Theory","text":"discussing considered deciding color choices, good starting place figure meant “color”. many formal definitions ways quantify “color” . purposes , can think “color” composed 3 parts.","code":""},{"path":"color-theory.html","id":"hue","chapter":"10 Color Theory","heading":"10.1.1 Hue","text":"Hue conventionally meant describing something’s color. e.g., red, blue, green, etc. Hues organized along color wheel defined angle (0° - 360°) wheel:Different hues perceived inherent order. example, even though cyan corresponds degree 180 green 120, cyan perceived “bigger” green. Yellow (60°) perceived red (0°) green (120°).","code":""},{"path":"color-theory.html","id":"chrominance-chroma","chapter":"10 Color Theory","heading":"10.1.2 Chrominance (Chroma)","text":"Chroma technically distinct saturation, functionally can viewed . degree purity intensity color. Chroma values range muted/grey fully vivid color. Unlike hue, chroma perceived ordered. e.g., pink viewed “” white red.\nSource: Somewhere Rainbow…\n","code":""},{"path":"color-theory.html","id":"luminance","chapter":"10 Color Theory","heading":"10.1.3 Luminance","text":"Luminance brightness color. ranges scale black white. Like chroma, unlike hue, luminance also perceived ordered. example, grey viewed “” black white.\nSource: Somewhere Rainbow…\n","code":""},{"path":"color-theory.html","id":"why-does-this-matter","chapter":"10 Color Theory","heading":"10.1.4 Why Does This Matter?","text":"point, information may seem fairly irrelevant. Interesting, disconnected. care different components “color”? fair question, people . Consider, though, using color visualization. mapping specific colors viewer observe specific quantity category (depending variable type) data. , course, want mapping accurately meaningfully characterize data representing. example, difference two data points summary statistics maintained choosing values define colors used represent . Beyond numerical accuracy, want difference maintained viewers perception different colors.However, things start get tricky. Consider two graphs :, 5 bars equal height use grey scale ranging dark light. numerically positioned bar exact luminance corresponding bar graph. graph bars touching, darker bars seem comparatively darker lighter bars comparatively lighter. known mach bands classic visual illusion. Luminance important property “color”, perception luminance based relative rather absolute judgments. Even though two things may precisely luminance, perceived color influenced environment surrounding objects!make matters worse, even disregarding impact environmental factors may visual/color perception, HCL color space even perceptually uniform! Two “colors” one unit apart one area HCL space may look similar different, constant across entirety space.take home point color values numerically uniform may perceptually uniform. needs considered choosing color scales palettes visualizations. Perception important thing, scales palettes used perceptually uniform magnitude change level. type color scale, specific color palette, used depends type data visualized use case visualization.","code":""},{"path":"color-theory.html","id":"categorical","chapter":"10 Color Theory","heading":"10.2 Categorical","text":"visualizing categorical/discrete data, color used tool help viewer easily distinguish different groups, levels, categories. Importantly, often case groups, levels, categories, inherent order. example, different political parties, Hogwarts houses, UCSD colleges, pokemon types, etc. distinct groups, inherent order (despite subjective opinions…).instances use qualitative color scale, contains specific set perceptually distinct equivalently different colors. set colors convey particular ordering salience particular colors compared rest.change color scale /palette used visualization, use another scale_*_*() command. first asterisk gets replaced aesthetic mapped, fill color. second gets replaced type scale want use modify. example, manually set HCL parameters color space, use scale_*_hue(). function 3 main arguments:h = range hues use\n(ranged 0 - 360 – default = (c(0,360) + 15))\n(ranged 0 - 360 – default = (c(0,360) + 15))l = luminance\n(lightness; 0-100 – default = 65)\n(lightness; 0-100 – default = 65)c = chroma\n(intensity color – maximum value varies depending combination hue luminance).\n(intensity color – maximum value varies depending combination hue luminance).Look examples :Instead tweaking HCL values, may want just manually choose colors . can done using scale_*_manual(). main argument values, expects vector color names/codes use.can also specify level mapped variable associated specific color:possible, choose colors intrinsically informative intuitive. colors second graph pretty, arbitrary. colors first, hand, may informative. Biscoe might water-based island, Dream might greenery Torgersen flat earth terrain. easy think examples useful. visualizing something Hogwarts houses, probably want use red color Gryffindor green color Slytherin. also cuts need viewer consult legend parse visualization.important consider kind latent information color choices may communicating, especially unintentional!","code":"\n((plot_bar +\n  labs(title = \"Baseline\")) / (plot_bar + \n    scale_fill_hue(c = 200) +\n    labs(title = \"Change Chroma\"))) | ((plot_bar + \n  scale_fill_hue(l = 80) +\n  labs(title = \"Change Luminance\")) / (plot_bar + \n  scale_fill_hue(h = c(0, 60)) + \n  labs(title = \"Change Hue Range\")))\n((plot_jitter +\n  labs(title = \"Baseline\")) / (plot_jitter + \n  scale_color_hue(c = 200) +\n  labs(title = \"Change Chroma\"))) | ((plot_jitter + \n  scale_color_hue(l = 80) +\n  labs(title = \"Change Luminance\")) / (plot_jitter + \n    scale_color_hue(h = c(0, 60)) + \n    labs(title = \"Change Hue Range\")))\nplot_bar +\n  scale_fill_manual(values = c(\"cyan\", \"lightgreen\", \"orange4\"))\nplot_jitter +\n  scale_color_manual(values = c(\"magenta\", \"mediumpurple1\", \n                                \"lightskyblue\"))\nplot_bar +\n  scale_fill_manual(values = c(\"Torgersen\" = \"cyan\",\n                               \"Biscoe\" = \"lightgreen\",\n                               \"Dream\" = \"orange4\"))\nplot_jitter +\n  scale_color_manual(values = c(\"Torgersen\" = \"magenta\",\n                               \"Biscoe\" = \"mediumpurple1\",\n                               \"Dream\" = \"lightskyblue\"))"},{"path":"color-theory.html","id":"continuous","chapter":"10 Color Theory","heading":"10.3 Continuous","text":"","code":""},{"path":"color-theory.html","id":"sequential","chapter":"10 Color Theory","heading":"10.3.1 Sequential","text":"visualizing continuous data, color used tool represent actual data values. , ordering values. example, score 80 exam higher score 70, $40k salary $35k salary, etc.instances use sequential color scale, color gradient,\ncontains sequence colors. Different colors sequence convey two values larger additionally relative distance two values. , , highlights necessity perceptual uniformity adjacent colors scale. function type color scale R scale_*_gradient(). main arguments needed low high value define gradient.sequential scale can defined single hue (default dark light blue):multiple hues:Remember, sequential color gradient create perception values meaningful sequential order. One way help keep constant hue vary chrominance luminance. Another way use gradients readily observed natural world (e.g., light yellow dark red, dark brown green, etc.)creating scale based multiple hues, limited just choosing low high end value. Using scale_*_gradientn() allows create gradient several colors. argument colors takes vector colors linearly create gradient.obviously terrible color schemes, just illustrative purposes. Using scale_*_gradientn() can give bit control exact gradient used.","code":"\nplot_line +\n  scale_color_gradient()\nplot_hex +\n  scale_fill_gradient(low = \"darkgreen\", high = \"palegreen\")\nplot_line +\n  scale_color_gradient(low = \"lavender\", high = \"goldenrod4\")\nplot_hex +\n  scale_fill_gradient(low = \"red\", high = \"yellow\")\nplot_line +\n  scale_color_gradientn(colors = c(\"red\", \"orange\", \"yellow\", \n                                   \"green\", \"blue\"))\nplot_hex +\n  scale_fill_gradientn(colors = c(\"red\", \"brown\", \"yellow\"))"},{"path":"color-theory.html","id":"divergent","chapter":"10 Color Theory","heading":"10.3.2 Divergent","text":"Sometimes may data neutral point true zero, deviations either direction midpoint become meaningful. example, data contains positive negative values, visualizing deviations mean. instances, use divergent scale. divergent color scale essentially two sequential scales appended single common point (0, mean, etc.). Thus, scale needs make readily apparent direction value deviating magnitude deviation. important color gradients halves scale perceptually uniform equivalent perceived magnitude value artifact defined gradient. E.g., values neutral point might seem large magnitude change color deviations stark .create divergent color scale, use scale_*_gradient2() – admittedly little counterintuitive since define 3 values 2 (hopefully little inconsistency now serve way remember :P). addition low high values specified , also need specify mid color. Additionally, may want specify value data serve midpoint two scales. value 0 default.graph , midpoint argument set. default value 0 used, values data fall !, midpoint set mean value flipper_length_mm. note particularly good scale use. midpoint appears 200, values 220 180 equally different midpoint. However, low value (red) darker high value (yellow), 180 values perceived different.","code":"\nplot_hex +\n  scale_fill_gradient2(low = \"red\", mid = \"grey90\", high = \"yellow\")\nplot_hex +\n  scale_fill_gradient2(low = \"red\", mid = \"grey90\", high = \"yellow\",\n                       midpoint = mean(penguins$flipper_length_mm, na.rm = TRUE))"},{"path":"color-theory.html","id":"pre-defined-color-scales","chapter":"10 Color Theory","heading":"10.4 Pre-defined Color Scales","text":"may realized practice exercises, can quite difficult create good color scale scratch perceptually uniform aesthetically pleasing. Fortunately, R number pre-defined color scales can used. built-base R ggplot, others can added packages libraries.","code":""},{"path":"color-theory.html","id":"built-in","chapter":"10 Color Theory","heading":"10.4.1 Built-in","text":"Base R comes following color scales:color scale can used function takes argument n number colors sample color scale.return colors’ hexcode, can passed argument expecting vector color names:","code":"\nrainbow(n)\nheat.colors(n)\nterrain.colors(n)\ntopo.colors(n)\ncm.colors(n)\nplot_hex +\n    scale_fill_gradientn(colors = terrain.colors(4))\nplot_jitter +\n  scale_color_manual(values = heat.colors(3))"},{"path":"color-theory.html","id":"brewer","chapter":"10 Color Theory","heading":"10.4.2 Brewer","text":"way installing tidyverse ggplot2, also access RColorBrewer, contains great pre-defined color scales palettes. Info palettes stored dataframe called brewer.pal.info.Palettes grouped 3 distinct categories:QualitativeSequentialDivergentJust like 3 types color scales outlined ! can quickly visualize palettes display.brewer.() specifying type want see:Note colorblindFriendly argument also used set true. filters results show palettes colorblind friendly. almost reason ever use colorblind friendly palette.palette maximum number colors scale, might curious palette look varying numbers colors. 4 levels variable, maybe one scale accommodate number better another. can see exact colors used given palette number colors using display.brewer.pal().specific values colors can identified brewer.pal().“Okay, cool, get , AWESOME. USE ?!”Fair question! answer easily! ggplot2 built functions easily adopt brewer color palettes. can using scale_*_brewer() categorical data scale_*_distiller() continuous. pass name specific palette.side note, since can use brewer.pal() get vector color values specific palette, can also used way setting colors manually .may sometimes encounter error like :\nError: Continuous value supplied discrete scale\nanother one errors R actually pretty helpful intuitive. just means type color scale function using map data ’s applied . instances like , just need change function ’re using (e.g., brewer vs distiller).","code":"\nbrewer.pal.info\n#>          maxcolors category colorblind\n#> BrBG            11      div       TRUE\n#> PiYG            11      div       TRUE\n#> PRGn            11      div       TRUE\n#> PuOr            11      div       TRUE\n#> RdBu            11      div       TRUE\n#> RdGy            11      div      FALSE\n#> RdYlBu          11      div       TRUE\n#> RdYlGn          11      div      FALSE\n#> Spectral        11      div      FALSE\n#> Accent           8     qual      FALSE\n#> Dark2            8     qual       TRUE\n#> Paired          12     qual       TRUE\n#> Pastel1          9     qual      FALSE\n#> Pastel2          8     qual      FALSE\n#> Set1             9     qual      FALSE\n#> Set2             8     qual       TRUE\n#> Set3            12     qual      FALSE\n#> Blues            9      seq       TRUE\n#> BuGn             9      seq       TRUE\n#> BuPu             9      seq       TRUE\n#> GnBu             9      seq       TRUE\n#> Greens           9      seq       TRUE\n#> Greys            9      seq       TRUE\n#> Oranges          9      seq       TRUE\n#> OrRd             9      seq       TRUE\n#> PuBu             9      seq       TRUE\n#> PuBuGn           9      seq       TRUE\n#> PuRd             9      seq       TRUE\n#> Purples          9      seq       TRUE\n#> RdPu             9      seq       TRUE\n#> Reds             9      seq       TRUE\n#> YlGn             9      seq       TRUE\n#> YlGnBu           9      seq       TRUE\n#> YlOrBr           9      seq       TRUE\n#> YlOrRd           9      seq       TRUE\ndisplay.brewer.all(colorblindFriendly = TRUE, type = \"qual\")\ndisplay.brewer.all(colorblindFriendly = TRUE, type = \"seq\")\ndisplay.brewer.all(colorblindFriendly = TRUE, type = \"div\")\ndisplay.brewer.pal(n = 4, name = 'Reds')\ndisplay.brewer.pal(n = 8, name = 'Reds')\nbrewer.pal(n = 4, name = 'Reds')\n#> [1] \"#FEE5D9\" \"#FCAE91\" \"#FB6A4A\" \"#CB181D\"\nplot_hex +\n    scale_fill_distiller(palette = \"GnBu\")\n\nplot_line +\n  scale_color_distiller(palette = \"RdPu\")\n\nplot_jitter +\n  scale_color_brewer(palette = \"Dark2\")\n\nplot_bar +\n  scale_fill_brewer(palette = \"Set2\")\nplot_hex +\n    scale_fill_gradientn(colors = brewer.pal(n = 4, name = 'BuGn'))\nplot_jitter +\n  scale_color_manual(values = brewer.pal(n = 3, name = 'BuGn'))"},{"path":"color-theory.html","id":"grey-scale","chapter":"10 Color Theory","heading":"10.4.3 Grey scale","text":"ink considerations, sometimes may want just use grey scale. ggplot built function help categorical data (easy continuous) called scale_*_grey(). scale can selected automatically, can specify start end values range 0 (dark) 1 (light).","code":"\nplot_jitter + \n  scale_color_grey()\n\nplot_bar + \n  scale_fill_grey()\n\nplot_bar + \n  scale_fill_grey(start = 0, end = 0.5)\n\nplot_bar + \n  scale_fill_grey(start = 0.5, end = 0.95)"},{"path":"color-theory.html","id":"viridis","chapter":"10 Color Theory","heading":"10.4.4 Viridis","text":"issue colorblind friendly palettes mentioned almost good reason ever use colorblind friendly palette. can hard determine palettes colorblind friendly. good resources help see visualization look different forms colorblindness. One called cvd_emulator() colorspaces package (). Others available online.alternative selecting color palette checking see whether colorblind friendly just choose palette specifically designed interpretable effective variety different color vision types (typical different forms color blindness). come viridis package, introduced earlier!\nSource: viridis documentation\npalettes can easily applied using scale_*_viridis(). specific palette set option argument, can applied categorical data using discrete argumentYou can also generate specific color codes palettes way can base R palettes (outlined )","code":"\nplot_bar + \n  scale_fill_viridis(discrete = TRUE)\n\nplot_jitter + \n  scale_color_viridis(discrete = TRUE, option = \"plasma\")\n\nplot_line + \n  scale_color_viridis(option = \"inferno\")\n\nplot_hex + \n  scale_fill_viridis()\nviridis(n)\nmagma(n)\ninferno(n)\nplasma(n)"},{"path":"color-theory.html","id":"colorspace","chapter":"10 Color Theory","heading":"10.4.5 colorspace","text":"colorspace another package , like RColorBrewer, comes way installing tidyverse ggplot2. also contains number pre-defined color scales palettes. Info palettes can accessed hcl_palettes().can also plot actually see palettes .way actually use palettes quite similar use brewer.pal() use RColorBrewer palettes! type scale function, specify palette number colors . vector colors can used ggplot code.may noticed looking colorspace palettes many seem similar ones RColorBrewer viridis. astute, many similar attempt identical palettes. word “attempt” lot work though, palettes often actually identical., color palette brewer viridis compared colorspace counterpart:stark first comparison subtle second, clear palettes similar quite exact. take home point whenever similar palette available another package, probably go one.“use colorspace ? just showed can told use …”Great question! three noteworthy things can colorspace important . One universally useful, two probably useful REALLY color stuff. included interested, can skipped .can make quick dirty demo plots test color palettes demoplot() function.can helpful want test color palette really think graph apply .can get diagnostic assessment information given color palette using hclplot() specplot(), expect vector color values define particular palette. package repo cran:\nhclplot() - “converts colors palette corresponding hue/chroma/luminance coordinates displays HCL space one dimension collapsed. collapsed dimension luminance qualitative palettes hue sequential/diverging palettes.”\nspecplot() - “also converts colors hue/chroma/luminance coordinates draws resulting spectrum line plot.”can manually adjust chrominance luminance pre-existing palette. arguments (c l respectively) can adjust *_hcl() functions.","code":"\nhcl_palettes()\n#> HCL palettes\n#> \n#> Type:  Qualitative \n#> Names: Pastel 1, Dark 2, Dark 3, Set 2, Set 3, Warm, Cold,\n#>        Harmonic, Dynamic\n#> \n#> Type:  Sequential (single-hue) \n#> Names: Grays, Light Grays, Blues 2, Blues 3, Purples 2,\n#>        Purples 3, Reds 2, Reds 3, Greens 2, Greens 3,\n#>        Oslo\n#> \n#> Type:  Sequential (multi-hue) \n#> Names: Purple-Blue, Red-Purple, Red-Blue, Purple-Orange,\n#>        Purple-Yellow, Blue-Yellow, Green-Yellow,\n#>        Red-Yellow, Heat, Heat 2, Terrain, Terrain 2,\n#>        Viridis, Plasma, Inferno, Dark Mint, Mint,\n#>        BluGrn, Teal, TealGrn, Emrld, BluYl, ag_GrnYl,\n#>        Peach, PinkYl, Burg, BurgYl, RedOr, OrYel,\n#>        Purp, PurpOr, Sunset, Magenta, SunsetDark,\n#>        ag_Sunset, BrwnYl, YlOrRd, YlOrBr, OrRd,\n#>        Oranges, YlGn, YlGnBu, Reds, RdPu, PuRd,\n#>        Purples, PuBuGn, PuBu, Greens, BuGn, GnBu,\n#>        BuPu, Blues, Lajolla, Turku, Hawaii, Batlow\n#> \n#> Type:  Diverging \n#> Names: Blue-Red, Blue-Red 2, Blue-Red 3, Red-Green,\n#>        Purple-Green, Purple-Brown, Green-Brown,\n#>        Blue-Yellow 2, Blue-Yellow 3, Green-Orange,\n#>        Cyan-Magenta, Tropic, Broc, Cork, Vik, Berlin,\n#>        Lisbon, Tofino\nhcl_palettes(type = \"Qualitative\", plot = TRUE)\nhcl_palettes(type = \"Sequential (single-hue)\", plot = TRUE)\nhcl_palettes(type = \"Sequential (multi-hue)\", plot = TRUE)\nhcl_palettes(type = \"Diverging\", plot = TRUE)\nqualitative_hcl(n = 3, palette = \"Harmonic\")\n#> [1] \"#C7A76C\" \"#5CBD92\" \"#7DB0DD\"\nsequential_hcl(n = 3, palette = \"SunsetDark\")\n#> [1] \"#7D1D67\" \"#F65A6D\" \"#FFD99F\"\ndiverging_hcl(n = 3, palette = \"Lisbon\")\n#> [1] \"#E2FCFF\" \"#181818\" \"#FCFCD3\"\nplot_hex +\n    scale_fill_gradientn(colors = sequential_hcl(n = 3, \n                                                 palette = \"SunsetDark\"))\ndemoplot(sequential_hcl(n = 12, palette = \"Peach\"), \"bar\")\ndemoplot(sequential_hcl(n = 7, palette = \"Lajolla\"), \"scatter\")\ndemoplot(sequential_hcl(n = 8, palette = \"SunsetDark\"), \"lines\")\nhclplot(sequential_hcl(n = 7, palette = \"Lajolla\"))\nspecplot(sequential_hcl(n = 7, palette = \"Lajolla\"))"},{"path":"color-theory.html","id":"color-and-design-resources","chapter":"10 Color Theory","heading":"10.5 Color and Design Resources","text":"outside scope course get design principles general can applied visualizations, several good resources . :Visualization Principles Cheatsheet (worth saving!!!)Kieran Healy’s book data visualization, particularly chapter 1, covers lot different design principles can applied graphs.Claus Wilke’s book also great, particularly Part II.General ’s ’sHere general color resources:ggplot Colorsggplot2 bookcolorspaces info","code":""},{"path":"color-theory.html","id":"references-1","chapter":"10 Color Theory","heading":"10.6 References","text":"Stauffer, R., Mayr, G. J., Dabernig, M., & Zeileis, . (2015). Somewhere rainbow: make effective use colors meteorological visualizations. Bulletin American Meteorological Society, 96(2), 203-216.","code":""},{"path":"control-flow.html","id":"control-flow","chapter":"11 Control Flow","heading":"11 Control Flow","text":"Exercise Sheet","code":"\nlibrary(tidyverse)\nlibrary(palmerpenguins)"},{"path":"control-flow.html","id":"ifelse-statements","chapter":"11 Control Flow","heading":"11.1 If/Else statements","text":"","code":""},{"path":"control-flow.html","id":"traditional","chapter":"11 Control Flow","heading":"11.1.1 Traditional","text":"Sometimes, want code perform different actions depending something’s value. circumstances, useful implement ...else statements. statements work :test/condition evaluates TRUE, execute specific code.tests/conditions can appended else statements, specify original test/condition evaluates FALSE based subsequent tests/conditions. syntax basic statement follows:example:x set equal 4. R evaluates test 3 < x statement, equivalent 3 < 4, evaluates TRUE. Since condition evaluates TRUE, runs code curly brackets.x may always 4 though. x 4? know x ? test statement evaluates FALSE, nothing happens. nothing happens, may know error code test just evaluated FALSE. Considering , always good practice set alternative test evaluates FALSE. else statements come .code change x random value, actual value unknown.code specifies depending whether test evaluates TRUE evaluates FALSE.can get specific link several conditions together. may want just 2 options – e.g., something test TRUE something else done cases. Instead using else, use else () specify another test.Writing statements like useful code want run executes function. note , instances print() function code executed (curly brackets). infinite number conditions can chained together ...else chain.define variable z randomly sample value 1:100.Write statement print() “first R ” z less 20. Run code cell.Add else condition statement print, “Still first R , z less 20.” Run code cell.else conditions, add else print “else evaluated TRUE!” z greater 40 less 80. Run code cell.Try running code cell see often string gets printed.\ntwo alternative ways write ...else statements.","code":"if(some test/condition to evaluate) {\ncode for what to do if that test/condition evaluates to true\n}\nx = 4\n\nif(3 < x) {\n  print(\"The condition evaluated TRUE\")\n}\n#> [1] \"The condition evaluated TRUE\"\nx = sample(c(1:6), 1) # From the values 1 to 6, sample 1 value\n\nif(3 < x) {\n  print(\"The condition evaluated TRUE\")\n} else {\n  print(\"the condition evaluated FALSE\")\n}\n#> [1] \"The condition evaluated TRUE\"\nx\n#> [1] 6\nx = sample(c(1:6), 1)\n\nif(4 < x) {\n  print(\"The first condition evaluated TRUE\")\n} else if (2 < x & x < 5) { \n  print(\"The second condition evaluated TRUE\")\n} else {\n  print(\"Neither the first or second condition evaluated TRUE.\")\n}\n#> [1] \"The second condition evaluated TRUE\"\nx\n#> [1] 3"},{"path":"control-flow.html","id":"ifelse","chapter":"11 Control Flow","heading":"11.1.2 ifelse()","text":"ifelse() useful need return values rather execute code/function (like printing character string).ifelse() statements take form:ifelse(test, value return test evaluates TRUE, value return test evaluates FALSE)Multiple ifelse() statements can chained together, akin else adding nested ifelse() call place “FALSE” argument.examples demonstrates :","code":"\nx = sample(c(1:6), 1)\n\nifelse(4 < x, \"The first condition evaluated true.\",\n       ifelse(2 < x & x < 5, \"The second condition evaluated true.\", \n              \"Neither the first or second condition evaluated true.\"))\n#> [1] \"Neither the first or second condition evaluated true.\"\nx\n#> [1] 2"},{"path":"control-flow.html","id":"case_when","chapter":"11 Control Flow","heading":"11.1.3 case_when()","text":"case_when() just different way formulate ifelse() strings, useful many nested tests/conditions specify.sum:Traditional ...else statements useful need result execute code.ifelse() case_when() useful need result specific value often used create new data variables.","code":"\nx = sample(c(1:6), 1)\n\ncase_when(\n  x < 4 ~ \"The first condition evaluated true.\",\n  2 < x & x < 5 ~ \"The second condition evaluated true.\",\n  TRUE ~ \"Neither the first or second condition evaluated true.\"\n)\n#> [1] \"The first condition evaluated true.\"\nx\n#> [1] 3"},{"path":"control-flow.html","id":"loops","chapter":"11 Control Flow","heading":"11.2 Loops","text":"Loops used repeat certain code iteratively, example want apply code element sequence (e.g., columns dataframe, elements vector, etc). basic syntax loop followings:initiates loop, val completely arbitrary can replaced character string. Conventionally just letter , subsequently j k nested loops (loops within loops).simple use case, imagine following scenario:UGIA helping professor exam. series exam scores c(1:10). professor feeling generous wants curve scores 1 point. pretty annoying try manually change value. Instead, can automatically loop!Breaking code step step: First loop initiated, saying wanted iterate element sequence 1 length(x). length() function returns number elements object pass . specified ith element x replaced value resulting sum value + 1 (x[] + 1). value change iteration loop. starts 1 (code tells 1: part), increments 1 iteration, iterating length(x) times.1:length(x) used instead just 10 (number elements vector x) keep code dynamic. illustrates important coding principle: soft coding vs hard coding. Hard coding static unchanging, whereas soft coding dynamic. mean? Well, x may always 10 exam scores. Maybe students take exams OSD, wait days get exams back. want able run code without making modifications. 1:10 used loop, new exam scores added x, code won’t run exams! loop specificed explicitly iterate range 1:10. However, using 1:length(x), length(x) always replaced exact number elements vector x! way, code can used matter many exam scores ! Generally speaking, always want soft code make code dynamic.loops often combined statements apply conditional code iteratively data.\nArtwork Horst (2022)\nImagine instead needing add bonus point every exam, need give particular students bonus completed SONA experiment extra credit.can accomplished adding statement code executed executed iteration:task can accomplished using ifelse(), since goal return values:can see Ally Tyreek’s scores, students completed SONA extra credit, changed.Use loop give 1.5x bonus employees dataframe work_df worked overtime.Rewrite code using ifelse() syntax accomplish goal.\n","code":"for (val in sequence) \n  {code to be executed}\nx = c(1:10) # Exam scores\n\nfor (i in 1:length(x)) {\n  x[i]= x[i] + 1 # Set the ith X to be equal to itself + 1\n  # This will be iterated through each value in x\n}\n\nx # Look at output to verify changes\n#>  [1]  2  3  4  5  6  7  8  9 10 11\ny = data.frame(\"Exam\" = c(1:4), \n               \"Score\" = c(88,90,77,98), \n               \"Student\" = c(\"Dave\", \"Ally\", \n                             \"Tyreek\", \"Jeanie\"), \n               \"Sona\" = c(0,1,1,0))\n\ny\n#>   Exam Score Student Sona\n#> 1    1    88    Dave    0\n#> 2    2    90    Ally    1\n#> 3    3    77  Tyreek    1\n#> 4    4    98  Jeanie    0\nfor (i in 1:nrow(y)) { \n    # Use nrow for a dataframe\n  if(y$Sona[i] == 1){ \n    # $ to index -- You want the y dataframe, \n    # the Student column, and the ith row. \n    y$Score[i] = y$Score[i] + 5 \n          # For every row in the Score column of \n          # the y dataframe, if the condition y$Sona[i] == 1 \n          # evaluates to TRUE, that value is going to be \n          # equal to what is currently there + 5.\n  }\n}\ny = data.frame(\"Exam\" = c(1:4), \n               \"Score\" = c(88,90,77,98), \n               \"Student\" = c(\"Dave\", \"Ally\", \n                             \"Tyreek\", \"Jeanie\"), \n               \"Sona\" = c(0,1,1,0))\n\nfor (i in 1:nrow(y)) {\n  y$Score[i] = ifelse(y$Sona[i] == 1, # Test\n                      y$Score[i]+5, # What to do if TRUE\n                      y$Score[i]) # What to do if FALSE\n}\n\ny\n#>   Exam Score Student Sona\n#> 1    1    88    Dave    0\n#> 2    2    95    Ally    1\n#> 3    3    82  Tyreek    1\n#> 4    4    98  Jeanie    0"},{"path":"tidy-data-and-tidyverse.html","id":"tidy-data-and-tidyverse","chapter":"12 Tidy Data and Tidyverse","heading":"12 Tidy Data and Tidyverse","text":"","code":""},{"path":"tidy-data-and-tidyverse.html","id":"tidy-data","chapter":"12 Tidy Data and Tidyverse","heading":"12.1 Tidy Data","text":"can represent data many different ways. almost cases, best way make sure data tidy. tidy data, row corresponds unique observation, column variable, cell contains value particular observation variable.series illustrations helps explain concept tidy data useful!tidy data?Tidy data like families.Since know sets tidy data structure, tools can used across different datasets.enables universality tools used, rather different people trying accomplish task different ways.makes life better making easier automation & iteration across projects datasets.also makes tidy datasets seem welcoming!\nIllustrations Openscapes blog Tidy Data reproducibility, efficiency, collaboration Julia Lowndes Allison Horst.\n","code":""},{"path":"tidy-data-and-tidyverse.html","id":"tidyverse","chapter":"12 Tidy Data and Tidyverse","heading":"12.2 Tidyverse","text":"tidyverse collection packages “share underlying design philosophy, grammar, data structure” tidy data. tidyverse packages functions tools use fill R workbench, help every step workflow.\nUpdated Grolemund & Wickham’s classis R4DS schematic, envisioned Dr. Julia Lowndes 2019 useR! keynote talk illustrated Allison Horst.\nillustrates Social/Data Science workflow tidyverse suite packages designed help accomplish:Import – get data RImport – get data RTidy – clean format dataTidy – clean format dataTransform – select variables, create new ones, group summarizeTransform – select variables, create new ones, group summarizeVisualize – look data different waysVisualize – look data different ways~Model – answer questions data~\ncovering modeling statistics course\n~Model – answer questions data~covering modeling statistics courseCommunicate – write reproducible research reportsCommunicate – write reproducible research reportsThe majority remaining course content build arsenal tidyverse tools help manage unruly raw data, almost certainly case data get initially messy need lots cleaning prepping!\nArtwork Horst (2022)\n","code":""},{"path":"tidy-data-and-tidyverse.html","id":"investigating-data","chapter":"12 Tidy Data and Tidyverse","heading":"12.3 Investigating Data","text":"One first things working new dataset actually look . might seem obvious simple, important allows get sense type wrangling manipulation may need apply able work data.","code":""},{"path":"tidy-data-and-tidyverse.html","id":"view-full","chapter":"12 Tidy Data and Tidyverse","heading":"12.3.1 View Full","text":"can view data object using View() function. inspect penguins object can run View(penguins) click object RStudio’s global environment panel.","code":""},{"path":"tidy-data-and-tidyverse.html","id":"glimpse","chapter":"12 Tidy Data and Tidyverse","heading":"12.3.2 glimpse","text":"Often times datasets large impractical try comb whole file. much helpful way quickly glimpse data get overall impression . appropriately named function : glimpse()!one function alone, can learn lot data:names variables (columns), also gotten names().names variables (columns), also gotten names().number observations (rows, 344) variables (columns, 8). can also get information nrow() ncol() functions.number observations (rows, 344) variables (columns, 8). can also get information nrow() ncol() functions.variables saved either “fct” (factors), “dbl” (double-precision), “int” (integers).variables saved either “fct” (factors), “dbl” (double-precision), “int” (integers).Use glimpse() exam msleep dataset.information learned dataset output?\n","code":"\nglimpse(penguins)\n#> Rows: 344\n#> Columns: 8\n#> $ species           <fct> Adelie, Adelie, Adelie, Adelie, …\n#> $ island            <fct> Torgersen, Torgersen, Torgersen,…\n#> $ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3…\n#> $ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6…\n#> $ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181…\n#> $ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650…\n#> $ sex               <fct> male, female, female, NA, female…\n#> $ year              <int> 2007, 2007, 2007, 2007, 2007, 20…"},{"path":"tidy-data-and-tidyverse.html","id":"head","chapter":"12 Tidy Data and Tidyverse","heading":"12.3.3 head","text":"glimpse() gives high level snapshot data, can also useful look actual rows data. Looking silly though. really just want look observations see can recognize anything may need corrected. head() function can used . print first rows data argument pass .can specify exact amount rows want print passing second argument head() specifies number rows. E.g.,Use head() exam msleep dataset.Modify head() call look first 7 rows data.\n","code":"\nhead(penguins)\n#> # A tibble: 6 x 8\n#>   species island    bill_length_mm bill_depth_mm\n#>   <fct>   <fct>              <dbl>         <dbl>\n#> 1 Adelie  Torgersen           39.1          18.7\n#> 2 Adelie  Torgersen           39.5          17.4\n#> 3 Adelie  Torgersen           40.3          18  \n#> 4 Adelie  Torgersen           NA            NA  \n#> 5 Adelie  Torgersen           36.7          19.3\n#> 6 Adelie  Torgersen           39.3          20.6\n#> # … with 4 more variables: flipper_length_mm <int>,\n#> #   body_mass_g <int>, sex <fct>, year <int>\nhead(penguins, 10)\n#> # A tibble: 10 x 8\n#>    species island    bill_length_mm bill_depth_mm\n#>    <fct>   <fct>              <dbl>         <dbl>\n#>  1 Adelie  Torgersen           39.1          18.7\n#>  2 Adelie  Torgersen           39.5          17.4\n#>  3 Adelie  Torgersen           40.3          18  \n#>  4 Adelie  Torgersen           NA            NA  \n#>  5 Adelie  Torgersen           36.7          19.3\n#>  6 Adelie  Torgersen           39.3          20.6\n#>  7 Adelie  Torgersen           38.9          17.8\n#>  8 Adelie  Torgersen           39.2          19.6\n#>  9 Adelie  Torgersen           34.1          18.1\n#> 10 Adelie  Torgersen           42            20.2\n#> # … with 4 more variables: flipper_length_mm <int>,\n#> #   body_mass_g <int>, sex <fct>, year <int>"},{"path":"basic-wrangling.html","id":"basic-wrangling","chapter":"13 Basic Wrangling","heading":"13 Basic Wrangling","text":"Exercise Sheet\nArtwork Horst (2022)\nThroughout page, explanations code appear blocks like one!wrangling data, performing series actions clean prepare data whatever task . Whether creating visualizations, performing statistical analyses, anything else, likely need change data object several ways. , several fundamental basic data manipulation functions outlined. notice function names verbs, denoting performing action data object.","code":"\nlibrary(tidyverse) # Load tidyverse packages"},{"path":"basic-wrangling.html","id":"arrange","chapter":"13 Basic Wrangling","heading":"13.1 Arrange","text":"arrange() orders rows data frame values selected columns. default ascending, lowest values first rows.code changes order rows mtcars2 values wt column, lowest top.get rows arranged descending order, highest values top, wrap variable names desc() within arrange() call. second column passed, rows identical values first variable sorted values second.Use arrange() order msleep2 dataset bodywt.Modify arrange() call order bodywt column greatest least.largest animal recorded dataset?\n","code":"\nmtcars2 %>%\n  arrange(wt)"},{"path":"basic-wrangling.html","id":"rename","chapter":"13 Basic Wrangling","heading":"13.2 Rename","text":"\nArtwork Horst (2022)\nColumns dataframe can named poorly several ways. name meaningful interpretable, name long, name includes special characters otherwise difficult work (e.g., including spaces).can rename columns using rename() function. function takes following form:mtcars2 object, several variable names shorthand abbreviations may make sense someone already familiar dataset. rename() can used change :\nNote: address variables order appear df. variable names mapped regardless position!\n","code":"\ndf %>%\n  rename(\"new_column_name\" = \"old_column_name\")\nmtcars2 %>%\n  rename(\"weight\" = \"wt\", \"horse_power\" = \"hp\",\n         \"cylinders\" = \"cyl\", \"displacement\" = \"disp\") %>%\n  head()\n#>            model mpg cylinders displacement horse_power\n#> 1      Fiat X1-9  27         4           79          66\n#> 2  Porsche 914-2  26         4          120          91\n#> 3   Lotus Europa  30         4           95         113\n#> 4 Ford Pantera L  16         8          351         264\n#> 5   Ferrari Dino  20         6          145         175\n#> 6  Maserati Bora  15         8          301         335\n#>   weight gear\n#> 1   1.94    4\n#> 2   2.14    5\n#> 3   1.51    5\n#> 4   3.17    5\n#> 5   2.77    5\n#> 6   3.57    5"},{"path":"basic-wrangling.html","id":"saving-changes","chapter":"13 Basic Wrangling","heading":"13.2.1 Saving Changes","text":"code using rename() changed variable names mtcars2 dataframe. However, look mtcars2 dataframe…variable names , rename() code seems like work! Look carefully code though:code executed just prints results. saved anywhere! actually wanted update dataframe, need save results:Saving object permanent change, though. careful . good practice first make sure code runs intend . verified , can overwrite object like:\nNote: head() used pedagogical purposes, code want use testing changes data. modifying dataframe, want accidentally overwrite first 5 rows new output!\ngood rule thumb need use object current state make significant changes , particularly change structure, create new object (e.g., mtcars3) rather overwrite/update existing one.","code":"\nmtcars2 %>%\n  head()\n#>            model mpg cyl disp  hp   wt gear\n#> 1      Fiat X1-9  27   4   79  66 1.94    4\n#> 2  Porsche 914-2  26   4  120  91 2.14    5\n#> 3   Lotus Europa  30   4   95 113 1.51    5\n#> 4 Ford Pantera L  16   8  351 264 3.17    5\n#> 5   Ferrari Dino  20   6  145 175 2.77    5\n#> 6  Maserati Bora  15   8  301 335 3.57    5\nmtcars2 %>%\n  rename(\"weight\" = \"wt\", \"horse_power\" = \"hp\",\n         \"cylinders\" = \"cyl\", \"displacement\" = \"disp\") %>%\n  head()\nmtcars2 = mtcars2 %>%\n  rename(\"weight\" = \"wt\", \"horse_power\" = \"hp\",\n         \"cylinders\" = \"cyl\", \"displacement\" = \"disp\")\nmtcars2 %>%\n  rename(\"weight\" = \"wt\", \"horse_power\" = \"hp\",\n         \"cylinders\" = \"cyl\", \"displacement\" = \"disp\") %>%\n  head()\n\nmtcars2 = mtcars2 %>%\n  rename(\"weight\" = \"wt\", \"horse_power\" = \"hp\",\n         \"cylinders\" = \"cyl\", \"displacement\" = \"disp\")"},{"path":"basic-wrangling.html","id":"clean-names","chapter":"13 Basic Wrangling","heading":"13.3 Clean Names","text":"\nArtwork Horst (2022)\nclean_names() function janitor package powerful tool change column names specific naming convention. can used easily convert variable names one naming conventions mentioned Coding Best Practices section:snakelower_camelupper_camelscreaming_snakeAs well many others! can access particular function package first specifying package name, two colons, function name. demonstrated illustration , using janitor::clean_names() saying want use clean_names() function defined janitor package.ever want ? Well, worth recognizing functions just variables. Instead value, defined series code. Two variables name co-exist global environment. R know use! define x = 4 x = 6, original x = 4 overwritten.Different packages may use variable names functions contain. load package library(), may overwrite functions loaded packages. Thus, may want use function particular package, load entire package contents override functions!","code":""},{"path":"basic-wrangling.html","id":"relocate","chapter":"13 Basic Wrangling","heading":"13.4 Relocate","text":"relocate() can used reorder columns dataframe. relocate(), specify column(s) want move, come ...\nArtwork Horst (2022)\ncode moves wt column model column.relocate() can also move multiple columns simultaneously passed vector column names.Move order column positioned vore column.Move sleep_total column positioned sleep_cycle column.Move wt columns positioned genus.\n","code":"\nmtcars2 %>%\n  relocate(wt, .after = model)\nmtcars2 %>%\n  relocate(c(disp, drat), .after = model)"},{"path":"basic-wrangling.html","id":"select","chapter":"13 Basic Wrangling","heading":"13.5 Select","text":", used head() wanted output preview dataframe. many times like want subset data (cutting show subsets – contain exclude specific variables/observations).two primary subsetting functions. first select(), selects returns specified columns (passed vector column names).select(c(columns_of_interest))Just : used generate values range numbers (e.g., 1:4 return: 1,2,3,4), can also use : return values range columns. example:selects cyl column, hp column, columns two!Subset name vore columns.Subset genus order columns.Subset sleep related columns.\nselect() can also used get rid columns want negating vector column names using !.selects rows except cyl gear.Use select() get rid awake column.Get rid columns related animal’s weight.\nspecifically want move variable (variables) front df, easy way using select() instead relocate():everything() function selects… everything! select variables df. first selecting wt variable, everything else. result still variables df, wt front.","code":"\nmtcars2 %>%\n  select(c(cyl, gear))\nmtcars2 %>%\n  select(c(cyl:hp))\nmtcars2 %>%\n  select(!c(cyl, gear))\nmtcars2 %>%\n  select(wt, everything())\n#>     wt          model mpg cyl disp  hp gear\n#> 1 1.94      Fiat X1-9  27   4   79  66    4\n#> 2 2.14  Porsche 914-2  26   4  120  91    5\n#> 3 1.51   Lotus Europa  30   4   95 113    5\n#> 4 3.17 Ford Pantera L  16   8  351 264    5\n#> 5 2.77   Ferrari Dino  20   6  145 175    5\n#> 6 3.57  Maserati Bora  15   8  301 335    5\n#> 7 2.78     Volvo 142E  21   4  121 109    4"},{"path":"basic-wrangling.html","id":"filter","chapter":"13 Basic Wrangling","heading":"13.6 Filter","text":"second primary subsetting function filter(), returns rows meet specified condition(s). condition logical test performed column. results vector TRUE FALSE values, rows test evaluates TRUE returned!\nArtwork Horst (2022)\nsee illustration , rows check mark (logical test resulted TRUE) returned filter() call!filters dataframe return rows gear value 4.evaluative operator can used conditions:filters dataframe return rows gear value 4.values specified tests numbers, can text strings well!filters dataframe return rows model “Lotus Europa”.Multiple conditions can strung together using logical operators:filters dataframe return rows cyl value 4 hp less 100.multiple logical tests strung together get evaluated left right. must mindful order operations using parentheses make sure conditions evaluated intended. example:filter(cyl == 4 | hp < 200 & gear == 5) evaluated :filter(cyl == 4 | (hp < 200 & gear == 5))\n\ndifferent :filter((cyl == 4 | hp < 200) & gear == 5).","code":"\nmtcars2 %>%\n  filter(gear == 4)\nmtcars2 %>%\n  filter(disp > 300)\nmtcars2 %>%\n  filter(model == \"Lotus Europa\")\nmtcars2 %>%\n  filter(cyl != 4 | hp < 100)"},{"path":"basic-wrangling.html","id":"in","chapter":"13 Basic Wrangling","heading":"13.6.1 %in%","text":"Stringing together multiple tests text patterns cumbersome (e.g., model == \"Lotus Europa\" | model == \"Ferrari Dino\" | ...). Fortunately, alternative %% operator. reminder, check see value one variable vector possible values.filters dataframe return rows model “Lotus Europa”, “Ferrari Dino”, “Volvo 142E”.","code":"\nmtcars2 %>%\n  filter(model %in% c(\"Lotus Europa\", \"Ferrari Dino\", \"Volvo 142E\"))"},{"path":"basic-wrangling.html","id":"pattern-matching","chapter":"13 Basic Wrangling","heading":"13.6.2 Pattern Matching","text":"number reasons may times want search exact string match. Rather, want filter based whether value contains certain string. can accomplished grepl(), takes form:grepl(pattern_to_search_for, where_to_search)filters dataframe return rows model contains string “Porsche” value.","code":"\nmtcars2 %>%\n  filter(grepl(\"Porsche\", model))\n#>           model mpg cyl disp hp   wt gear\n#> 1 Porsche 914-2  26   4  120 91 2.14    5"},{"path":"basic-wrangling.html","id":"indexing","chapter":"13 Basic Wrangling","heading":"13.7 Indexing","text":"Indexing dfs introduced previously, often need done throughout pipe chain. two functions help : pull() pluck().","code":""},{"path":"basic-wrangling.html","id":"pull","chapter":"13 Basic Wrangling","heading":"13.7.1 pull()","text":"pull() extract variable df. can done variable’s name numeric position (using name always preferred). pull() like using $ operator index.result vector, variables just vectors! helpful allows result piped number functions require vector rather df. example:using select(), result dataframe one column. trying pass mean(), get NA error:\nWarning message: mean.default(.) : argument numeric logical: returning NA.\nusing pull(), result vector can passed mean() without issue.Index sleep_total variable msleep2.Find mean sleep_total.Subset data include carnivores, index bodywt column, find average value. herbivores. higher average body weight?\n","code":"\nmtcars2 %>%\n  pull(cyl)\n#> [1] 4 4 4 8 6 8 4\nmtcars2 %>% \n  select(cyl) %>% \n  mean()\n#> Warning in mean.default(.): argument is not numeric or\n#> logical: returning NA\n#> [1] NA\nmtcars2 %>%\n  pull(cyl) %>%\n  mean()\n#> [1] 5.428571"},{"path":"basic-wrangling.html","id":"pluck","chapter":"13 Basic Wrangling","heading":"13.7.2 pluck()","text":"pluck() allows index elements object, can also done name numeric position. , cyl column indexed mtcars2. Say wanted 4th observation column:Subset data primates spend 13 hours awake, arrange awake column greatest least, index , 2nd value resulting vector.Using process similar one , write code result value 2nd lowest brain weight omnivores spend less 2 hours rem.\npluck() extremely useful indexing deeply nested data structures. covered course, brief demonstration can consider df nested object. vector 1st level element values within vectors 2nd level elements. get 4th value 3rd vector (previous code string), following:can also done named positions.short, argument pluck() position index. x %>% pluck(2, 2) == x[[2]][[2]]","code":"\nmtcars2 %>%\n  pull(cyl) %>%\n  pluck(4)\n#> [1] 8\nmtcars2 %>%\n  pluck(3,4)\n#> [1] 8\nmtcars2 %>%\n  pluck(\"model\", 2)\n#> [1] \"Porsche 914-2\""},{"path":"basic-wrangling.html","id":"Unique-Entries","chapter":"13 Basic Wrangling","heading":"13.8 Unique Entries","text":"working larger dfs, difficult get sense unique values particular variable may contain. can get using distinct().way works keeping row corresponds first entry unique value particular column. becomes clear using .keep_all argumentTo get number unique values can use n_distinct(), takes vector values input.","code":"\nmtcars2\n#>            model mpg cyl disp  hp   wt gear\n#> 1      Fiat X1-9  27   4   79  66 1.94    4\n#> 2  Porsche 914-2  26   4  120  91 2.14    5\n#> 3   Lotus Europa  30   4   95 113 1.51    5\n#> 4 Ford Pantera L  16   8  351 264 3.17    5\n#> 5   Ferrari Dino  20   6  145 175 2.77    5\n#> 6  Maserati Bora  15   8  301 335 3.57    5\n#> 7     Volvo 142E  21   4  121 109 2.78    4\nmtcars2 %>%\n  distinct(cyl)\n#>   cyl\n#> 1   4\n#> 2   8\n#> 3   6\nmtcars2 %>%\n  distinct(cyl, .keep_all = TRUE)\n#>            model mpg cyl disp  hp   wt gear\n#> 1      Fiat X1-9  27   4   79  66 1.94    4\n#> 2 Ford Pantera L  16   8  351 264 3.17    5\n#> 3   Ferrari Dino  20   6  145 175 2.77    5\nmtcars2 %>%\n  pull(cyl) %>%\n  n_distinct()\n#> [1] 3"},{"path":"basic-wrangling.html","id":"adding-variables","chapter":"13 Basic Wrangling","heading":"13.9 Adding Variables","text":"add new variables dataframe, use mutate() function.\nArtwork Horst (2022)\nmutate() takes form:mutate(\"new_col_name\" = \"content_for_that_column\")new column’s name whatever passed left, contents result R expression assigned . example:creates new variable showing weight observation (car) pounds.Recall variables dataframe vectors. two consequences :new variables must length existing columns dataframe.R expression must return vector, computations vectors can used!\nexample , wt vector. R expression computation vector! value wt vector (column) multiplied 1000. essentially thing seen .\nexample , wt vector. R expression computation vector! value wt vector (column) multiplied 1000. essentially thing seen .Multiple new columns can created simultaneously within mutate() call:addition weight pounds variable, code also creates variable showing cost traveling 1 mile observation (car) considering current price gas.sleep variables measured hours. Create new variable called sleep_total_m measures total minutes sleep.Create new variable represents proportion total sleep spent rem, move column come sleep_rem, filter show observations ratio 0.25 greater, arrange new column greatest least, index bodywt animal highest ratio.\n","code":"\nmtcars2 %>%\n  mutate(wt_lbs = wt * 1000)\n#>            model mpg cyl disp  hp   wt gear wt_lbs\n#> 1      Fiat X1-9  27   4   79  66 1.94    4   1940\n#> 2  Porsche 914-2  26   4  120  91 2.14    5   2140\n#> 3   Lotus Europa  30   4   95 113 1.51    5   1510\n#> 4 Ford Pantera L  16   8  351 264 3.17    5   3170\n#> 5   Ferrari Dino  20   6  145 175 2.77    5   2770\n#> 6  Maserati Bora  15   8  301 335 3.57    5   3570\n#> 7     Volvo 142E  21   4  121 109 2.78    4   2780\nprice_of_gas = 6.25\n\nmtcars2 %>%\n  mutate(cost_per_mile = price_of_gas / mpg,\n         wt_lbs = wt * 1000)\n#>            model mpg cyl disp  hp   wt gear cost_per_mile\n#> 1      Fiat X1-9  27   4   79  66 1.94    4     0.2314815\n#> 2  Porsche 914-2  26   4  120  91 2.14    5     0.2403846\n#> 3   Lotus Europa  30   4   95 113 1.51    5     0.2083333\n#> 4 Ford Pantera L  16   8  351 264 3.17    5     0.3906250\n#> 5   Ferrari Dino  20   6  145 175 2.77    5     0.3125000\n#> 6  Maserati Bora  15   8  301 335 3.57    5     0.4166667\n#> 7     Volvo 142E  21   4  121 109 2.78    4     0.2976190\n#>   wt_lbs\n#> 1   1940\n#> 2   2140\n#> 3   1510\n#> 4   3170\n#> 5   2770\n#> 6   3570\n#> 7   2780"},{"path":"basic-wrangling.html","id":"conditional-values","chapter":"13 Basic Wrangling","heading":"13.9.1 Conditional Values","text":"may want variable value based different conditions. case_when() introduced way string together number ifelse type statements return values. can extremely useful creating new variables!\nArtwork Horst (2022)\ncreates new variable called fuel_efficiency. observation’s value variable depends value mpg, differs based different conditions.simple instances, ifelse() can used:creates new variable called power. observation’s value variable depends value hp. hp greater 200, “High” powered, lower 200 “Low” powered.Find average total sleep animals, use case_when() create new column value “sleepyhead” animal sleep_total higher average, “wide-awake” lower average, “average” exactly average.Use ifelse() create new column just indicating whether animal “higher” “lower” sleep_total average.\n","code":"\nmtcars2 %>%\n  mutate(fuel_efficiency = case_when(\n    mpg <= 19 ~ \"Poor\",\n    mpg >= 20 & mpg <= 25 ~ \"Average\",\n    TRUE ~ \"Great\"\n  ))\n#>            model mpg cyl disp  hp   wt gear fuel_efficiency\n#> 1      Fiat X1-9  27   4   79  66 1.94    4           Great\n#> 2  Porsche 914-2  26   4  120  91 2.14    5           Great\n#> 3   Lotus Europa  30   4   95 113 1.51    5           Great\n#> 4 Ford Pantera L  16   8  351 264 3.17    5            Poor\n#> 5   Ferrari Dino  20   6  145 175 2.77    5         Average\n#> 6  Maserati Bora  15   8  301 335 3.57    5            Poor\n#> 7     Volvo 142E  21   4  121 109 2.78    4         Average\nmtcars2 %>%\n  mutate(power = ifelse(hp >=200, \"High\", \"Low\"))\n#>            model mpg cyl disp  hp   wt gear power\n#> 1      Fiat X1-9  27   4   79  66 1.94    4   Low\n#> 2  Porsche 914-2  26   4  120  91 2.14    5   Low\n#> 3   Lotus Europa  30   4   95 113 1.51    5   Low\n#> 4 Ford Pantera L  16   8  351 264 3.17    5  High\n#> 5   Ferrari Dino  20   6  145 175 2.77    5   Low\n#> 6  Maserati Bora  15   8  301 335 3.57    5  High\n#> 7     Volvo 142E  21   4  121 109 2.78    4   Low"},{"path":"basic-wrangling.html","id":"position","chapter":"13 Basic Wrangling","heading":"13.9.2 Position","text":"default mutate() adds new variable(s) end dataframe. However, can specify existing column want new column appear ...specifies new cost_per_mile variable created mpg.\nNote: ..specifications apply new variables created particular mutate() call. want create multiple new variables added different places dataframe, need separate different mutate() calls.\n","code":"\nprice_of_gas = 6.25\n\nmtcars2 %>%\n  mutate(cost_per_mile = price_of_gas / mpg, .after = \"mpg\")\n#>            model mpg cost_per_mile cyl disp  hp   wt gear\n#> 1      Fiat X1-9  27     0.2314815   4   79  66 1.94    4\n#> 2  Porsche 914-2  26     0.2403846   4  120  91 2.14    5\n#> 3   Lotus Europa  30     0.2083333   4   95 113 1.51    5\n#> 4 Ford Pantera L  16     0.3906250   8  351 264 3.17    5\n#> 5   Ferrari Dino  20     0.3125000   6  145 175 2.77    5\n#> 6  Maserati Bora  15     0.4166667   8  301 335 3.57    5\n#> 7     Volvo 142E  21     0.2976190   4  121 109 2.78    4"},{"path":"basic-wrangling.html","id":"NAs","chapter":"13 Basic Wrangling","heading":"13.9.3 NAs","text":"performing vector computations, mindful NA values data. NA values can cause major issues. example:can see, time NA part computation, results NA. NAs thought contagious. instances, get around utilizing functions like na.omit(), drop_na(), na.rm argument set TRUE.na.omit() remove NAs. used dataframe, remove entire row data NA value column.drop_na() used specifically dataframes, remove entire row data NA value specific column(s) select. pass specific columns, function similarly na.omit() remove entire row NA value column.Use drop_na() remove observations NA.get rid observations NA brainwt.\n","code":"\n4 + NA + 2\n#> [1] NA\nmean(c(4,5,3,NA))\n#> [1] NA\nc(4, 5, 3, NA) %>%\n  na.omit() %>% \n  mean()\n#> [1] 4\nmean(c(4,5,3,NA), na.rm = TRUE)\n#> [1] 4\nex_df = data.frame(A = c(NA, 1, 4), \n           B = c(1, NA, 4), \n           C = c(1,4,5))\nex_df\n#>    A  B C\n#> 1 NA  1 1\n#> 2  1 NA 4\n#> 3  4  4 5\nex_df %>%\n  na.omit()\n#>   A B C\n#> 3 4 4 5\nex_df %>%\n  drop_na()\n#>   A B C\n#> 1 4 4 5\nex_df %>%\n  drop_na(A)\n#>   A  B C\n#> 1 1 NA 4\n#> 2 4  4 5"},{"path":"basic-wrangling.html","id":"Modifying-Existing-Variables","chapter":"13 Basic Wrangling","heading":"13.10 Modifying Existing Variables","text":"mutate() can also used modify existing variables! done passing column name already exists dataframe. example:tweaking code , instead creating new one, existing wt variable modified.\nNote: generally want overwrite variable changing meaningful way (case example ). Instead, create new variable.\n","code":"\nmtcars2 %>%\n  mutate(wt = wt * 1000)\n#>            model mpg cyl disp  hp   wt gear\n#> 1      Fiat X1-9  27   4   79  66 1940    4\n#> 2  Porsche 914-2  26   4  120  91 2140    5\n#> 3   Lotus Europa  30   4   95 113 1510    5\n#> 4 Ford Pantera L  16   8  351 264 3170    5\n#> 5   Ferrari Dino  20   6  145 175 2770    5\n#> 6  Maserati Bora  15   8  301 335 3570    5\n#> 7     Volvo 142E  21   4  121 109 2780    4"},{"path":"basic-wrangling.html","id":"change-variable-types","chapter":"13 Basic Wrangling","heading":"13.10.1 Change Variable Types","text":"One ways appropriate modify variable need change type data contains. R, can change data type using .* function. example, .logical() changes passed values logical. one exception changing something factor, use factor() (.)modifies data mpg column character, data cyl column factor. output piped glimpse() types column displayed.can see output numbers mpg quotes around . Also, labeled “” “”. raw data cyl look unchanged, can see now says “”.mentioned , weight columns measured kg. Change columns contain weight lbs (1kg = ~2.205 lbs). Arrange new body weight column least greatest, index value lightest animal dataset.Change vore column factor instead character, awake column character instead numeric.\n","code":"\nmtcars2 %>%\n  mutate(mpg = as.character(mpg),\n         cyl = factor(cyl)) %>%\n  glimpse()\n#> Rows: 7\n#> Columns: 7\n#> $ model <chr> \"Fiat X1-9\", \"Porsche 914-2\", \"Lotus Europa\"…\n#> $ mpg   <chr> \"27\", \"26\", \"30\", \"16\", \"20\", \"15\", \"21\"\n#> $ cyl   <fct> 4, 4, 4, 8, 6, 8, 4\n#> $ disp  <dbl> 79, 120, 95, 351, 145, 301, 121\n#> $ hp    <dbl> 66, 91, 113, 264, 175, 335, 109\n#> $ wt    <dbl> 1.94, 2.14, 1.51, 3.17, 2.77, 3.57, 2.78\n#> $ gear  <dbl> 4, 5, 5, 5, 5, 5, 4"},{"path":"basic-wrangling.html","id":"factors","chapter":"13 Basic Wrangling","heading":"13.10.2 Factors","text":"Factors important, can little tricky work , get section. Factors categorical data specific order, proxy specific defined range possible values (e.g., Months year).","code":""},{"path":"basic-wrangling.html","id":"factor-conversion","chapter":"13 Basic Wrangling","heading":"13.10.2.1 Factor Conversion","text":"working factors, particularly converting data factor, careful. Consider following:simple dataframe one column data factor values 0 1. Say want change data factor numeric. Simple enough, just apply appropriate .* function (.numeric()).However, observe output :obviously intended. happening mutate() taking level value, 0 level 1 1 level 2. Instead, circumvent issue first converting values character, number:take-home point always double check code intend , especially converting factor!","code":"\ndata.frame(test = factor(c(\"0\", \"1\")))\n#>   test\n#> 1    0\n#> 2    1\ndata.frame(test = factor(c(\"0\", \"1\"))) %>% \n  mutate(test = as.numeric(test))\n#>   test\n#> 1    1\n#> 2    2\ndata.frame(test = factor(c(\"0\", \"1\"))) %>% \n  mutate(test = as.character(test),\n         test = as.numeric(test))\n#>   test\n#> 1    0\n#> 2    1"},{"path":"basic-wrangling.html","id":"reorder-levels","chapter":"13 Basic Wrangling","heading":"13.10.2.2 Reorder Levels","text":"levels factor ordered, may times want change order . One common instances occur visualizations. Consider following:x-axis sensible arrangement, 1. function fact factors happen numbers, 2. particularly aesthetically pleasing looking actual bars. bars inherent ordering may make sense organize . can accomplished using fct_infreq(), reorder levels factor frequency occurrence (highest frequency first).order levels lowest frequency first, can use fct_rev() “reverse frequency”.\nNote: Notice color mapping changing well. bottom graph, blue bar 4 cylinder bar, whereas preceding graph 6 cylinder bar. color mappings correspond factor levels!\ntime creating graphs visualize counts single variable. Instead, visualizing relationship comparison two variables, like graph :reorder levels factor relationship another variable (instead frequency occurrence), can use fct_reorder(). fct_reorder(), must specify factor reorder, variable wish reorder levels .\nNote: fct_reorder() used ggplot call directly fairly particular reordering. unlikely , outside purpose generating specific visualization, want levels cyl ordered based level mpg.Also, can combine fct_reorder() fct_rev() reverse order levels.\n","code":"\nmtcars2 %>%\n  mutate(cyl = factor(cyl)) %>%\n  ggplot(aes(x = cyl, fill = cyl)) +\n    geom_bar(position = \"identity\")\nmtcars2 %>%\n  mutate(cyl = factor(cyl) %>%\n           fct_infreq()) %>%\n  ggplot(aes(x = cyl, fill = cyl)) +\n    geom_bar(position = \"identity\")\nmtcars2 %>%\n  mutate(cyl = factor(cyl) %>%\n           fct_infreq() %>%\n           fct_rev()) %>%\n  ggplot(aes(x = cyl, fill = cyl)) +\n    geom_bar(position = \"identity\")\nmtcars2 %>%\n  mutate(cyl = factor(cyl)) %>%\n  ggplot(aes(y = mpg, x = cyl)) +\n  stat_summary(fun.data = \"mean_se\", geom = \"pointrange\")\nmtcars2 %>%\n  mutate(cyl = factor(cyl)) %>%\n  ggplot(aes(y = mpg, x = fct_reorder(cyl, mpg))) +\n  stat_summary(fun.data = \"mean_se\", geom = \"pointrange\")"},{"path":"basic-wrangling.html","id":"extras-1","chapter":"13 Basic Wrangling","heading":"13.11 Extras","text":"Factors cheatsheet","code":""},{"path":"basic-wrangling.html","id":"references-2","chapter":"13 Basic Wrangling","heading":"13.12 References","text":"","code":""},{"path":"advanced-wrangling.html","id":"advanced-wrangling","chapter":"14 Advanced Wrangling","heading":"14 Advanced Wrangling","text":"Exercise SheetThis dataset used examples throughout, called HELPfull (mosaicData::HELPfull), contains data Health Evaluation Linkage Primary Care study. dataset’s description:“HELP study clinical trial adult inpatients recruited detoxification unit. Patients primary care physician randomized receive multidisciplinary assessment brief motivational intervention usual care, goal linking primary medical care.”data saved variable called dat.dataset massive, even worth using glimpse() preview .contains 788(!!) variables 1472 observations!!! Throughout, done previously, head() call added end code just prevent giant output every block!","code":"\nlibrary(tidyverse) # Load tidyverse packages\nncol(dat)\n#> [1] 788\nnrow(dat)\n#> [1] 1472"},{"path":"advanced-wrangling.html","id":"helper-functions","chapter":"14 Advanced Wrangling","heading":"14.1 Selecting","text":"One first data wrangle tools learned back Lab 2 select().select() introduced previously way return specific columns df. case, TON variables, quite annoying explicitly specify want full name. Luckily, number helper functions can use select() help make selecting variables easier. select variable names want matching based specified criteria.","code":""},{"path":"advanced-wrangling.html","id":"starts_with","chapter":"14 Advanced Wrangling","heading":"14.1.1 starts_with()","text":"starts_with() select variables start specified pattern.","code":"\ndat %>%\n  select(starts_with(\"RAW\")) %>%\n  head()\n#>   RAWPF RAWRP RAWBP RAWGH RAWVT RAWSF RAWRE RAWMH RAW_RE\n#> 1    28     7   9.4  21.4    13     4     4    15     33\n#> 2    28     8  10.0  21.4    19     9     6    23     24\n#> 3    30     8   8.2  22.4    16    10     6    27     15\n#> 4    29     8  10.4  19.0    20    10     6    27     29\n#> 5    21     4   8.1   7.0     9     6     3    13     34\n#> 6    30     8  12.0  18.4    15     9     5    21     35\n#>   RAW_AM RAW_TS RAW_ADS\n#> 1     14     38       5\n#> 2     12     33      NA\n#> 3      8     36      NA\n#> 4     13     37      NA\n#> 5      8     30      26\n#> 6      7     18      NA"},{"path":"advanced-wrangling.html","id":"ends_with","chapter":"14 Advanced Wrangling","heading":"14.1.2 ends_with()","text":"ends_with() select variables end specified pattern.","code":"\ndat %>%\n  select(ends_with(\"ABUSE\")) %>%\n  head()\n#>   PHYABUSE SEXABUSE FAMABUSE STRABUSE ABUSE\n#> 1        1        1        1        1     1\n#> 2       NA       NA       NA       NA    NA\n#> 3       NA       NA       NA       NA    NA\n#> 4       NA       NA       NA       NA    NA\n#> 5        1        0        1        0     1\n#> 6       NA       NA       NA       NA    NA"},{"path":"advanced-wrangling.html","id":"contains","chapter":"14 Advanced Wrangling","heading":"14.1.3 contains()","text":"contains() selects variables name contains specified pattern.also works special characters.","code":"\ndat %>%\n  select(contains(\"RISK\")) %>%\n  head()\n#>   DRUGRISK SEXRISK\n#> 1        0       4\n#> 2        0       1\n#> 3        0       1\n#> 4        0       3\n#> 5        0       7\n#> 6        0       0\ndat %>%\n  select(contains(\"_\")) %>% \n  head()\n#>   NUM_INTERVALS INT_TIME1 DAYS_SINCE_BL INT_TIME2\n#> 1             1  0.000000            NA  6.000000\n#> 2             1  8.033333           241  8.033333\n#> 3             2 15.533333           466  7.500000\n#> 4             1 27.566667           827 12.033333\n#> 5             1  0.000000            NA  6.000000\n#> 6             1  6.366667           191  6.366667\n#>   DAYS_SINCE_PREV PREV_TIME A14G_T A17I_T C3F_T C3K_M\n#> 1              NA        NA                        NA\n#> 2             241         0                        NA\n#> 3             225         6                        NA\n#> 4             361        18                        NA\n#> 5              NA        NA                        NA\n#> 6             191         0   JAIL                 NA\n#>   G1A_30 G1B_30 G1C_30 G1D_30 H1_30 H1_LT H1_RT H2_30 H2_LT\n#> 1      1      1      0      1     5    29     1     5    20\n#> 2     NA     NA     NA      0     0    NA     0     0    NA\n#> 3     NA     NA     NA     NA     0    NA     0     0    NA\n#> 4     NA     NA     NA     NA     8    NA     1     8    NA\n#> 5      1      0     NA     NA    30    26     1    30    26\n#> 6     NA     NA     NA     NA     5    NA     1     5    NA\n#>   H2_RT H3_30 H3_LT H3_RT H4_30 H4_LT H4_RT H5_30 H5_LT\n#> 1     1     0     0     0     0     0     0     0     0\n#> 2     0     0    NA     0     0    NA     0     0    NA\n#> 3     0     0    NA     0     0    NA     0     0    NA\n#> 4     1     0    NA     0     0    NA     0     0    NA\n#> 5     1     0     0     0     0     0     0    15     1\n#> 6     1     0    NA     0     0    NA     0     0    NA\n#>   H5_RT H6_30 H6_LT H6_RT H7_30 H7_LT H7_RT H8_30 H8_LT\n#> 1     0     0     0     0    30     2     1     5    10\n#> 2     0     0    NA     0     0    NA     0     0    NA\n#> 3     0     0    NA     0     0    NA     0     0    NA\n#> 4     0     0    NA     0     0    NA     0     3    NA\n#> 5     1     0     0     0    30     1     1    30    21\n#> 6     0     0    NA     0     0    NA     0     0    NA\n#>   H8_RT H9_30 H9_LT H9_RT H10_30 H10_LT H10_RT H11_30\n#> 1     3     0     0     0      0     12      3      0\n#> 2     0     0    NA     0      0     NA      0      0\n#> 3     0     0    NA     0      0     NA      0      0\n#> 4     3     0    NA     0      0     NA      0      0\n#> 5     3     1     1     1      0      8      3      0\n#> 6     0     0    NA     0      0     NA      0      0\n#>   H11_LT H11_RT H12_30 H12_LT H12_RT H13_30 H13_LT H13_RT\n#> 1      5      3      0      0      0      5     20      3\n#> 2     NA      0      0     NA      0      0     NA      0\n#> 3     NA      0      0     NA      0      0     NA      0\n#> 4     NA      0      0     NA      0      3     NA      3\n#> 5      9      1      0      0      0     30     24      3\n#> 6     NA      0      0     NA      0      0     NA      0\n#>   U2Q_T PCP_ID U7A_T U32D_T E16A_RT E16A_IB E16A_TM E16A_DD\n#> 1           NA           NA       0       0       0       0\n#> 2          108           NA      NA      NA      NA      NA\n#> 3          176           NA      NA      NA      NA      NA\n#> 4           NA           NA      NA      NA      NA      NA\n#> 5           NA           NA       0       0       0       0\n#> 6           71           NA      NA      NA      NA      NA\n#>   PRIM_SUB SECD_SUB COC_HER MD_LANG HS_GRAD MAR_STAT\n#> 1        2        1       1       0       0        0\n#> 2       NA       NA      NA      NA      NA       NA\n#> 3       NA       NA      NA      NA      NA       NA\n#> 4       NA       NA      NA      NA      NA       NA\n#> 5        1        2       1       0       1        1\n#> 6       NA       NA      NA      NA      NA       NA\n#>   A12B_REC JAIL_MOS JAIL_5YR GOV_SUPP A18_REC1 A18_REC2\n#> 1        1        0        0       NA        0    15000\n#> 2       NA       NA       NA        0       NA       NA\n#> 3       NA       NA       NA        0       NA       NA\n#> 4       NA       NA       NA        0       NA       NA\n#> 5        1       49        1        0        0     7500\n#> 6       NA       NA       NA        0       NA       NA\n#>   STD_EVER STD_6M CHR_SUM CHR_EVER EPI_SUM EPI_6M EPI_6M2B\n#> 1        1      0       1        1       1      1        1\n#> 2       NA      0       1       NA       0      0        0\n#> 3       NA      0       0       NA       0      0        0\n#> 4       NA      0       0       NA       1      1        1\n#> 5        0      0       3        1       4      1        1\n#> 6       NA      0       1       NA       0      0        0\n#>   SER_INJ D3_REC D4_REC D5_REC ANY_INS FRML_SAT E10B1_R\n#> 1       0      1      1      1       1        1       1\n#> 2       0      0      0      0       0        0       0\n#> 3       0      1      1      1       0        0       0\n#> 4       0      1      1      1       0        0       0\n#> 5       1      1      0      1       0        0       0\n#> 6       0      1      1      0       0        0       0\n#>   E10B2_R ALT_TRT ANY_UTIL NUM_BARR G1B_REC G1D_REC ALCQ_30\n#> 1       0       0        1        3       1       1      65\n#> 2       1       0        1       NA       0       0       0\n#> 3       1       0        1       NA       0       0       0\n#> 4       0       0        1       NA       0       0      64\n#> 5       0       0        1        3       0       0    1680\n#> 6       0       0        0       NA       0       0      40\n#>   H2_PRB H3_PRB H4_PRB H5_PRB H6_PRB H7_PRB H8_PRB H9_PRB\n#> 1      1      0      0      0      0      1      1      0\n#> 2      0      0      0      0      0      0      0      0\n#> 3      0      0      0      0      0      0      0      0\n#> 4      1      0      0      0      0      0      0      0\n#> 5      1      0      0      1      0      1      1      1\n#> 6      1      0      0      0      0      0      0      0\n#>   H10_PRB H11_PRB H12_PRB O1B_REC O1C_REC O1D_REC O2_REC\n#> 1       1       1       0       1       1       1      0\n#> 2       0       0       0       0       0       1      0\n#> 3       0       0       0       0       0       1      0\n#> 4       0       0       0       1       1       1      0\n#> 5       1       1       0       1       1       0      0\n#> 6       0       0       0       1       1       0      0\n#>   CES_D CESD_CUT      C_MS       C_AU      C_DU CUAD_C\n#> 1    49        1 0.4611111 0.40252703 0.2282051      3\n#> 2     7        0 0.0000000 0.00000000 0.1730769     NA\n#> 3     8        0 0.5722222 0.23055556 0.1064103     NA\n#> 4     5        0 0.4944444 0.51565117 0.1692308     NA\n#> 5    30        1 0.6666667 0.89542261 0.2717949      3\n#> 6    11        0 0.2000000 0.05555556 0.0000000     NA\n#>   CUAD_H RAW_RE DEC_RE RAW_AM DEC_AM RAW_TS DEC_TS RAW_ADS\n#> 1      0     33     50     14     40     38     80       5\n#> 2     NA     24     10     12     30     33     50      NA\n#> 3     NA     15     10      8     10     36     70      NA\n#> 4     NA     29     30     13     30     37     80      NA\n#> 5      0     34     60      8     10     30     30      26\n#> 6     NA     35     70      7     10     18     10      NA\n#>   PSS_FR PSS_FA CHR_6M RCT_LINK REG_MD ANY_VIS\n#> 1      0      0     NA       NA     NA      NA\n#> 2     12     10      1        1      1       1\n#> 3     14      3      0        1      1       1\n#> 4     13      7      0        0      0       0\n#> 5      1      3     NA       NA     NA      NA\n#> 6      2      1      1        0      1       0\n#>   ANY_VIS_CUMUL PC_REC PC_REC7\n#> 1            NA     NA      NA\n#> 2             1      1       1\n#> 3             2      2       2\n#> 4             2      2       2\n#> 5            NA     NA      NA\n#> 6             0      0       0"},{"path":"advanced-wrangling.html","id":"matches","chapter":"14 Advanced Wrangling","heading":"14.1.4 matches()","text":"matches() works similarly contains() uses regular expressions () rather patterns.","code":"\ndat %>%\n  select(matches(\"[[:digit:]]\")) %>%\n  head()\n#>   INT_TIME1 INT_TIME2 A1 A9 A10 A11A A11B A11C A11D A11E\n#> 1  0.000000  6.000000  1  9   1    1    0    1    1    1\n#> 2  8.033333  8.033333 NA NA   2    1    0    1    1    1\n#> 3 15.533333  7.500000 NA NA   1    1    0    1    1    1\n#> 4 27.566667 12.033333 NA NA   4    1    0    1    1    1\n#> 5  0.000000  6.000000  1 12   6    1    0    1    0    1\n#> 6  6.366667  6.366667 NA NA   6    1    0    1    0    1\n#>   A12B A13 A14A A14B A14C A14D A14E A14F A14G A14G_T A15A\n#> 1    6   1    0    1    0    1    0    0    0           0\n#> 2   NA   2    0    1    0    1    0    0    0           0\n#> 3   NA   1    0    1    0    1    0    0    0           0\n#> 4   NA   1    0    1    0    0    0    0    0          90\n#> 5    6   4    1    0    0    0    0    0    0           2\n#> 6   NA   5    0    0    0    0    0    0    1   JAIL    1\n#>   A15B A15C A16A A16B A16C A17A A17B A17C A17D A17E A17F\n#> 1    0    0    0    0    0    0    0    0    0   NA    0\n#> 2    0    0   NA   NA   NA    0    0    0    0    0    0\n#> 3    0    0   NA   NA   NA    0    0    0    0    0    0\n#> 4    0    0   NA   NA   NA    0    0    0    0    0    0\n#> 5    3   12    0    0   49    0    0    0    0    0    0\n#> 6    0  178   NA   NA   NA    0    0    0    0    0    0\n#>   A17G A17H A17I A17I_T A18 B1 B2 B3A B3B B3C B3D B3E B3F\n#> 1    0    0   NA          3  3  3   2   3   3   3   3   2\n#> 2    0    0    0         NA  3  1   2   3   3   2   3   3\n#> 3    0    0    0         NA  2  1   3   3   3   3   3   3\n#> 4    0    0    0         NA  5  4   3   3   3   3   3   3\n#> 5    0    0   NA          2  4  4   1   3   3   1   3   1\n#> 6    0    0    0         NA  3  3   3   3   3   3   3   3\n#>   B3G B3H B3I B3J B4A B4B B4C B4D B5A B5B B5C B6 B7 B8 B9A\n#> 1   3   3   3   3   0   0   0   1   0   1   1  4  2  2   2\n#> 2   3   3   3   3   0   0   0   0   0   0   0  1  1  2   2\n#> 3   3   3   3   3   0   0   0   0   0   0   0  1  3  2   2\n#> 4   2   3   3   3   0   0   0   0   0   0   0  1  2  1   1\n#> 5   1   2   3   3   1   1   1   1   1   1   1  1  4  1   6\n#> 6   3   3   3   3   0   0   0   0   1   0   0  1  1  1   4\n#>   B9B B9C B9D B9E B9F B9G B9H B9I B10 B11A B11B B11C B11D\n#> 1   4   3   5   4   4   3   5   2   2    5    2    5    2\n#> 2   5   5   3   2   5   4   3   5   4    5    2    5    2\n#> 3   6   6   2   4   5   4   2   4   5    5    2    5    2\n#> 4   5   6   3   2   6   4   1   5   5    5    2    5    2\n#> 5   6   2   6   6   3   3   6   4   1    2    5    1    5\n#> 6   6   5   4   3   3   4   3   4   4    5    5    5    2\n#>   C1A C1B C1C C1D C1E C1F C1G C1H C1I C1J C1K C1L C1M C2A1\n#> 1   0   1   0   0   0   0   0   0   0   0   0   0   0    0\n#> 2   0   1   0   0   0   0   0   0   0   0   0   0   0   NA\n#> 3   0   0   0   0   0   0   0   0   0   0   0   0   0   NA\n#> 4   0   0   0   0   0   0   0   0   0   0   0   0   0   NA\n#> 5   0   1   0   0   0   1   1   0   0   0   0   0   0    0\n#> 6   0   0   0   0   0   1   0   0   0   0   0   0   0   NA\n#>   C2A2 C2B1 C2B2 C2C1 C2C2 C2D1 C2D2 C2E1 C2E2 C2F1 C2F2\n#> 1   NA    1    0    0   NA    0   NA    0   NA    0   NA\n#> 2    0   NA    0   NA    0   NA    0   NA    0   NA    0\n#> 3    0   NA    0   NA    0   NA    0   NA    0   NA    0\n#> 4    0   NA    0   NA    0   NA    0   NA    0   NA    0\n#> 5   NA    1    0    0   NA    0   NA    0   NA    0   NA\n#> 6    0   NA    0   NA    0   NA    0   NA    0   NA    0\n#>   C2G1 C2G2 C2H1 C2H2 C2I1 C2I2 C2J1 C2J2 C2K1 C2K2 C2L1\n#> 1    0   NA    0   NA    0   NA    0   NA    0   NA    0\n#> 2   NA    0   NA    0   NA    0   NA    0   NA    0   NA\n#> 3   NA    0   NA    0   NA    0   NA    0   NA    0   NA\n#> 4   NA    0   NA    1   NA    0   NA    0   NA    0   NA\n#> 5    0   NA    0   NA    0   NA    1    1    0   NA    0\n#> 6   NA    0   NA    0   NA    0   NA    0   NA    0   NA\n#>   C2L2 C2M1 C2M2 C2N1 C2N2 C2O1 C2O2 C2P1 C2P2 C2Q1 C2Q2\n#> 1   NA    0   NA    0   NA    1    1    0   NA    0   NA\n#> 2    0   NA    0   NA    0   NA    0   NA    0   NA    0\n#> 3    0   NA    0   NA    0   NA    0   NA    0   NA    0\n#> 4    0   NA    0   NA    0   NA    0   NA    0   NA    0\n#> 5   NA    0   NA    0   NA    1    1    0   NA    1    0\n#> 6    0   NA    0   NA    0   NA    0   NA    0   NA    0\n#>   C2R1 C2R2 C2S1 C2S2 C2T1 C2T2 C2U1 C2U2 C2V1 C2V2 C2W1\n#> 1    0   NA    0   NA    0   NA    0   NA    0   NA    0\n#> 2   NA    0   NA    0   NA    0   NA    0   NA    0   NA\n#> 3   NA    0   NA    0   NA    0   NA    0   NA    0   NA\n#> 4   NA    0   NA    0   NA    0   NA    0   NA    0   NA\n#> 5    0   NA    1    0    1    1    1    1    0   NA    1\n#> 6   NA    0   NA    0   NA    0   NA    0   NA    0   NA\n#>   C2W2 C3A1 C3A2 C3A3 C3B1 C3B2 C3B3 C3C1 C3C2 C3C3 C3D C3E\n#> 1   NA    0   NA   NA    1    2    0    0   NA   NA   0   0\n#> 2    0    0   NA   NA    0   NA   NA    0   NA   NA   0   0\n#> 3    0    0   NA   NA    0   NA   NA    0   NA   NA   0   0\n#> 4    0    0   NA   NA    0   NA   NA    0   NA   NA   0   0\n#> 5    1    0   NA   NA    0   NA   NA    0   NA   NA   0   0\n#> 6    0    0   NA   NA    0   NA   NA    0   NA   NA   0   0\n#>   C3F1 C3F2 C3F3 C3F_T C3G1 C3G2 C3G3 C3G4 C3H1 C3H2 C3H3\n#> 1    0   NA   NA          1    3    0    2   NA   NA   NA\n#> 2    0   NA   NA          0   NA   NA   NA   NA   NA   NA\n#> 3    0   NA   NA          0   NA   NA   NA   NA   NA   NA\n#> 4    0   NA   NA          0   NA   NA   NA   NA   NA   NA\n#> 5    0   NA   NA          1    8    1    2   NA   NA   NA\n#> 6    0   NA   NA          1    1   NA    2   NA   NA   NA\n#>   C3I C3J C3K C3K_M D1 D2 D3 D4 D5 E2A E2B E2C E3A E3B E3C\n#> 1  NA  NA  NA    NA  3  0  4  1  4   0  NA  NA   0  NA  NA\n#> 2  NA  NA  NA    NA NA  0  0  0  0   0  NA  NA   0  NA  NA\n#> 3  NA  NA  NA    NA NA  1 14  1  4   0  NA  NA   0  NA  NA\n#> 4  NA  NA  NA    NA NA  0  7  1  4   0  NA  NA   0  NA  NA\n#> 5  NA  NA  NA    NA 22  1 30  0  4   0  NA  NA   0  NA  NA\n#> 6  NA  NA  NA    NA NA  1  3  2  0   0  NA  NA   0  NA  NA\n#>   E4A E4B E4C E5A E5B E6 E7A E7B E8A1 E8A2 E8A3 E8A4 E9A\n#> 1   0  NA  NA   0  NA  0   1  18    1    0    0    0   1\n#> 2   0  NA  NA   0  NA  0   0  NA    0    0    0    0   1\n#> 3   0  NA  NA   0  NA  0   0  NA    0    0    0    0   1\n#> 4   0  NA  NA   0  NA  0   0  NA    0    0    0    0   1\n#> 5   0  NA  NA   0  NA  0   0  NA    0    1    0    0   0\n#> 6   0  NA  NA   0  NA  0   0  NA    0    0    0    0   1\n#>   E9B E10A E10B1 E10B2 E10C19 E11A E11B E11C E12A E12B E13\n#> 1   3    1    12     0      0    0   NA   NA    0   NA   1\n#> 2   2    1     0     1      0    0   NA   NA    0   NA   0\n#> 3   3    1     0     1      0    0   NA   NA    0   NA   0\n#> 4   5    0    NA    NA     NA    1    1    4    0   NA   0\n#> 5  NA    0    NA    NA     NA    1    1    7    1    1   0\n#> 6   3    0    NA    NA     NA    0   NA   NA    0   NA   0\n#>   E14A E14B E14C E14D E14E E14F E14G E15A E15B E15C1 E15C2\n#> 1    0    0    0    0    0    0    0    0   NA    NA    NA\n#> 2    0    0    0    0    0    0    0   NA   NA    NA    NA\n#> 3    0    0    0    0    0    0    0   NA   NA    NA    NA\n#> 4    0    0    0    0    0    0    0   NA   NA    NA    NA\n#> 5    0    0    0    0    0    0    0    0   NA    NA    NA\n#> 6    0    0    0    0    0    0    0   NA   NA    NA    NA\n#>   E15C3 E15C4 E15C5 E15C6 E15C7 E15C8 E15C9 E15C10 E15C11\n#> 1    NA    NA    NA    NA    NA    NA    NA     NA     NA\n#> 2    NA    NA    NA    NA    NA    NA    NA     NA     NA\n#> 3    NA    NA    NA    NA    NA    NA    NA     NA     NA\n#> 4    NA    NA    NA    NA    NA    NA    NA     NA     NA\n#> 5    NA    NA    NA    NA    NA    NA    NA     NA     NA\n#> 6    NA    NA    NA    NA    NA    NA    NA     NA     NA\n#>   E15C12 E16A1 E16A2 E16A3 E16A4 E16A5 E16A6 E16A7 E16A8\n#> 1     NA     1     0     1     0     1     0     0     0\n#> 2     NA    NA    NA    NA    NA    NA    NA    NA    NA\n#> 3     NA    NA    NA    NA    NA    NA    NA    NA    NA\n#> 4     NA    NA    NA    NA    NA    NA    NA    NA    NA\n#> 5     NA     1     0     0     1     0     0     0     1\n#> 6     NA    NA    NA    NA    NA    NA    NA    NA    NA\n#>   E16A9 E16A10 E16A11 E16A12 E16A13 E18A E18B E18C E18D\n#> 1     0      0      0      0      0   NA   NA   NA   NA\n#> 2    NA     NA     NA     NA     NA    1    0    0    1\n#> 3    NA     NA     NA     NA     NA    0    0    0    0\n#> 4    NA     NA     NA     NA     NA    0    0    0    0\n#> 5     0      0      0      0      0   NA   NA   NA   NA\n#> 6    NA     NA     NA     NA     NA    0    0    0    0\n#>   E18F E18G E18H E18I E18J E18K E18L E18M F1A F1B F1C F1D\n#> 1   NA   NA   NA   NA   NA   NA   NA   NA   3   2   3   0\n#> 2    0    0    0    0    0    0    0    0   0   0   0   3\n#> 3    0    0    0    0    0    0    1    0   0   0   0   3\n#> 4    0    0    0    0    0    0    0    0   3   1   0   3\n#> 5   NA   NA   NA   NA   NA   NA   NA   NA   3   2   0   3\n#> 6    0    1    0    0    0    0    0    1   0   0   0   3\n#>   F1E F1F F1G F1H F1I F1J F1K F1L F1M F1N F1O F1P F1Q F1R\n#> 1   2   3   3   0   2   3   3   0   1   2   2   2   2   3\n#> 2   0   0   0   3   0   1   2   3   2   0   0   3   0   1\n#> 3   2   0   0   3   0   1   2   3   1   0   1   2   0   0\n#> 4   0   0   0   3   0   0   1   3   0   0   0   3   0   0\n#> 5   3   2   0   0   3   0   3   0   0   3   0   0   0   2\n#> 6   0   0   0   2   2   0   1   2   0   3   0   0   0   0\n#>   F1S F1T G1A G1A_30 G1B G1B_30 G1C G1C_30 G1D G1D_30 H1_30\n#> 1   3   2   1      1   1      1   1      0   1      1     5\n#> 2   1   0   0     NA   0     NA   0     NA   1      0     0\n#> 3   0   0   0     NA   0     NA   0     NA   0     NA     0\n#> 4   0   0   0     NA   0     NA   0     NA   0     NA     8\n#> 5   0   0   1      1   1      0   0     NA   0     NA    30\n#> 6   0   0   0     NA   0     NA   0     NA   0     NA     5\n#>   H1_LT H1_RT H2_30 H2_LT H2_RT H3_30 H3_LT H3_RT H4_30\n#> 1    29     1     5    20     1     0     0     0     0\n#> 2    NA     0     0    NA     0     0    NA     0     0\n#> 3    NA     0     0    NA     0     0    NA     0     0\n#> 4    NA     1     8    NA     1     0    NA     0     0\n#> 5    26     1    30    26     1     0     0     0     0\n#> 6    NA     1     5    NA     1     0    NA     0     0\n#>   H4_LT H4_RT H5_30 H5_LT H5_RT H6_30 H6_LT H6_RT H7_30\n#> 1     0     0     0     0     0     0     0     0    30\n#> 2    NA     0     0    NA     0     0    NA     0     0\n#> 3    NA     0     0    NA     0     0    NA     0     0\n#> 4    NA     0     0    NA     0     0    NA     0     0\n#> 5     0     0    15     1     1     0     0     0    30\n#> 6    NA     0     0    NA     0     0    NA     0     0\n#>   H7_LT H7_RT H8_30 H8_LT H8_RT H9_30 H9_LT H9_RT H10_30\n#> 1     2     1     5    10     3     0     0     0      0\n#> 2    NA     0     0    NA     0     0    NA     0      0\n#> 3    NA     0     0    NA     0     0    NA     0      0\n#> 4    NA     0     3    NA     3     0    NA     0      0\n#> 5     1     1    30    21     3     1     1     1      0\n#> 6    NA     0     0    NA     0     0    NA     0      0\n#>   H10_LT H10_RT H11_30 H11_LT H11_RT H12_30 H12_LT H12_RT\n#> 1     12      3      0      5      3      0      0      0\n#> 2     NA      0      0     NA      0      0     NA      0\n#> 3     NA      0      0     NA      0      0     NA      0\n#> 4     NA      0      0     NA      0      0     NA      0\n#> 5      8      3      0      9      1      0      0      0\n#> 6     NA      0      0     NA      0      0     NA      0\n#>   H13_30 H13_LT H13_RT H14 H15A H15B H16A H16B H17A H17B\n#> 1      5     20      3  15    0    0   20  600    5    4\n#> 2      0     NA      0  NA    0    0    0    0    0   30\n#> 3      0     NA      0  NA    0    0    0    0    4    4\n#> 4      3     NA      3  NA    0    0   60  150   15   15\n#> 5     30     24      3  15    0    0  600 2000   30    0\n#> 6      0     NA      0  NA    0    0    0    0    0    0\n#>   H18A H18B H19A H19B I1 I2 I3 I4 I5 I6A I6B I7A I7B  I8 J1\n#> 1    2    2    4    4 13 26 NA NA NA   0   3   0  30 150  1\n#> 2    0    1    0    4 NA NA NA NA NA  NA  NA  NA  NA  NA NA\n#> 3    1    1    4    4 NA NA NA NA NA  NA  NA  NA  NA  NA NA\n#> 4    2    2    4    4  8  8 NA NA NA  NA  NA  NA  NA 120 NA\n#> 5    3    0    3    0 56 62 NA NA NA   3   8  12  NA 500  1\n#> 6    0    0    0    0  8  8 NA NA NA  NA  NA  NA  NA  NA NA\n#>   J2 J3 J4 J5A J5B J6 J7 J8 J9 J10A J10B K1 K2 K3 L1 L2 L3\n#> 1  1  1  0   0  NA NA NA NA NA   NA   NA  1 12  1  2  0  0\n#> 2 NA NA NA  NA  NA NA NA NA NA   NA   NA  1 10  1 NA NA NA\n#> 3 NA NA NA  NA  NA NA NA NA NA   NA   NA  1  8  1 NA NA NA\n#> 4 NA NA NA  NA  NA NA NA NA NA   NA   NA  1 10  1 NA NA NA\n#> 5  0  1  1   0  NA NA NA NA NA   NA   NA  1 20  0  2  0  2\n#> 6 NA NA NA  NA  NA NA NA NA NA   NA   NA  2  1  0 NA NA NA\n#>   L4 L5 L6 L7 L8 L9 L10 L11 L12 L13 L14 L15 L16 L17 L18 L19\n#> 1  0  0  0  0  0  0   0   0   0   0   0   0   1   0   0   0\n#> 2 NA NA NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA\n#> 3 NA NA NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA\n#> 4 NA NA NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA\n#> 5  2  0  0  2  0  1   1   2   2   2   0   1   1   2   1   0\n#> 6 NA NA NA NA NA NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA\n#>   L20 L21 L22 L23 L24 L25 M1 M2 M3 M4 M5 M6 M7 M8 M9 M10\n#> 1   0   0   0   0   1   0  1  1  1  1  1  1  1  1  1   1\n#> 2  NA  NA  NA  NA  NA  NA  0  1  0  0  1  0  0  0  0   0\n#> 3  NA  NA  NA  NA  NA  NA  0  0  0  0  0  0  0  0  0   0\n#> 4  NA  NA  NA  NA  NA  NA  0  0  0  0  3  0  1  2  0   2\n#> 5   0   0   1   2   1   0  1  1  1  1  1  1  1  1  1   1\n#> 6  NA  NA  NA  NA  NA  NA  1  0  0  0  1  0  0  0  0   0\n#>   M11 M12 M13 M14 M15 M16 M17 M18 M19 M20 M21 M22 M23 M24\n#> 1   0   1   1   1   1   1   1   1   1   1   1   1   0   1\n#> 2   0   1   0   0   0   1   0   0   0   0   0   0   0   0\n#> 3   0   0   0   0   0   0   0   0   0   0   0   0   0   0\n#> 4   0   2   2   1   0   3   2   0   0   0   0   1   0   1\n#> 5   1   1   1   1   0   1   1   1   1   1   1   1   1   1\n#> 6   0   0   0   0   1   0   0   1   1   1   1   1   0   0\n#>   M25 M26 M27 M28 M29 M30 M31 M32 M33 M34 M35 M36 M37 M38\n#> 1   0   1   1   1   1   1   1   1   1   1   0   1   1   1\n#> 2   0   0   0   1   0   0   0   0   0   0   0   1   0   0\n#> 3   0   0   0   0   0   0   0   0   0   0   0   0   0   0\n#> 4   0   1   1   3   2   3   2   0   0   0   0   2   2   0\n#> 5   1   1   1   1   1   1   1   1   1   1   1   1   1   1\n#> 6   0   0   0   0   0   0   0   3   3   0   0   0   0   0\n#>   M39 M40 M41 M42 M43 M44 M45 M46 M47 M48 M49 M50 N1A N1B\n#> 1   1   1   0   0   1   1   0   1   1   0   0   1   7   1\n#> 2   0   0   0   0   0   0   0   0   0   0   0   0   1   0\n#> 3   0   0   0   0   0   0   0   0   0   0   0   0   1   0\n#> 4   0   1   0   0   0   0   3   0   0   0   0   0   1   0\n#> 5   1   1   0   1   1   1   0   1   0   1   1   1   0   1\n#> 6   0   0   0   0   0   0   0   0   0   0   0   0   0   1\n#>   N1C N1D N1E N1F N1G N1H N1I N1J N1K N1L N1M N1N N2A N2B\n#> 1   0   0   0   0   0   0   0   1   0   1   0   1   0   0\n#> 2   1   1   1   1   1   1   0   0   0   0   1   0   1   1\n#> 3   1   1   1   1   1   1   1   0   1   0   1   0   1   0\n#> 4   0   1   1   1   1   1   1   0   1   0   1   0   1   0\n#> 5   0   0   0   0   0   0   0   0   0   1   0   1   0   0\n#> 6   0   0   0   0   0   0   0   1   0   0   0   0   0   0\n#>   N2C N2D N2E N2F N2G N2H N2I N2J N2K N2L N2M N2N O1A O1B\n#> 1   1   1   0   0   0   0   0   0   0   0   1   1   2   2\n#> 2   0   0   7   1   1   1   7   1   1   0   1   0   1   1\n#> 3   1   1   0   0   1   1   0   0   0   0   1   1   1   1\n#> 4   0   0   0   1   7   1   1   0   0   0   1   0   2   2\n#> 5   1   0   0   0   0   1   0   0   0   0   0   1   5   5\n#> 6   1   1   0   0   0   0   0   0   0   0   0   1   5   5\n#>   O1C O1D O2 P1A P1B P1C P2A P2B P2C P3 P4 P5A P5B P5C P6A\n#> 1   2   2  0   1   7   1   1  11   0  2  1   1  11   0   1\n#> 2   1   5  0  NA  NA   0  NA  NA   0 NA NA  NA  NA   0  NA\n#> 3   1   5  0  NA  NA   0  NA  NA   0 NA NA  NA  NA   0  NA\n#> 4   2   4  0  NA  NA   0  NA  NA   0 NA NA  NA  NA   0  NA\n#> 5   5   1  2   1   5   0   0  NA  NA  2  1   0  NA  NA   0\n#> 6   4   1  2  NA  NA   0  NA  NA   0 NA NA  NA  NA   0  NA\n#>   P6B P6C P7 P8 Q1A Q1B Q2 Q3 Q4 Q5 Q6 Q7 Q8 Q9 Q10 Q11 Q12\n#> 1  11   0  2  1   1   0  0  0  0  2  0  0  0  0   0   0   1\n#> 2  NA   0 NA NA  NA   0  0  0  0  0  0  0  0  0   0   0   1\n#> 3  NA   0 NA NA  NA   0  0  0  0  0  0  0  0  0   0   0   1\n#> 4  NA   0 NA NA  NA   0  0  0  0  0  0  0  0  0   0   0   2\n#> 5  NA  NA NA NA   1   0  0  0  0  3  0  0  0  0   0   0   1\n#> 6  NA   0 NA NA  NA   0  0  0  0  0  0  0  0  0   0   0   0\n#>   Q13 Q14 Q15 Q16 Q17 Q18 Q19 Q20 R1A R1B R1C R1D R1E R1F\n#> 1   1   0   1   0   1   0   1   4   5   4   5   4   4   3\n#> 2   2   0   0   0   0   0   1   3   1   1   1   1   4   4\n#> 3   2   0   0   0   0   0   1   4   1   2   1   1   5   3\n#> 4   3   0   0   0   0   1   2   4   5   4   5   5   4   4\n#> 5   1   0   0   0   0   3   4   3   5   1   5   4   1   5\n#> 6   0   0   0   0   0   0   4   4   5   1   5   1   2   2\n#>   R1G R1H R1I R1J R1K R1L R1M R1N R1O R1P R1Q R1R R1S S1A\n#> 1   5   5   5   5   3   5   5   5   4   4   4   5   5   1\n#> 2   5   5   5   4   2   5   4   5   4   5   4   5   4   0\n#> 3   1   5   5   1   1   1   5   5   5   2   5   5   5   0\n#> 4   3   4   5   4   1   4   5   5   4   4   4   4   5   0\n#> 5   5   4   4   4   1   5   4   5   5   1   5   4   4   0\n#> 6   5   2   2   5   2   5   2   5   5   2   5   2   2   0\n#>   S1B S1C S1D S1E S1F T1 T1B T1C T2 T2B T2C T3 T3B T3C U1\n#> 1   0   0   0   0   1 NA  NA  NA NA  NA  NA NA  NA  NA NA\n#> 2   0   0   0   0   0  1   1 176  0  NA  NA  0  NA  NA  2\n#> 3   0   0   0   0   0  0  NA  NA  0  NA  NA  0  NA  NA  1\n#> 4   0   0   0   1   0  1  NA 135  0  NA  NA  1  NA 135  1\n#> 5   0   0   0   0   0 NA  NA  NA NA  NA  NA NA  NA  NA NA\n#> 6   0   0   0   0   0  1   1 175  0  NA  NA  0  NA  NA  2\n#>   U2A U2B U2C U2D U2E U2F U2G U2H U2I U2J U2K U2L U2M U2N\n#> 1  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA\n#> 2   1   0   1   0   1   0   0   0   0   1   0   0   1   0\n#> 3   1   0   1   0   0   0   0   0   0   0   0   0   0   0\n#> 4   1   1   1   0   1   0   0   0   0   0   1   0   0   0\n#> 5  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA  NA\n#> 6   0   0   0   0   0   0   0   1   0   0   0   0   0   0\n#>   U2O U2P U2Q U2Q_T U2R U3A U3B U4 U5 U6A U6B U7A U7A_T U8A\n#> 1  NA  NA  NA            NA  NA NA NA  NA  NA  NA        NA\n#> 2   0   0   0         A   0   0  0  1   1  NA   5         0\n#> 3   0   0   0         A   0   0  0  1   1  NA   5         0\n#> 4   0   0   0         A   1   1  0  1   0   0  NA        NA\n#> 5  NA  NA  NA            NA  NA NA NA  NA  NA  NA        NA\n#> 6   0   0   0         H   1   1  1  1  NA  NA   5        NA\n#>   U8B U8C U8D U8E U8F U10A U10B U10C U11 U12 U13 U14 U15A\n#> 1  NA  NA  NA  NA  NA   NA   NA   NA  NA  NA  NA  NA   NA\n#> 2   1  NA  NA  NA  NA    1    1    0   4   3  NA   5    0\n#> 3   1  NA  NA  NA  NA    1    1    0   5   5   3   3    1\n#> 4  NA  NA  NA  NA  NA   NA   NA   NA  NA  NA  NA  NA   NA\n#> 5  NA  NA  NA  NA  NA   NA   NA   NA  NA  NA  NA  NA   NA\n#> 6  NA  NA  NA   4  NA    0    0    0   6   6   5   5    0\n#>   U15B U16A U16B U17 U18A U18B U19 U20 U21A U21B U22A U22B\n#> 1   NA   NA   NA  NA   NA   NA  NA  NA   NA   NA   NA   NA\n#> 2    6    0    4   3   NA   NA   1  NA    5    3    5    4\n#> 3    3    1    1   1    4    3  NA   4    4    6    4    5\n#> 4   NA   NA   NA  NA   NA   NA  NA  NA   NA   NA   NA   NA\n#> 5   NA   NA   NA  NA   NA   NA  NA  NA   NA   NA   NA   NA\n#> 6    5    1    6   3    5    3   2   2    5    6    5    4\n#>   U22C U22D U22E U23 U24A U24B U24C U24D U24E U25A U25B\n#> 1   NA   NA   NA  NA   NA   NA   NA   NA   NA   NA   NA\n#> 2    3    3    4   6    3    5    6    5    6    1    1\n#> 3    5    4    6   6    3    5    5    4    5    1    0\n#> 4   NA   NA   NA  NA   NA   NA   NA   NA   NA   NA   NA\n#> 5   NA   NA   NA  NA   NA   NA   NA   NA   NA   NA   NA\n#> 6    4    5    5   5    5    5    6    5    5    1    1\n#>   U25C U25D U25E U25F U25G U25H U25I U26A U26B U26C U26D\n#> 1   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\n#> 2    0    0    1    1    1    1    1    1    1    0    1\n#> 3    0    0    0    0    0    0    0    1    0    0    0\n#> 4   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\n#> 5   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\n#> 6    0    0    0    0    1    1    0    0    0    0    0\n#>   U26E U26F U26G U26H U26I U27A U27B U27C U27D U27E U27F\n#> 1   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\n#> 2    0    1    0    0    0    3    4    3    4    3    3\n#> 3    0    0    0    0    0    3    4    3    3    3    3\n#> 4   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\n#> 5   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA   NA\n#> 6    0    0    0    0    0    2    3    2    4    2    2\n#>   U27G U28 U29A U29B U29C U29D U30 U31 U32A U32B U32C U32D\n#> 1   NA  NA   NA   NA   NA   NA  NA  NA   NA   NA   NA   NA\n#> 2    3   5    2    2    2    2   4   0   NA   NA   NA   NA\n#> 3    3   5    2    2    3    3   4   0   NA   NA   NA   NA\n#> 4   NA  NA   NA   NA   NA   NA  NA  NA   NA   NA   NA   NA\n#> 5   NA  NA   NA   NA   NA   NA  NA  NA   NA   NA   NA   NA\n#> 6    4  10    5    3    4    5   3   0   NA   NA   NA   NA\n#>   U32D_T U33 U34 U35A U35B U35C U35D U35E U35F U36 U37 U38\n#> 1     NA  NA  NA   NA   NA   NA   NA   NA   NA  NA  NA  NA\n#> 2     NA  NA   0   NA   NA   NA   NA   NA   NA   3  NA   3\n#> 3     NA  NA   0   NA   NA   NA   NA   NA   NA   2   1   5\n#> 4     NA  NA  NA   NA   NA   NA   NA   NA   NA  NA  NA  NA\n#> 5     NA  NA  NA   NA   NA   NA   NA   NA   NA  NA  NA  NA\n#> 6     NA  NA   0   NA   NA   NA   NA   NA   NA   1   2   4\n#>   U39 V1 V2  Z1  Z2 E16A_RT E16A_IB E16A_TM E16A_DD REALM2\n#> 1  NA NA NA  NA  NA       0       0       0       0      2\n#> 2   3  0  0   0  NA      NA      NA      NA      NA     NA\n#> 3   4  1  1   0  NA      NA      NA      NA      NA     NA\n#> 4  NA  0  1 999 999      NA      NA      NA      NA     NA\n#> 5  NA NA NA  NA  NA       0       0       0       0     NA\n#> 6   1  1  1 999 999      NA      NA      NA      NA     NA\n#>   REALM3 RACE2 A12B_REC ALONE6M JAIL_5YR A18_REC1 A18_REC2\n#> 1      3     2        1       0        0        0    15000\n#> 2     NA    NA       NA       0       NA       NA       NA\n#> 3     NA    NA       NA       0       NA       NA       NA\n#> 4     NA    NA       NA       0       NA       NA       NA\n#> 5     NA     1        1       1        1        0     7500\n#> 6     NA    NA       NA       0       NA       NA       NA\n#>   STD_6M EPI_6M EPI_6M2B D3_REC D4_REC D5_REC E10B1_R\n#> 1      0      1        1      1      1      1       1\n#> 2      0      0        0      0      0      0       0\n#> 3      0      0        0      1      1      1       0\n#> 4      0      1        1      1      1      1       0\n#> 5      0      1        1      1      0      1       0\n#> 6      0      0        0      1      1      0       0\n#>   E10B2_R G1B_REC G1D_REC PRIMSUB2 ALCQ_30 H2_PRB H3_PRB\n#> 1       0       1       1        2      65      1      0\n#> 2       1       0       0       NA       0      0      0\n#> 3       1       0       0       NA       0      0      0\n#> 4       0       0       0       NA      64      1      0\n#> 5       0       0       0        1    1680      1      0\n#> 6       0       0       0       NA      40      1      0\n#>   H4_PRB H5_PRB H6_PRB H7_PRB H8_PRB H9_PRB H10_PRB H11_PRB\n#> 1      0      0      0      1      1      0       1       1\n#> 2      0      0      0      0      0      0       0       0\n#> 3      0      0      0      0      0      0       0       0\n#> 4      0      0      0      0      0      0       0       0\n#> 5      0      1      0      1      1      1       1       1\n#> 6      0      0      0      0      0      0       0       0\n#>   H12_PRB O1B_REC O1C_REC O1D_REC O2_REC ABUSE2 ABUSE3\n#> 1       0       1       1       1      0      3      2\n#> 2       0       0       0       1      0     NA     NA\n#> 3       0       0       0       1      0     NA     NA\n#> 4       0       1       1       1      0     NA     NA\n#> 5       0       1       1       0      0      1      1\n#> 6       0       1       1       0      0     NA     NA\n#>   PHYS2 IMPUL2 INDTOT2 CHR_6M PC_REC7\n#> 1     6      8      39     NA      NA\n#> 2     0      1       5      1       1\n#> 3     0      0       0      0       2\n#> 4     7      6      34      0       2\n#> 5     7      9      41     NA      NA\n#> 6     4      5      12      1       0"},{"path":"advanced-wrangling.html","id":"num_range","chapter":"14 Advanced Wrangling","heading":"14.1.5 num_range()","text":"num_range() matches series columns string ending numerical range, e.g., x01, x02, x03.","code":"\ndat %>%\n  select(num_range(\"M\", 1:15)) %>%\n  head()\n#>   M1 M2 M3 M4 M5 M6 M7 M8 M9 M10 M11 M12 M13 M14 M15\n#> 1  1  1  1  1  1  1  1  1  1   1   0   1   1   1   1\n#> 2  0  1  0  0  1  0  0  0  0   0   0   1   0   0   0\n#> 3  0  0  0  0  0  0  0  0  0   0   0   0   0   0   0\n#> 4  0  0  0  0  3  0  1  2  0   2   0   2   2   1   0\n#> 5  1  1  1  1  1  1  1  1  1   1   1   1   1   1   0\n#> 6  1  0  0  0  1  0  0  0  0   0   0   0   0   0   1"},{"path":"advanced-wrangling.html","id":"last_col","chapter":"14 Advanced Wrangling","heading":"14.1.6 last_col()","text":"last_col() selects last column df. can especially helpful paired functions. example, positioning columns mutate relocate:creates new variable last column df, selects last column (now newly created variable).","code":"\ndat %>%\n  mutate(newRow = \"test\", .after = last_col()) %>%\n  select(last_col()) %>%\n  head()\n#>   newRow\n#> 1   test\n#> 2   test\n#> 3   test\n#> 4   test\n#> 5   test\n#> 6   test"},{"path":"advanced-wrangling.html","id":"all_of","chapter":"14 Advanced Wrangling","heading":"14.1.7 all_of()","text":"all_of() matches variable names character vector. names must present, otherwise error thrown. way, all_of() good strict selection needed error wide ranging consequences.","code":"\ndat %>%\n  select(all_of(c(\"DRUGRISK\", \"SEXRISK\"))) %>%\n  head()\n#>   DRUGRISK SEXRISK\n#> 1        0       4\n#> 2        0       1\n#> 3        0       1\n#> 4        0       3\n#> 5        0       7\n#> 6        0       0\ndat %>%\n  select(all_of(c(\"DRUGRISK\", \"DRUGRISK2\"))) %>%\n  head()\n#> Error in `select()`:\n#> ! Can't subset columns that don't exist.\n#> ✖ Column `DRUGRISK2` doesn't exist."},{"path":"advanced-wrangling.html","id":"any_of","chapter":"14 Advanced Wrangling","heading":"14.1.8 any_of()","text":"any_of() works all_of(), except error thrown names exist. return columns input found data ignore ones .any_of() particularly useful removing variables df, since error including variable already exist. way, can used make sure variable truly removed.","code":"\ndat %>%\n  select(any_of(c(\"DRUGRISK\", \"SEXRISK\"))) %>%\n  head()\n#>   DRUGRISK SEXRISK\n#> 1        0       4\n#> 2        0       1\n#> 3        0       1\n#> 4        0       3\n#> 5        0       7\n#> 6        0       0\ndat %>%\n  select(any_of(c(\"DRUGRISK\", \"DRUGRISK2\"))) %>%\n  head()\n#>   DRUGRISK\n#> 1        0\n#> 2        0\n#> 3        0\n#> 4        0\n#> 5        0\n#> 6        0"},{"path":"advanced-wrangling.html","id":"where","chapter":"14 Advanced Wrangling","heading":"14.1.9 where()","text":"() takes function returns variables function returns TRUE. example, say wanted find many quantitative variables df.\nNote: don’t call function including parentheses , just NAME function.\nhood (), just needs function. means can take functions designed spot.long form version code following:define function calls .numeric() inline. slightly condensed version inline defining looks like :can replace function(x) part ~. Note need . x though!inline shorthand really useful allows string multiple functions together using logic statements. example, first select abuse columns, columns numeric mean larger 1.Breaking line line:dat %>% take dat dataframedrop_na(contains(\"ABUSE\")) %>% get rid NA values columns used, mess things otherwise (note can use selection helper functions !).select(contains(\"ABUSE\")) %>% select columns contain “ABUSE”select((~ .numeric(.x) && mean(.x) > 1)) %>% select columns numeric mean greater 1head() show just first 5 observations\nNOTE: looking mean column, output column mean greater 1. Remember, selection helper functions help select certain columns. can just get specific columns want way!\n","code":"\ndat %>%\n  select(where(is.numeric)) %>%\n  ncol()\n#> [1] 782\ndat %>%\n  select(where(function(x) is.numeric(x))) %>%\n  ncol()\n#> [1] 782\ndat %>%\n  select(where(~ is.numeric(.x))) %>%\n  ncol()\n#> [1] 782\ndat %>% \n  drop_na(contains(\"ABUSE\")) %>%\n  select(contains(\"ABUSE\")) %>%\n  select(where(~ is.numeric(.x) && mean(.x) > 1)) %>%\n  head()\n#>   ABUSE2 ABUSE3\n#> 1      3      2\n#> 2      1      1\n#> 3      1      1\n#> 4      3      2\n#> 5      0      0\n#> 6      0      0"},{"path":"advanced-wrangling.html","id":"misc-selecting","chapter":"14 Advanced Wrangling","heading":"14.1.10 Misc Selecting","text":"Logical operators work expected can used create tests multiple helper functions even specified selecting!Selection helper functions can negated !, number columns shown save space, note difference!First look many variables total:see many start “RAW”:see many selecting columns start “RAW”:total number columns decreased exactly number columns start “RAW”!","code":"\ndat %>%\nselect(starts_with(\"RAW\") | starts_with(\"ABUSE\")) %>%\n  head()\n#>   RAWPF RAWRP RAWBP RAWGH RAWVT RAWSF RAWRE RAWMH RAW_RE\n#> 1    28     7   9.4  21.4    13     4     4    15     33\n#> 2    28     8  10.0  21.4    19     9     6    23     24\n#> 3    30     8   8.2  22.4    16    10     6    27     15\n#> 4    29     8  10.4  19.0    20    10     6    27     29\n#> 5    21     4   8.1   7.0     9     6     3    13     34\n#> 6    30     8  12.0  18.4    15     9     5    21     35\n#>   RAW_AM RAW_TS RAW_ADS ABUSE2 ABUSE3 ABUSE\n#> 1     14     38       5      3      2     1\n#> 2     12     33      NA     NA     NA    NA\n#> 3      8     36      NA     NA     NA    NA\n#> 4     13     37      NA     NA     NA    NA\n#> 5      8     30      26      1      1     1\n#> 6      7     18      NA     NA     NA    NA\ndat %>%\n  select(starts_with(\"A\") & ends_with(\"C\")) %>%\n  head()\n#>   A11C A14C A15C A16C A17C A12B_REC\n#> 1    1    0    0    0    0        1\n#> 2    1    0    0   NA    0       NA\n#> 3    1    0    0   NA    0       NA\n#> 4    1    0    0   NA    0       NA\n#> 5    1    0   12   49    0        1\n#> 6    1    0  178   NA    0       NA\ndat %>% \n  ncol()\n#> [1] 788\ndat %>%\n  select(starts_with(\"RAW\")) %>%\n  ncol()\n#> [1] 12\ndat %>%\n  select(!starts_with(\"RAW\")) %>%\n  ncol()\n#> [1] 776"},{"path":"advanced-wrangling.html","id":"filtering","chapter":"14 Advanced Wrangling","heading":"14.2 Filtering","text":"two if_*() functions apply test function selection columns combine results single logical vector (vector TRUE FALSE). Since dealing logical vectors, good filtering!","code":""},{"path":"advanced-wrangling.html","id":"if_any","chapter":"14 Advanced Wrangling","heading":"14.2.1 if_any()","text":"Returns TRUE test evaluates TRUE selected columns.\nNote: save space dim() added . However, without , just output actual rows data like filter call .\nNotice number columns (second value) stays , number rows (first value) differs!break unique syntax :filtering observations columns start “” also contain digit column name score/value greater 75.use case ? Maybe suicidality questionnaire dataset participant responds greater \\(X\\) questions needs contacted emergency intervention. many questions suicidality questionnaire (columns start “” ), way quickly filter people responded greater 75 questions!Filter observations scores variable ends “wt” 35.Filter observations scores variable starts “sleep” less 2.\n","code":"\n# Show the number of rows and columns in the full df\ndim(dat)\n#> [1] 1472  788\n# Show the number of rows and columns for\n# All observations where at least one of the selected\n# Variables has a score above 75:\ndat %>%\n  filter(if_any(starts_with(\"I\") & matches(\"[[:digit:]]\"), ~ . > 75)) %>%\n  dim()\n#> [1] 625 788"},{"path":"advanced-wrangling.html","id":"if_all","chapter":"14 Advanced Wrangling","heading":"14.2.2 if_all()","text":"if_all() similar if_any(), except returns TRUE test evaluates TRUE selected columns.Importantly, functions give error something incorrect (whereas using select() ). Since dealing logical vectors tests, nothing return inherently indicative problem!Look happens try columns know exist (columns start “Y”).","code":"\n# Show the number of rows and columns for\n# the observations where ALL of the selected\n# variables has a score above 75:\ndat %>%\n  filter(if_all(starts_with(\"I\") & matches(\"[[:digit:]]\"), ~ . > 75)) %>%\n  dim()\n#> [1]   0 788\ndat %>%\n  select(starts_with(\"Y\"))\n#> data frame with 0 columns and 1472 rows\ndat %>%\n  filter(if_all(starts_with(\"Y\"), ~ . > 75)) %>%\n  dim()\n#> [1] 1472  788"},{"path":"advanced-wrangling.html","id":"mutating-across","chapter":"14 Advanced Wrangling","heading":"14.3 Mutating across()","text":"mutate() previously used make changes data columns. , specify specific column wanted change wanted . However, utilizing across() function, can instead apply changes multiple columns simultaneously!tidyverse website:“across() makes easy apply transformation multiple columns, allowing use select() semantics (like helper functions) inside”data-masking\" functions like mutate(). R code dplyr verbs generally evaluated per group. Inside across() however, code evaluated combination columns groups!\"example, can apply function/code specific variables:can use helper functions make selections well!can combine () across() mutate conditionally. words, column passes test, function applied values.Consider following scenario: say wanted convert characters factors.First, check columns contain characters:Next, can use across() () change columns characters factors, checking columns factors columns previously characters show .!also can apply multiple functions listing . example:, multiple helper functions can strung together can also negated !.","code":"\ndat %>% \n  mutate(across(c(\"Q2\", \"Q3\"), scale)) %>%\n  select(c(\"Q2\", \"Q3\")) %>%\n  head(10)\n#>            Q2         Q3\n#> 1  -0.3443861 -0.3158289\n#> 2  -0.3443861 -0.3158289\n#> 3  -0.3443861 -0.3158289\n#> 4  -0.3443861 -0.3158289\n#> 5  -0.3443861 -0.3158289\n#> 6  -0.3443861 -0.3158289\n#> 7   2.9017304  5.3304180\n#> 8   2.9017304  3.4483357\n#> 9   2.9017304  5.3304180\n#> 10 -0.3443861 -0.3158289\ndat %>% \n  mutate(across(starts_with(\"Q\"), scale)) %>%\n  select(starts_with(\"Q\")) %>%\n  head(10)\n#>           Q1A       Q1B         Q2         Q3         Q4\n#> 1   1.3247918 -0.471342 -0.3443861 -0.3158289 -0.2700594\n#> 2          NA -0.471342 -0.3443861 -0.3158289 -0.2700594\n#> 3          NA -0.471342 -0.3443861 -0.3158289 -0.2700594\n#> 4          NA -0.471342 -0.3443861 -0.3158289 -0.2700594\n#> 5   1.3247918 -0.471342 -0.3443861 -0.3158289 -0.2700594\n#> 6          NA -0.471342 -0.3443861 -0.3158289 -0.2700594\n#> 7   1.3247918  2.120156  2.9017304  5.3304180  1.4294526\n#> 8          NA  2.120156  2.9017304  3.4483357  4.8284766\n#> 9          NA  2.120156  2.9017304  5.3304180 -0.2700594\n#> 10 -0.7532261 -0.471342 -0.3443861 -0.3158289 -0.2700594\n#>            Q5         Q6         Q7         Q8         Q9\n#> 1   1.3360441 -0.2731168 -0.2964914 -0.2708946 -0.2375393\n#> 2  -0.6042744 -0.2731168 -0.2964914 -0.2708946 -0.2375393\n#> 3  -0.6042744 -0.2731168 -0.2964914 -0.2708946 -0.2375393\n#> 4  -0.6042744 -0.2731168 -0.2964914 -0.2708946 -0.2375393\n#> 5   2.3062033 -0.2731168 -0.2964914 -0.2708946 -0.2375393\n#> 6  -0.6042744 -0.2731168 -0.2964914 -0.2708946 -0.2375393\n#> 7  -0.6042744  4.9244139  4.6259393  5.0979667  5.7418978\n#> 8   0.3658848 -0.2731168  2.9851291 -0.2708946  3.7487521\n#> 9  -0.6042744  4.9244139  4.6259393  5.0979667  5.7418978\n#> 10 -0.6042744 -0.2731168 -0.2964914 -0.2708946 -0.2375393\n#>          Q10        Q11         Q12         Q13        Q14\n#> 1  -0.254792 -0.4785527 -0.08964059 -0.82644783 -0.2859462\n#> 2  -0.254792 -0.4785527 -0.08964059  0.08308206 -0.2859462\n#> 3  -0.254792 -0.4785527 -0.08964059  0.08308206 -0.2859462\n#> 4  -0.254792 -0.4785527  0.90591326  0.99261195 -0.2859462\n#> 5  -0.254792 -0.4785527 -0.08964059 -0.82644783 -0.2859462\n#> 6  -0.254792 -0.4785527 -1.08519445 -1.73597772 -0.2859462\n#> 7  -0.254792 -0.4785527 -0.08964059  0.08308206 -0.2859462\n#> 8  -0.254792 -0.4785527 -0.08964059  0.99261195 -0.2859462\n#> 9  -0.254792 -0.4785527 -0.08964059  0.99261195 -0.2859462\n#> 10 -0.254792  0.8343306 -1.08519445 -0.82644783 -0.2859462\n#>           Q15        Q16        Q17        Q18        Q19\n#> 1   1.7635566 -0.2551342  2.3103690 -1.0111878 -1.0321637\n#> 2  -0.3014748 -0.2551342 -0.2567077 -1.0111878 -1.0321637\n#> 3  -0.3014748 -0.2551342 -0.2567077 -1.0111878 -1.0321637\n#> 4  -0.3014748 -0.2551342 -0.2567077 -0.2398803  0.1071559\n#> 5  -0.3014748 -0.2551342 -0.2567077  1.3027347  2.3857953\n#> 6  -0.3014748 -0.2551342 -0.2567077 -1.0111878  2.3857953\n#> 7  -0.3014748 -0.2551342 -0.2567077 -0.2398803 -1.0321637\n#> 8  -0.3014748 -0.2551342 -0.2567077  0.5314272  0.1071559\n#> 9  -0.3014748 -0.2551342 -0.2567077  1.3027347 -1.0321637\n#> 10 -0.3014748 -0.2551342 -0.2567077  1.3027347 -1.0321637\n#>           Q20\n#> 1   0.8060660\n#> 2  -0.5864035\n#> 3   0.8060660\n#> 4   0.8060660\n#> 5  -0.5864035\n#> 6   0.8060660\n#> 7   0.8060660\n#> 8   0.8060660\n#> 9   0.8060660\n#> 10  0.8060660\ndat %>%\n  select(where(is.character)) %>%\n  glimpse()\n#> Rows: 1,472\n#> Columns: 0\ndat %>% \n  mutate(across(where(is.character), as.factor)) %>%\n  select(where(is.factor)) %>%\n  glimpse()\n#> Rows: 1,472\n#> Columns: 6\n#> $ A14G_T <fct> \"\", \"\", \"\", \"\", \"\", \"JAIL\", \"\", \"JAIL\", \"\",…\n#> $ A17I_T <fct> , , , , , , , , FOOD STAMPS, , , , , , , , …\n#> $ C3F_T  <fct> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\",…\n#> $ U2Q_T  <fct> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"NO NEED TO…\n#> $ U2R    <fct> , A, A, A, , H, , H, Q, , A, H, P, , H, D, …\n#> $ U7A_T  <fct> \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\",…\ndat %>%\n  select(starts_with(\"Z\")) %>%\n  mutate(across(where(is.numeric), list(log, round))) %>%\n  head()\n#>    Z1  Z2     Z1_1 Z1_2     Z2_1 Z2_2\n#> 1  NA  NA       NA   NA       NA   NA\n#> 2   0  NA     -Inf    0       NA   NA\n#> 3   0  NA     -Inf    0       NA   NA\n#> 4 999 999 6.906755  999 6.906755  999\n#> 5  NA  NA       NA   NA       NA   NA\n#> 6 999 999 6.906755  999 6.906755  999"},{"path":"advanced-wrangling.html","id":"regular-expressions","chapter":"14 Advanced Wrangling","heading":"14.4 Regular Expressions","text":"Regular expressions (regex) way select certain kinds characters. want refer class/type character, can select regex.Regular expressions get wrapped brackets. , use , wrap brackets. (.e., need double brackets practice!):[:punct:] - punctuation.[:alpha:] - letters.[:lower:] - lowercase letters.[:upper:] - upperclass letters.[:digit:] - digits.[:xdigit:] - hex digits.[:alnum:] - letters numbers.[:cntrl:] - control characters.[:graph:] - letters, numbers, punctuation.[:print:] - letters, numbers, punctuation, whitespace.[:space:] - space characters (basically equivalent \\s).[:blank:] - space tab.https://dplyr.tidyverse.org/reference/select.html","code":""},{"path":"summarizing-data.html","id":"summarizing-data","chapter":"15 Summarizing Data","heading":"15 Summarizing Data","text":"Exercise SheetOnce wrangled subset data, may want compute summary information data. several quick flexible ways !","code":"\nlibrary(tidyverse) # Load tidyverse packages\nlibrary(palmerpenguins) # Load penguins data"},{"path":"summarizing-data.html","id":"table-and-count","chapter":"15 Summarizing Data","heading":"15.1 Table and Count","text":"R many tools create quick easy summaries descriptive statistics data. saw previously n_distinct() used get number distinct values variable. instead want number instances unique values, can use table() (table output) count() (df/tibble output).","code":"\npenguins %>%\n  pull(species) %>%\n  table()\n#> .\n#>    Adelie Chinstrap    Gentoo \n#>       152        68       124\npenguins %>%\n  count(species)\n#> # A tibble: 3 x 2\n#>   species       n\n#>   <fct>     <int>\n#> 1 Adelie      152\n#> 2 Chinstrap    68\n#> 3 Gentoo      124"},{"path":"summarizing-data.html","id":"proportions","chapter":"15 Summarizing Data","heading":"15.1.1 Proportions","text":"wanted proportions instead counts, several ways get method depends type object working (table vs df).tables, simply add prop.table() pipe chain.dfs, manually compute proportions add new variable.mutate call manually computing proportion unique value species. n column name generated automatically count(). taking number entries unique value dividing total number entries (original dataframe’s species must used length() call!).computing proportions, ’s always important check make sure things correctly. , sum 1:","code":"\npenguins %>%\n  pull(species) %>%\n  table() %>%\n  prop.table()\n#> .\n#>    Adelie Chinstrap    Gentoo \n#> 0.4418605 0.1976744 0.3604651\npenguins %>%\n  count(species) %>%\n  mutate(proportion = n / length(penguins$species))\n#> # A tibble: 3 x 3\n#>   species       n proportion\n#>   <fct>     <int>      <dbl>\n#> 1 Adelie      152      0.442\n#> 2 Chinstrap    68      0.198\n#> 3 Gentoo      124      0.360\npenguins %>%\n  pull(species) %>%\n  table() %>%\n  prop.table() %>%\n  sum()\n#> [1] 1\npenguins %>%\n  count(species) %>%\n  mutate(proportion = n / length(penguins$species)) %>%\n  pull(proportion) %>%\n  sum()\n#> [1] 1"},{"path":"summarizing-data.html","id":"summary","chapter":"15 Summarizing Data","heading":"15.2 Summary","text":"want snapshot data, can use summary() quick quantitative summary variable. summary() works number different data objects R. applied dataframe, summary() give summary statistics variable. categorical variables, give count value. continuous variables, give basic summary statistics.","code":"\nsummary(penguins)\n#>       species          island    bill_length_mm \n#>  Adelie   :152   Biscoe   :168   Min.   :32.10  \n#>  Chinstrap: 68   Dream    :124   1st Qu.:39.23  \n#>  Gentoo   :124   Torgersen: 52   Median :44.45  \n#>                                  Mean   :43.92  \n#>                                  3rd Qu.:48.50  \n#>                                  Max.   :59.60  \n#>                                  NA's   :2      \n#>  bill_depth_mm   flipper_length_mm  body_mass_g  \n#>  Min.   :13.10   Min.   :172.0     Min.   :2700  \n#>  1st Qu.:15.60   1st Qu.:190.0     1st Qu.:3550  \n#>  Median :17.30   Median :197.0     Median :4050  \n#>  Mean   :17.15   Mean   :200.9     Mean   :4202  \n#>  3rd Qu.:18.70   3rd Qu.:213.0     3rd Qu.:4750  \n#>  Max.   :21.50   Max.   :231.0     Max.   :6300  \n#>  NA's   :2       NA's   :2         NA's   :2     \n#>      sex           year     \n#>  female:165   Min.   :2007  \n#>  male  :168   1st Qu.:2007  \n#>  NA's  : 11   Median :2008  \n#>               Mean   :2008  \n#>               3rd Qu.:2009  \n#>               Max.   :2009  \n#> "},{"path":"summarizing-data.html","id":"summarize","chapter":"15 Summarizing Data","heading":"15.3 Summarize","text":"works, little messy. likely want little specific want. get specific summaries data, use summarize() summarise() (equivalent, just depends like spell ). summarize() similar format mutate(), define new variables values computed. summarize() return new dataframe one column name passed , value column result R expression name equal . Consider example uses subset penguins data:, name one column flipper_m, value mean flp_mm variable. Likewise, mass_m column mean mass variable. third variable, ratio, mean(mass / flp_mm). mass flp_mm vectors quotient computed , quotient first value found, second… ith, mean new set numbers taken. come surprise summary designed work summary functions – output single value.verify true:","code":"\npenguins_example\n#> # A tibble: 6 x 3\n#>   species    mass flp_mm\n#>   <fct>     <int>  <int>\n#> 1 Adelie     3750    181\n#> 2 Adelie     3800    186\n#> 3 Chinstrap  3500    192\n#> 4 Chinstrap  3900    196\n#> 5 Gentoo     4500    211\n#> 6 Gentoo     5700    230\npenguins_example %>%\n  summarize(flipper_m = mean(flp_mm),\n            mass_m = mean(mass),\n            ratio = mean(mass / flp_mm))\n#> # A tibble: 1 x 3\n#>   flipper_m mass_m ratio\n#>       <dbl>  <dbl> <dbl>\n#> 1      199.  4192.  20.9\nfirstCol = c(181, 186, 192, 196, 211, 230)\nmean(firstCol)\n#> [1] 199.3333\nsecondCol = c(3750, 3800, 3500, 3900, 4500, 5700)\nmean(secondCol)\n#> [1] 4191.667\nthirdCol = c(3750/181, 3800/186, 3500/192, 3900/196,\n             4500/211, 5700/230)\nmean(thirdCol)\n#> [1] 20.89751"},{"path":"summarizing-data.html","id":"grouping-data","chapter":"15 Summarizing Data","heading":"15.4 Grouping Data","text":"power summarize() comes pairing group_by(). group_by() organizes data subgroups based shared values. Compare output following:two things note . First, two slightly different classes. Applying group_by() converts object grouped df/tibble, basically just denotes data organized subgroups. Second, additional line second output: Groups: species [3], denotes grouping . 3 unique species dataset, line says species value separated group 3 groups. df can grouped single multiple variables.","code":"\npenguins %>%\n  glimpse()\n#> Rows: 344\n#> Columns: 8\n#> $ species           <fct> Adelie, Adelie, Adelie, Adelie, …\n#> $ island            <fct> Torgersen, Torgersen, Torgersen,…\n#> $ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3…\n#> $ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6…\n#> $ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181…\n#> $ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650…\n#> $ sex               <fct> male, female, female, NA, female…\n#> $ year              <int> 2007, 2007, 2007, 2007, 2007, 20…\npenguins %>%\n  class()\n#> [1] \"tbl_df\"     \"tbl\"        \"data.frame\"\npenguins %>%\n  group_by(species) %>%\n  glimpse()\n#> Rows: 344\n#> Columns: 8\n#> Groups: species [3]\n#> $ species           <fct> Adelie, Adelie, Adelie, Adelie, …\n#> $ island            <fct> Torgersen, Torgersen, Torgersen,…\n#> $ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3…\n#> $ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6…\n#> $ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181…\n#> $ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650…\n#> $ sex               <fct> male, female, female, NA, female…\n#> $ year              <int> 2007, 2007, 2007, 2007, 2007, 20…\npenguins %>%\n  group_by(species) %>%\n  class()\n#> [1] \"grouped_df\" \"tbl_df\"     \"tbl\"        \"data.frame\""},{"path":"summarizing-data.html","id":"grouped-summaries","chapter":"15 Summarizing Data","heading":"15.5 Grouped Summaries","text":"group_by() allows perform operations group-wise helps unlock true power summarize(), tells R want analyze data separately according different levels grouping variable specify. following example use subset penguins data:Put different way, summarize() gets passed grouped df, :Treat groups data though distinct data setApply code group individually, resulting separate summary statistics eachCombine results new data frame.can process illustrated figure .\nNote: using summarize(), important remember ungroup() data finished. Otherwise, subsequent functions unintentionally applied individual groups rather entire dataset! relevant using summarize() resulting output new dataframe.\nsummarize() handy functions easily works . example n() give number values vector. particularly useful find number observations different groups:first groups island species within island, finds number observations . output, can see islands observations species. fact, islands contain obsercvations single species!","code":"\npenguins_example %>%\n  group_by(species) %>%\n  summarize(m = mean(flp_mm))#> # A tibble: 3 x 2\n#>   species   Flp_m\n#>   <fct>     <dbl>\n#> 1 Adelie     184.\n#> 2 Chinstrap  194 \n#> 3 Gentoo     220.\npenguins %>%\n  group_by(island, species) %>%\n  summarize(n = n())\n#> `summarise()` has grouped output by 'island'. You can\n#> override using the `.groups` argument.\n#> # A tibble: 5 x 3\n#> # Groups:   island [3]\n#>   island    species       n\n#>   <fct>     <fct>     <int>\n#> 1 Biscoe    Adelie       44\n#> 2 Biscoe    Gentoo      124\n#> 3 Dream     Adelie       56\n#> 4 Dream     Chinstrap    68\n#> 5 Torgersen Adelie       52"},{"path":"summarizing-data.html","id":"using-across-with-summarize","chapter":"15 Summarizing Data","heading":"15.5.1 Using across() with summarize()","text":"lieu manual specification, can use across() within summarize() call make use helper functions introduced previously. allows perform computations several columns ! example, wanted get grouped means bill related variables, instead calling mean(x) individually, like :following:\nNote: Instead using drop_na(), na.rm argument used. accomplish thing.\ncan perform multiple summary functions time passing list rather just function name:another example, say wanted find number unique levels different factors data. done entire dataset:grouping variable:combination group_by(), summarize(), across(), allow quick powerful code relatively short. just lines , able get specific nuanced information dataset!Find average variables start “sleep” every level vore.Find average sd variables end “wt” every level vore.Find number unique values variable character.\n","code":"\npenguins %>%\n  drop_na() %>%\n  group_by(species) %>%\n  summarize(bill_length_mean = mean(bill_length_mm),\n            bill_depth_mean = mean(bill_depth_mm))\n#> # A tibble: 3 x 3\n#>   species   bill_length_mean bill_depth_mean\n#>   <fct>                <dbl>           <dbl>\n#> 1 Adelie                38.8            18.3\n#> 2 Chinstrap             48.8            18.4\n#> 3 Gentoo                47.6            15.0\npenguins %>%\n  group_by(species) %>%\n  summarize(across(starts_with(\"bill\"),\n                   mean, na.rm = TRUE))\n#> # A tibble: 3 x 3\n#>   species   bill_length_mm bill_depth_mm\n#>   <fct>              <dbl>         <dbl>\n#> 1 Adelie              38.8          18.3\n#> 2 Chinstrap           48.8          18.4\n#> 3 Gentoo              47.5          15.0\n# penguins %>%\n#   group_by(species) %>%\n#   summarize(across(starts_with(\"bill\"), ~ mean(.x, na.rm = TRUE)))\n\n# ^Long form of the same thing.\npenguins %>%\n  group_by(island) %>%\n  summarize(across(starts_with(\"bill\"), \n                   list(mean = mean, sd = sd), na.rm = TRUE))\n#> # A tibble: 3 x 5\n#>   island  bill_length_mm_… bill_length_mm_… bill_depth_mm_m…\n#>   <fct>              <dbl>            <dbl>            <dbl>\n#> 1 Biscoe              45.3             4.77             15.9\n#> 2 Dream               44.2             5.95             18.3\n#> 3 Torger…             39.0             3.03             18.4\n#> # … with 1 more variable: bill_depth_mm_sd <dbl>\npenguins %>%\n  drop_na() %>%\n  summarize(across(where(is.factor), n_distinct))\n#> # A tibble: 1 x 3\n#>   species island   sex\n#>     <int>  <int> <int>\n#> 1       3      3     2\npenguins %>% \n  drop_na() %>%\n  group_by(species) %>% \n  summarize(across(where(is.factor), n_distinct))\n#> # A tibble: 3 x 3\n#>   species   island   sex\n#>   <fct>      <int> <int>\n#> 1 Adelie         3     2\n#> 2 Chinstrap      1     2\n#> 3 Gentoo         1     2"},{"path":"summarizing-data.html","id":"extra-resources-2","chapter":"15 Summarizing Data","heading":"15.6 Extra Resources","text":"dplyr documentation row-wise column-wise operationsacross documentationdata wrangling cheatsheethttps://github.com/rstudio/cheatsheets/blob/main/tidyr.pdf","code":""},{"path":"text-cleaning.html","id":"text-cleaning","chapter":"16 Text Cleaning","heading":"16 Text Cleaning","text":"often , working text responses sort character data output, initially difficult work . case dealing qualitative data sometimes even just output data collection means (Qualtrics, Googleforms, etc.). follow common cleaning procedures.","code":""},{"path":"text-cleaning.html","id":"remove-text-from-strings","chapter":"16 Text Cleaning","heading":"16.1 Remove Text From Strings","text":"Say data output included “Response:” response. Obviously, want variable just contain actual response values. can use str_remove_all() remove specified pattern text response. , removing “Response:”.","code":"\nx = \"Response:Apple Juice\"\nx\n#> [1] \"Response:Apple Juice\"\nx = str_remove_all(x, \"Response:\")\nx\n#> [1] \"Apple Juice\""},{"path":"text-cleaning.html","id":"escaping-special-characters","chapter":"16 Text Cleaning","heading":"16.2 Escaping Special Characters","text":"many programming languages, dealing special characters difficult. language trouble deciding trying use character just refer .Consider example :Instead, called “escaping” special character. One way R wrap character brackets.Now raises question want escape bracket? can double forward slash.\nNote: Double forward slash (\\) can used escape special character well, just brackets.\n","code":"\nx = '{Response:\"Apple Juice\"}'\nx\n#> [1] \"{Response:\\\"Apple Juice\\\"}\"\nstr_remove_all(x, '{')\n#> Error in stri_replace_all_regex(string, pattern, fix_replacement(replacement), : Syntax error in regex pattern. (U_REGEX_RULE_SYNTAX, context=`{`)\nx = '{Response:\"Apple Juice\"}'\nx\n#> [1] \"{Response:\\\"Apple Juice\\\"}\"\nstr_remove_all(x, '[{]')\n#> [1] \"Response:\\\"Apple Juice\\\"}\"\nx = '[Response:\"Apple Juice\"]'\nx\n#> [1] \"[Response:\\\"Apple Juice\\\"]\"\nstr_remove_all(x, '\\\\[')\n#> [1] \"Response:\\\"Apple Juice\\\"]\""},{"path":"text-cleaning.html","id":"removing-multiple-strings-at-once","chapter":"16 Text Cleaning","heading":"16.3 Removing Multiple Strings at Once","text":"can remove multiple strings using paste() include characters strings want removed.","code":"\nx = 'Response:{\"Apple Juice\"}'\n\nstr_remove_all(x, paste(c('Response', '[:]', '[{]', '[\"]', '[}]'), collapse='|'))\n#> [1] \"Apple Juice\""},{"path":"text-cleaning.html","id":"removing-the-first-instance","chapter":"16 Text Cleaning","heading":"16.4 Removing the First Instance","text":"Sometimes, want EVERY instance string removed. example , string “Answer” actually part participant’s response. removed!removed things , ’d lose part response! Instead, can just remove first instance string using str_remove()first gets rid text strings removed using str_remove_all() . , deal extra “Response”, str_remove() used, first instance removed.","code":"\nx = 'Response:{\"Apple Juice Response\"}'\n\nstr_remove_all(x, paste(c('Response', '[:]', '[{]', '[\"]', '[}]'), collapse='|'))\n#> [1] \"Apple Juice \"\nx = 'Response:{\"Apple Juice Response\"}'\n\nx = str_remove_all(x, paste(c('[:]', '[{]', '[\"]', '[}]'), collapse='|'))\nx\n#> [1] \"ResponseApple Juice Response\"\nstr_remove(x, \"Response\")\n#> [1] \"Apple Juice Response\""},{"path":"text-cleaning.html","id":"replace-parts-of-a-response","chapter":"16 Text Cleaning","heading":"16.5 Replace Parts of a Response","text":"Sometimes want remove part response also replace something else. Whereas str_remove() function simply remove string, gsub() substitute something else specify!gsub() takes form:gsub(string replace, replace , look)Horst, . (2022). https://github.com/allisonhorst/stats-illustrations/","code":"\nx = \"foo:bar\"\n\nstr_remove(x, \":\") # Not what you want\n#> [1] \"foobar\"\ngsub(\":\", \" \", x) # What we want!\n#> [1] \"foo bar\""}]
