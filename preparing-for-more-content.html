<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 5 Preparing For More Content | PSYC193L</title>
<meta name="author" content="Ethan Hurwitz">
<meta name="description" content="Exercise Sheet In this lesson, we’re going to cover a couple miscellaneous things that will help prepare you for all the content covered in the rest of the course. This is meant to wrap up the...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 5 Preparing For More Content | PSYC193L">
<meta property="og:type" content="book">
<meta property="og:url" content="https://psyc193l.github.io/preparing-for-more-content.html">
<meta property="og:description" content="Exercise Sheet In this lesson, we’re going to cover a couple miscellaneous things that will help prepare you for all the content covered in the rest of the course. This is meant to wrap up the...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 5 Preparing For More Content | PSYC193L">
<meta name="twitter:description" content="Exercise Sheet In this lesson, we’re going to cover a couple miscellaneous things that will help prepare you for all the content covered in the rest of the course. This is meant to wrap up the...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">PSYC193L</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Syllabus</a></li>
<li class="book-part">R Basics</li>
<li><a class="" href="why-use-r.html"><span class="header-section-number">2</span> Why use R?</a></li>
<li><a class="" href="r-coding-basics.html"><span class="header-section-number">3</span> R Coding Basics</a></li>
<li><a class="" href="using-r-effectively.html"><span class="header-section-number">4</span> Using R Effectively</a></li>
<li><a class="active" href="preparing-for-more-content.html"><span class="header-section-number">5</span> Preparing For More Content</a></li>
<li class="book-part">Visualizations</li>
<li><a class="" href="intro-to-ggplot2.html"><span class="header-section-number">6</span> Intro to ggplot2</a></li>
<li><a class="" href="aesthetics.html"><span class="header-section-number">7</span> Aesthetics</a></li>
<li><a class="" href="different-geoms-and-when-to-use-them.html"><span class="header-section-number">8</span> Different Geoms and When To Use Them</a></li>
<li><a class="" href="customization.html"><span class="header-section-number">9</span> Customization</a></li>
<li><a class="" href="color-theory.html"><span class="header-section-number">10</span> Color Theory</a></li>
<li class="book-part">Data Manipulation</li>
<li><a class="" href="control-flow.html"><span class="header-section-number">11</span> Control Flow</a></li>
<li><a class="" href="tidy-data-and-tidyverse.html"><span class="header-section-number">12</span> Tidy Data and Tidyverse</a></li>
<li><a class="" href="basic-wrangling.html"><span class="header-section-number">13</span> Basic Wrangling</a></li>
<li><a class="" href="advanced-wrangling.html"><span class="header-section-number">14</span> Advanced Wrangling</a></li>
<li><a class="" href="summarizing-data.html"><span class="header-section-number">15</span> Summarizing Data</a></li>
<li><a class="" href="text-cleaning.html"><span class="header-section-number">16</span> Text Cleaning</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/psyc193l/psyc193l.github.io">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="preparing-for-more-content" class="section level1">
<h1>
<span class="header-section-number">5</span> Preparing For More Content<a class="anchor" aria-label="anchor" href="#preparing-for-more-content"><i class="fas fa-link"></i></a>
</h1>
<p><a href="Exercise3.Rmd" download>Exercise Sheet</a></p>
<p>In this lesson, we’re going to cover a couple miscellaneous things that will help prepare you for all the content covered in the rest of the course. This is meant to wrap up the basics and background, getting you ready to dive in to the real R coding!</p>
<div id="functions" class="section level2">
<h2>
<span class="header-section-number">5.1</span> Functions<a class="anchor" aria-label="anchor" href="#functions"><i class="fas fa-link"></i></a>
</h2>
<blockquote>
<p>“To understand computations in R, two slogans are helpful:
Everything that exists is an object, and
Everything that happens is a function call.”<br>
- John Chambers, Advanced R, p. 79.</p>
</blockquote>
<p>We have already used a few functions before (<code><a href="https://rdrr.io/r/base/typeof.html">typeof()</a></code>, <code><a href="https://rdrr.io/r/base/class.html">class()</a></code>, <code>here()</code>), but let’s formally introduce them now. Almost everything we do with coding is built around using functions. Functions are variables containing pre-written code which, most often, have a verb name and are always followed by a set of parentheses. The things inside the parentheses, called <strong>arguments</strong>, are what that verb will be applied. When we run:</p>
<p><code>typeof(x = myDF)</code></p>
<p>We were finding what type <code>myDF</code> was. This function had one argument, <code>x</code>, that was given the value “myDF”. Functions expect arguments to be given values. They need something to apply the pre-written code to! Functions that have multiple arguments often have default values, so you only need to set one or a few of them. We’ll see more about this later on.</p>
<p class="text-info">
<strong><u>Note:</u> arguments are separated with a comma and should often be given their own line.</strong>
</p>
<div id="where-do-functions-come-from" class="section level3">
<h3>
<span class="header-section-number">5.1.1</span> Where Do Functions Come From?<a class="anchor" aria-label="anchor" href="#where-do-functions-come-from"><i class="fas fa-link"></i></a>
</h3>
<p>A number of different sources! They are:</p>
<ul>
<li>Available from base R
<ul>
<li>By default, R has many functions (like those we’ve been using)</li>
</ul>
</li>
<li>Defined by you (we won’t talk much about this)</li>
<li>Available from packages you import
<ul>
<li>Packages are collections of data, code, and functions, that other people have created and you install into your R. There are many packages that we will use throughout this course.</li>
</ul>
</li>
</ul>
</div>
<div id="installing-packages" class="section level3">
<h3>
<span class="header-section-number">5.1.2</span> Installing Packages<a class="anchor" aria-label="anchor" href="#installing-packages"><i class="fas fa-link"></i></a>
</h3>
<p>The way you install packages is by using the <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages()</a></code> function! You just include the name of the package in quotes, and that’s it! It is often that case that packages need the code from other packages to work (aka <strong>dependencies</strong>). If a package has dependencies, they will also automatically be installed. This means that when installing a package it will run a lot of scary looking code in your console, and it may look like it is installing a lot of things, but this is totally normal and fine! Most packages are extremely tiny. You can have hundreds of packages installed and it take up less than 1gb of space on your computer! Once a package is installed, you have to actually load it into your R session by using <code><a href="https://rdrr.io/r/base/library.html">library()</a></code>.</p>
<p>Install a new package:</p>
<ul>
<li>
<code>install.packages("tidyverse")</code>
<ul>
<li>do 1x per machine</li>
</ul>
</li>
</ul>
<p>Load an installed package:</p>
<ul>
<li>
<code><a href="http://tidyverse.tidyverse.org">library(tidyverse)</a></code>
<ul>
<li>do 1x per work session</li>
</ul>
</li>
</ul>
<div class="panel panel-success">
<div class="panel-heading">
<strong>EXERCISE #1</strong>
</div>
<div class="panel-body">
Install the packages listed below:
tidyverse, viridis, RColorBrewer, DT, ggExtra, gridExtra, patchwork, reprex, knitr, palmerpenguins, magrittr, markdown, janitor, ggridges
</div>
</div>
</div>
</div>
<div id="pipes" class="section level2">
<h2>
<span class="header-section-number">5.2</span> Pipes<a class="anchor" aria-label="anchor" href="#pipes"><i class="fas fa-link"></i></a>
</h2>
<p><img src="figures/pipe.png"><br><span style="font-size:8.0pt"> This is a reference to René Magritte’s “The Treachery of Images,” which actually is on display at the LAC Museum of Art!</span></p>
<p>One of the more powerful tools in R that we will use is the <code>%&gt;%</code> (pipe) operator.</p>
<p>RStudio Keyboard Shortcuts:</p>
<ul>
<li>OSX: CMD + SHIFT + M</li>
<li>Else: CTRL + SHIFT + M</li>
</ul>
<p><span style="font-size:18.0pt"><u><strong>How Does a Pipe Work?</strong></u></span></p>
<p>Consider the <a href="https://twitter.com/dmi3k/status/1191824875842879489?s=09">following example</a> of making and eating a cake.</p>
<p>There are several things we need to do:</p>
<ul>
<li>Have ingredients</li>
<li>Mix ingredients</li>
<li>Pour mixture into pan</li>
<li>Bake mixture</li>
<li>Let cool</li>
<li>Slice</li>
<li>Eat a piece</li>
</ul>
<p>One thing we might think to do is just go step by step:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mixture</span> <span class="op">=</span> <span class="fu">mix</span><span class="op">(</span><span class="va">ingredients</span><span class="op">)</span>
<span class="va">thing_in_oven</span> <span class="op">=</span> <span class="fu">pour</span><span class="op">(</span><span class="va">mixture</span><span class="op">)</span>
<span class="va">hot_baked_bake</span> <span class="op">=</span> <span class="fu">bake</span><span class="op">(</span><span class="va">thing_in_oven</span><span class="op">)</span>
<span class="va">cooled_baked_cake</span> <span class="op">=</span> <span class="fu">cool</span><span class="op">(</span><span class="va">hot_baked_bake</span><span class="op">)</span>
<span class="va">sliced_cake</span> <span class="op">=</span> <span class="fu">slice</span><span class="op">(</span><span class="va">cooled_baked_cake</span><span class="op">)</span>

<span class="fu">eat</span><span class="op">(</span><span class="va">sliced_cake</span>, <span class="fl">1</span><span class="op">)</span></code></pre></div>
<p>This creates a lot of unnecessary interim step variables that we don’t care about. We won’t use them again and they just clog up our workspace.</p>
<p>If we were to express this process as a set of nested functions, it would look like this:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">eat</span><span class="op">(</span><span class="fu">slice</span><span class="op">(</span><span class="fu">cool</span><span class="op">(</span><span class="fu">bake</span><span class="op">(</span><span class="fu">put</span><span class="op">(</span><span class="fu">pour</span><span class="op">(</span><span class="fu">mix</span><span class="op">(</span><span class="va">ingredients</span><span class="op">)</span>, into <span class="op">=</span> <span class="va">baking_pan</span><span class="op">)</span>, into <span class="op">=</span> <span class="va">oven</span><span class="op">)</span>, time <span class="op">=</span> <span class="fl">30</span><span class="op">)</span>, duration <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>, pieces <span class="op">=</span> <span class="fl">6</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>Nesting a dataframe inside a function is hard to read because it forces you to read the sequence of functions inside out. We have to start in the innermost parentheses, and then work our way out/back.</p>
<p>Even if we were to apply our style and syntax guidelines here:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">eat</span><span class="op">(</span>
  <span class="fu">slice</span><span class="op">(</span>
    <span class="fu">cool</span><span class="op">(</span>
      <span class="fu">bake</span><span class="op">(</span>
        <span class="fu">put</span><span class="op">(</span>
          <span class="fu">pour</span><span class="op">(</span>
            <span class="fu">mix</span><span class="op">(</span><span class="va">ingredients</span><span class="op">)</span>,
            into <span class="op">=</span> <span class="va">baking_pan</span><span class="op">)</span>,
          into <span class="op">=</span> <span class="va">oven</span><span class="op">)</span>,
        time <span class="op">=</span> <span class="fl">30</span><span class="op">)</span>,
      duration <span class="op">=</span> <span class="fl">20</span><span class="op">)</span>,
    pieces <span class="op">=</span> <span class="fl">6</span>,
    <span class="fl">1</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<p>It is still difficult and unnatural to read. If we were to describe this process in words, spoken or written, it would take a totally different form! We would say something like:</p>
<blockquote>
<p>“First we mix our ingredients, then pour the mixture into a baking pan, then put that pan into the oven and bake for 30 minutes. Once that is done, take it and let it cool for 20 minutes, then slice into 6 pieces and eat one of them (or several, if you are me)!”</p>
</blockquote>
<p>It would be so much easier if we could write our code in a form that would match how we actually think about this process. That is precisely what piping with <code>%&gt;%</code> allows us to do! Here is how we write this code with piping:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ingredients</span> <span class="op">%&gt;%</span> 
  <span class="fu">mix</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">pour</span><span class="op">(</span>into <span class="op">=</span> <span class="va">baking_pan</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">put</span><span class="op">(</span>into <span class="op">=</span> <span class="va">oven</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">bake</span><span class="op">(</span>time <span class="op">=</span> <span class="fl">30</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">cool</span><span class="op">(</span>during <span class="op">=</span> <span class="fl">20</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">slice</span><span class="op">(</span>pieces <span class="op">=</span> <span class="fl">6</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">eat</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></code></pre></div>
<p>When you pipe a dataframe into a function, and <em>chain</em> together a number of functions, it let’s you read left to right / up to down. Your code “sentence” starts with a noun instead of a verb. This is much easier to read and write because it takes the same form that we actually think about this process. It is in the chronological order of what we want to be doing.</p>
<p>There are two mantras with pipes:</p>
<ul>
<li>Think of a <code>%&gt;%</code> to mean “and then”</li>
<li>“dataframe first, dataframe once”</li>
</ul>
<p>What the <code>%&gt;%</code> operator is actually doing is taking the result/output of the previous computation (thing on the left or above) and <em>piping</em> it through as input to the next computation. In most cases, these computations will be functions.</p>
<p><code>mix(ingredients)</code> is equivalent to <code>ingredients %&gt;% mix()</code></p>
<div id="dos-and-donts" class="section level3">
<h3>
<span class="header-section-number">5.2.1</span> Do’s and Dont’s<a class="anchor" aria-label="anchor" href="#dos-and-donts"><i class="fas fa-link"></i></a>
</h3>
<p><strong><u>DO:</u></strong></p>
<ul>
<li>Apply all the same style/syntax guidelines
<ul>
<li>Space before and after a <code>%&gt;%</code>
</li>
<li>Each new step on its own line</li>
<li>Indent each subsequent line in a chain</li>
<li>Etc.</li>
</ul>
</li>
</ul>
<p><strong><u>DON’T:</u></strong></p>
<p>Use a pipe when…</p>
<ul>
<li>More than one object needs to be manipulated.
<ul>
<li>Pipes should only be used when a chain of steps is applied to one object.</li>
</ul>
</li>
<li>There are intermediate objects you need to use which could be given an informative name.</li>
</ul>
<div class="panel panel-success">
<div class="panel-heading">
<strong>EXERCISE #2</strong>
</div>
<div class="panel-body">
Rewrite the following code as properly formatted pipe chains.
</div>
</div>
</div>
<div id="pipe-positions" class="section level3">
<h3>
<span class="header-section-number">5.2.2</span> Pipe Positions<a class="anchor" aria-label="anchor" href="#pipe-positions"><i class="fas fa-link"></i></a>
</h3>
<p>When you pipe something in to a function, it is input as the first element by default.</p>
<p><code>a %&gt;% sum(b)</code> is equivalent to <code>sum(a, b)</code></p>
<p>We can specify which argument (or what position in the function) the piped input should be given to with the <code>.</code> operator. The <code>.</code> operator can be used to refer to the object/dataframe in it’s current state in the pipe chain. In other words, the <code>.</code> refers to what is being piped in to the current function.</p>
<p>Let’s look at an example using the <code>seq(from, to)</code> function, which has two arguments (<em>from</em> and <em>to</em>). <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code> will generate a sequence of numbers with a range of the <em>from</em> value until the <em>to</em> value (it was very hard avoiding the use of the words “from” and “to” here). We know that, by default, what is piped in will be input as the first element.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">a</span> <span class="op">=</span> <span class="fl">1</span>
<span class="va">b</span> <span class="op">=</span> <span class="fl">5</span>
<span class="va">b</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="va">a</span><span class="op">)</span>
<span class="co">#&gt; [1] 5 4 3 2 1</span></code></pre></div>
<p>Above, when we pipe in <code>b</code>, it get’s set as the first argument and the result is a descending sequence. However, if we explicitly told <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code> where we wanted the piped input to go using <code>.</code>, we could get the expected ascending sequence:</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">b</span> <span class="op">%&gt;%</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="va">a</span>, 
          to <span class="op">=</span> <span class="va">.</span><span class="op">)</span>
<span class="co">#&gt; [1] 1 2 3 4 5</span></code></pre></div>
<!-- ## COMMON CODE BUGS -->
</div>
</div>
<div id="reprex" class="section level2">
<h2>
<span class="header-section-number">5.3</span> REPREX<a class="anchor" aria-label="anchor" href="#reprex"><i class="fas fa-link"></i></a>
</h2>
<p>The last thing you need to truly be prepared for the forthcoming material is to know how to get help. That is, how to help me best help you! If you are running into an error or your code is not working the way you want or expected, the best way to get help is by preparing a “minimal <u><strong>repr</strong></u>oducible <u><strong>ex</strong></u>ample”.</p>
<img src="figures/reprex.png" style="width:100.0%"><p style="font-size:6pt">
Artwork by <span class="citation">Horst (2022)</span>
</p>
<blockquote>
<p>“The goal of a reprex is to package your problematic code in such a way that other people can run it and feel your pain. Then, hopefully, they can provide a solution and put you out of your misery.”<br>
- tidyverse documentation</p>
</blockquote>
<div id="how-to-create" class="section level3">
<h3>
<span class="header-section-number">5.3.1</span> How To Create<a class="anchor" aria-label="anchor" href="#how-to-create"><i class="fas fa-link"></i></a>
</h3>
<p>You create a reprex by copying some code to your clipboard (cmd/ctrl+C), and then running the <code>reprex()</code> function in your console (after loading the <code>reprex</code> library with <code><a href="https://reprex.tidyverse.org">library(reprex)</a></code>). This will do two things:</p>
<ol style="list-style-type: decimal">
<li>Generate a preview of your reprex</li>
<li>Copy the reprex to your clipboard for you to paste anywhere! (i.e., a discord DM/message, email, etc.)</li>
</ol>
</div>
<div id="creating-good-reprex" class="section level3">
<h3>
<span class="header-section-number">5.3.2</span> Creating Good Reprex<a class="anchor" aria-label="anchor" href="#creating-good-reprex"><i class="fas fa-link"></i></a>
</h3>
<p>There are several things you must do, consider, and apply, to creating a good reprex.</p>
<div id="reproducible" class="section level4">
<h4>
<span class="header-section-number">5.3.2.1</span> Reproducible<a class="anchor" aria-label="anchor" href="#reproducible"><i class="fas fa-link"></i></a>
</h4>
<p>To make a reprex, your code must be reproducible. This means that your reprex code must include any <code><a href="https://rdrr.io/r/base/library.html">library()</a></code> calls, and that you should ideally use one of R’s built in datasets (to guarantee it will work for anyone else).</p>
<p>A few good options include:</p>
<ul>
<li>iris</li>
<li>diamonds</li>
<li>mtcars</li>
<li>airquality</li>
<li>ChickWeight</li>
<li>ToothGrowth</li>
<li>PlantGrowth</li>
</ul>
</div>
<div id="minimal" class="section level4">
<h4>
<span class="header-section-number">5.3.2.2</span> Minimal<a class="anchor" aria-label="anchor" href="#minimal"><i class="fas fa-link"></i></a>
</h4>
<p>Your reprex code should be as simple and minimal as possible. Only include things on a “need to run” basis. If something is not <strong>directly</strong> related to the problem you are facing, delete it and don’t include it! This often means that your reprex will be using a much smaller and simpler R object, using a different dataset, than what you encountered in your actual coding.</p>
</div>
<div id="legible" class="section level4">
<h4>
<span class="header-section-number">5.3.2.3</span> Legible<a class="anchor" aria-label="anchor" href="#legible"><i class="fas fa-link"></i></a>
</h4>
<p>Your reprex code should still incorporate all the same style and syntax guidelines that you otherwise would in your code.</p>
<p>More guidelines can be found on the reprex <a href="https://reprex.tidyverse.org/articles/reprex-dos-and-donts.html">website</a> and <a href="https://www.tidyverse.org/help/">here</a>.</p>
</div>
<div id="man-this-is-a-lot-of-work" class="section level4">
<h4>
<span class="header-section-number">5.3.2.4</span> Man, This is a Lot of Work!<a class="anchor" aria-label="anchor" href="#man-this-is-a-lot-of-work"><i class="fas fa-link"></i></a>
</h4>
<p>Yes, this is definitely true, and creating a good reprex is a skill in itself! You may be thinking, <em>"Okay but is it really worth it to go through all that effort when I’m <b><u>already</u></b> struggling?</em></p>
<p>The answer is definitely yes! There are two compelling reasons:</p>
<ol style="list-style-type: decimal">
<li>Most of the time, in the process of creating a good reprex, you’ll reveal the source of the error and solve your own problem.</li>
<li>In the instances where that doesn’t happen, you’ve made it a lot easier to get help and increase the likelihood of solving your issue!</li>
</ol>
</div>
</div>
</div>
<div id="data-importing-and-exporting" class="section level2">
<h2>
<span class="header-section-number">5.4</span> Data Importing and Exporting<a class="anchor" aria-label="anchor" href="#data-importing-and-exporting"><i class="fas fa-link"></i></a>
</h2>
<p>While the built in datasets that R comes with can be very helpful, the whole point of learning R is to use it for our own needs. So we need some ways to get our raw data into R, and the products of our code out of R.</p>
<div id="importing" class="section level3">
<h3>
<span class="header-section-number">5.4.1</span> Importing<a class="anchor" aria-label="anchor" href="#importing"><i class="fas fa-link"></i></a>
</h3>
<p>We are most often going to work with csv’s and .RData files. You can work with a number of other file types in R, but that will be beyond the scope of this class.</p>
<div id="csv-files" class="section level4">
<h4>
<span class="header-section-number">5.4.1.1</span> csv Files<a class="anchor" aria-label="anchor" href="#csv-files"><i class="fas fa-link"></i></a>
</h4>
<p>You will use the <code>read_csv()</code> function to load a dataset into R. This function takes a file as its argument. How does R know where to look for the file? We need to give it the right file path, and this is where the <code>here()</code> function we talked about previously will be applied!</p>
<p>Recall in the previous lesson when we were considering the structure of our project directories. We talked about a situation where we had a data file called <strong>“dataset.csv”</strong> and it was in a folder called <strong>“data”</strong>. We tell <code>read_csv()</code> where to look by giving it the same <code>here()</code> call we used before!</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">here</span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"dataset.csv"</span><span class="op">)</span>
<span class="co">#&gt; "/Users/ethan/Documents/Psyc193L/data/dataset.csv"</span>

<span class="va">example_df</span> <span class="op">=</span> <span class="fu">read_csv</span><span class="op">(</span><span class="fu">here</span><span class="op">(</span><span class="st">"data"</span>, <span class="st">"dataset.csv"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p>If we did not save the output from <code>read_csv()</code> to a variable, it would just print it out in our console. We need a variable to <em>get</em> the output so we can use it later in our other code. We do this by saving it to a variable.</p>
<p>As an additional point, you can also directly load files from websites by using the website as the file path. Remember, a file path is just a map to tell your computer where to look for something. The file path just needs to lead <code>read_csv()</code> to a .csv file!</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">example_df</span> <span class="op">=</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"https://www.ethanhurwitz.com/example_data.csv"</span><span class="op">)</span></code></pre></div>
</div>
<div id="rdata-files" class="section level4">
<h4>
<span class="header-section-number">5.4.1.2</span> RData Files<a class="anchor" aria-label="anchor" href="#rdata-files"><i class="fas fa-link"></i></a>
</h4>
<p>The other type of file we may want to import is an .RData file. These directly load R objects into your workspace. Instead of using <code>read_csv()</code>, we just use <code><a href="https://rdrr.io/r/base/load.html">load()</a></code> and pass it the file path to a .RData file!</p>
<p>Since .RData files already contain R objects, we do not have to save this to a variable. It’s just loading variables that already exist!</p>
<div class="panel panel-success">
<div class="panel-heading">
<strong>EXERCISE #3</strong>
</div>
<div class="panel-body">
Download the files for today’s class that came with the assignment and move them into your project directory you created last time. Using <code>here()</code> import both the .csv and .RData files. Copy/paste their file path in the cell below this question on your worksheet!
</div>
</div>
</div>
</div>
<div id="exporting" class="section level3">
<h3>
<span class="header-section-number">5.4.2</span> Exporting<a class="anchor" aria-label="anchor" href="#exporting"><i class="fas fa-link"></i></a>
</h3>
<p>While the goal of using R code is to make your tasks easily reproducible, there are instances where you may want to directly save and export something. For example, you may want to use some data with other software. In these instances, we can easy export the file with <code>write_csv()</code>, which takes the form: <code>write_csv(object_to_be_saved, file = "file_name.csv")</code>. This will create a new .csv file of your dataframe/object in your working directory.</p>
<p>Alternatively, you may have run some code that takes a <strong>V.F.L.T.</strong> <b>(Very, <em>Frankly</em>, Long Time)</b> to run. Somewhere down the road you may be executing complicated models that can take hours or even days to run! You may not want to have to rerun this code consecutively each time you revisit that project. To avoid doing so, you can save R data object that you can easily load in to R.</p>
<p>You do so using the <code><a href="https://rdrr.io/r/base/save.html">save()</a></code> function, which takes a similar form of <code>save(object_to_be_saved, file = "fil_name.rdata")</code>.</p>
<div class="panel panel-success">
<div class="panel-heading">
<strong>EXERCISE #4</strong>
</div>
<div class="panel-body">
Open up your exercises from the 3rd class. Export your dataframe as a .csv file called “my_dataframe.csv”. Export your dataframe and all the variables you saved to an .RData file called “my_data.RData”.
</div>
</div>

</div>
</div>
</div>



  <div class="chapter-nav">
<div class="prev"><a href="using-r-effectively.html"><span class="header-section-number">4</span> Using R Effectively</a></div>
<div class="next"><a href="intro-to-ggplot2.html"><span class="header-section-number">6</span> Intro to ggplot2</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#preparing-for-more-content"><span class="header-section-number">5</span> Preparing For More Content</a></li>
<li>
<a class="nav-link" href="#functions"><span class="header-section-number">5.1</span> Functions</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#where-do-functions-come-from"><span class="header-section-number">5.1.1</span> Where Do Functions Come From?</a></li>
<li><a class="nav-link" href="#installing-packages"><span class="header-section-number">5.1.2</span> Installing Packages</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#pipes"><span class="header-section-number">5.2</span> Pipes</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#dos-and-donts"><span class="header-section-number">5.2.1</span> Do’s and Dont’s</a></li>
<li><a class="nav-link" href="#pipe-positions"><span class="header-section-number">5.2.2</span> Pipe Positions</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#reprex"><span class="header-section-number">5.3</span> REPREX</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#how-to-create"><span class="header-section-number">5.3.1</span> How To Create</a></li>
<li><a class="nav-link" href="#creating-good-reprex"><span class="header-section-number">5.3.2</span> Creating Good Reprex</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#data-importing-and-exporting"><span class="header-section-number">5.4</span> Data Importing and Exporting</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#importing"><span class="header-section-number">5.4.1</span> Importing</a></li>
<li><a class="nav-link" href="#exporting"><span class="header-section-number">5.4.2</span> Exporting</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/psyc193l/psyc193l.github.io/blob/master/RBasics4.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/psyc193l/psyc193l.github.io/edit/master/RBasics4.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>PSYC193L</strong>" was written by Ethan Hurwitz. It was last built on 2022-06-06.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
